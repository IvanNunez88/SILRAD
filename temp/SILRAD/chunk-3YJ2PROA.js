import{a as he,b as re,c as Ot,e as Nt,f as N,g as ae,h as ue,i as Ue,j as I,k as Ri}from"./chunk-OPQLOVZ4.js";import{c as Y}from"./chunk-J3ZYOTDT.js";import{c as G,d as k,e as B,g as jt,h as Ut}from"./chunk-5DLWIFAS.js";import"./chunk-H2535SB6.js";import"./chunk-55H7SUFI.js";import"./chunk-CVNKKEGM.js";import{a as Ce}from"./chunk-PPLFRQ5R.js";import"./chunk-SNM4JVNU.js";import{a as Le,c as V}from"./chunk-S34ONH4R.js";import{c as oi}from"./chunk-2U4KKCEL.js";import"./chunk-D22OBTVY.js";import"./chunk-4MAOUNG3.js";import"./chunk-ASOJ4XJP.js";import"./chunk-PFLELUVC.js";import{a as ai}from"./chunk-B4RYHQ3B.js";import{a as De}from"./chunk-IE2TGOFP.js";import"./chunk-R7Z5NIAI.js";import"./chunk-OH5OKTRU.js";import"./chunk-IK7CUKD5.js";import{e as qe}from"./chunk-IGJBMAMA.js";import"./chunk-CQRLVYBF.js";import{b as te}from"./chunk-HIXVVFII.js";import{f as H}from"./chunk-YBZ7HAKX.js";import{b as oe,c as w,e as D,f as P,g as Lt,h as F,j as A,k as L,l as q,o as T,q as X,s as K}from"./chunk-D6ZGY7EW.js";import{b as ne}from"./chunk-UWTZM54K.js";import"./chunk-NS6NCTFV.js";import{c as Vt,d as R}from"./chunk-6PPFOR23.js";import"./chunk-PPJKRKQJ.js";import{g as qt}from"./chunk-HWEWO7NO.js";import"./chunk-S35HUXPS.js";import{ia as de,ma as M}from"./chunk-UVTSTIH3.js";import{$b as me,Ab as xt,Bb as wt,Db as _,Fb as f,Gb as h,Jb as U,Mb as gt,Nb as vt,Ob as bt,Pc as Ae,Qa as c,Qc as be,Rb as $,Sb as s,T as J,Tb as S,Tc as ri,Ub as di,Uc as Ft,Va as p,Vc as At,Wb as Rt,Wc as Ve,Xb as It,Y as ie,Yb as Mt,_b as y,ab as x,d as n,da as v,ea as b,gb as E,ic as Fe,kc as Tt,mc as Dt,nc as Ne,ob as d,oc as g,pb as le,rb as j,sc as Pt,xb as t,yb as r,zb as l}from"./chunk-UUVLSZQE.js";var Ie=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Pais/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idPais:0,pais:e.pais,siglas:e.siglas}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idPais:e.idPais,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,siglas:e.siglas}})}listaCatPais(){return this.http.get(`${this.urlApi}ListaCatPais`)}listaPais(){return this.http.get(`${this.urlApi}ListaPais`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var xe=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Cliente/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idUsuario:e.idUsuario,descrip:e.descrip,rfc:e.rfc,idPais:e.idPais,estado:e.estado,municipio:e.municipio,calleDir:e.calleDir,colDir:e.colDir,cp:e.cp,diasCredito:e.diasCredito}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idCliente:e.idCliente,idUsuario:e.idUsuario,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,rfc:e.rfc,idPais:e.idPais,estado:e.estado,municipio:e.municipio,calleDir:e.calleDir,colDir:e.colDir,cp:e.cp,diasCredito:e.diasCredito,isActivo:e.isActivo}})}listaCliente(){return this.http.get(`${this.urlApi}ListaCliente`)}listaCatCliente(){return this.http.get(`${this.urlApi}ListaCatCliente`)}listaCatClienteByUsuario(e){return this.http.get(`${this.urlApi}ListaCatClienteByUsuario/${e}`)}listaConsulClienteMoneda(e){return this.http.get(`${this.urlApi}ListaConsulClienteMoneda/${e}`)}guardarMoneda(e){return this.http.request("post",`${this.urlApi}GuardarMoneda`,{body:{idCliente:e.idCliente,idMoneda:e.idMoneda}})}borrarMoneda(e,i){return this.http.delete(`${this.urlApi}BorrarMoneda/${e}/${i}`)}listaConsulClienteEmpresa(e){return this.http.get(`${this.urlApi}ListaConsulClienteEmpresa/${e}`)}guardarEmpresa(e){return this.http.request("post",`${this.urlApi}GuardarEmpresa`,{body:{idCliente:e.idCliente,idEmpresa:e.idEmpresa}})}borrarEmpresa(e,i){return this.http.delete(`${this.urlApi}BorrarEmpresa/${e}/${i}`)}listaConsulClienteDocumento(e){return this.http.get(`${this.urlApi}ListaConsulClienteDocumento/${e}`)}guardarDocumento(e){return this.http.request("post",`${this.urlApi}GuardarDocumento`,{body:{idCliente:e.idCliente,idTipoServicio:e.idTipoServicio,idDocumento:e.idDocumento}})}borrarDocumento(e,i,a){return this.http.delete(`${this.urlApi}BorrarDocumento/${e}/${i}/${a}`)}guardarDireccion(e){return this.http.request("post",`${this.urlApi}GuardarDireccion`,{body:{idSolicitud:e.idSolicitud,isOrigen:e.isOrigen,calle:e.calle,colonia:e.colonia,idMunicipio:e.idMunicipio,cp:e.cp,contacto:e.contacto,almacen:e.almacen}})}actualizarDireccion(e){return this.http.request("put",`${this.urlApi}ActualizarDireccion`,{body:{idSolicitud:e.idSolicitud,isOrigen:e.isOrigen,calle:e.calle,colonia:e.colonia,idMunicipio:e.idMunicipio,cp:e.cp,contacto:e.contacto,almacen:e.almacen}})}borrarDireccion(e){return this.http.request("delete",`${this.urlApi}BorrarDireccion`,{body:{idSolicitud:e.idSolicitud,isOrigen:e.isOrigen,almacen:e.almacen}})}listaConsulClienteDireccion(e,i){return this.http.get(`${this.urlApi}ListaConsulClienteDireccion/${e}/${i}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Jt=o=>({margin:o});function Wt(o,e){o&1&&(t(0,"div",17),l(1,"p-toggleswitch",18),t(2,"label",19),s(3,"Estatus"),r()())}var ui=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this.ref=i;this.config=a;this._paisServicio=m;this._clienteServicio=u;this._utilidadServicio=C;this.messageService=fe;this.frmCliente=this.fb.group({cliente:["",w.required],rfc:["",w.required],idPais:[0,w.required],estado:["",w.required],municipio:["",w.required],calle:["",w.required],colonia:["",w.required],cp:["",w.required],dCredito:[0,w.required],isEstatus:[]}),this.config.data!=null&&(this.cliente=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="554px",this.frmCliente.patchValue({cliente:this.cliente.cliente,rfc:this.cliente.rfc,idPais:this.cliente.idPais,estado:this.cliente.estado,municipio:this.cliente.municipio,calle:this.cliente.calle,colonia:this.cliente.colonia,cp:this.cliente.cp,dCredito:this.cliente.diasCredito,isEstatus:this.cliente.isActivo}))}boton="Guardar";marginLeft="565px";mostrarLoading=!1;mostrarSwitch=!1;frmCliente;listaCatPais=[];cliente;ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais()})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}guardar_editarCliente(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();if(this.cliente==null){let i={idUsuario:e[0].idUsuario,descrip:this.frmCliente.value.cliente,rfc:this.frmCliente.value.rfc,idPais:this.frmCliente.value.idPais,estado:this.frmCliente.value.estado,municipio:this.frmCliente.value.municipio,calleDir:this.frmCliente.value.calle,colDir:this.frmCliente.value.colonia,cp:this.frmCliente.value.cp,diasCredito:this.frmCliente.value.dCredito};this._clienteServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Cliente registrado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let i={idCliente:this.cliente.idCliente,idUsuario:e[0].idUsuario,oldDescrip:this.cliente.cliente,newDescrip:this.frmCliente.value.cliente,rfc:this.frmCliente.value.rfc,idPais:this.frmCliente.value.idPais,estado:this.frmCliente.value.estado,municipio:this.frmCliente.value.municipio,calleDir:this.frmCliente.value.calle,colDir:this.frmCliente.value.colonia,cp:this.frmCliente.value.cp,diasCredito:this.frmCliente.value.dCredito,isActivo:this.frmCliente.value.isEstatus};this._clienteServicio.actualizar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Cliente actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(ae),p(N),p(Ie),p(xe),p(he),p(M))};static \u0275cmp=x({type:o,selectors:[["app-ModalCliente"]],decls:43,vars:10,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-8","mt-2"],["pInputText","","formControlName","cliente","autocomplete","off",2,"width","380px"],["for","on_label"],["pInputText","","formControlName","rfc","autocomplete","off",2,"width","130px"],["formControlName","dCredito","autocomplete","off"],["variant","on",1,"mb-8"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",1,"w-60",3,"options","filter"],["pInputText","","formControlName","estado","autocomplete","off",1,"w-50"],["pInputText","","formControlName","municipio","autocomplete","off",1,"w-50"],["pInputText","","formControlName","calle","autocomplete","off",2,"width","305px"],["pInputText","","formControlName","colonia","autocomplete","off",2,"width","215px"],["pInputText","","formControlName","cp","autocomplete","off",2,"width","90px"],["style","margin: 0px 0px 5px 5px;",4,"ngIf"],[3,"ngStyle"],["type","button",3,"Click","label","loading","disabled"],[2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label",4),s(5,"Cliente"),r()(),t(6,"p-floatlabel",2),l(7,"input",5),t(8,"label",4),s(9,"RFC"),r()(),t(10,"p-floatlabel",2),l(11,"p-inputNumber",6),t(12,"label",4),s(13,"D\xEDas Cr\xE9dito"),r()()(),t(14,"div",1)(15,"p-floatlabel",7),l(16,"p-select",8),t(17,"label",4),s(18,"Pa\xEDs"),r()(),t(19,"p-floatlabel",7),l(20,"input",9),t(21,"label",4),s(22,"Estado"),r()(),t(23,"p-floatlabel",7),l(24,"input",10),t(25,"label",4),s(26,"Municipio/Ciudad"),r()()(),t(27,"div",1)(28,"p-floatlabel",7),l(29,"input",11),t(30,"label",4),s(31,"Calle"),r()(),t(32,"p-floatlabel",7),l(33,"input",12),t(34,"label",4),s(35,"Colonia"),r()(),t(36,"p-floatlabel",7),l(37,"input",13),t(38,"label",4),s(39,"CP"),r()()(),E(40,Wt,4,0,"div",14),t(41,"div",15)(42,"p-button",16),f("Click",function(){return a.guardar_editarCliente()}),r()()()),i&2&&(d("formGroup",a.frmCliente),c(16),d("options",a.listaCatPais)("filter",!0),c(24),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(8,Jt,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmCliente.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,V,H,Le,qe],styles:["p-inputNumber input{width:100px!important}"]})};var ke=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Moneda/";listaCatMoneda(){return this.http.get(`${this.urlApi}ListaCatMoneda`)}listaCatMonedaByIdCliente(e,i){return this.http.get(`${this.urlApi}ListaCatMonedaByIdCliente/${e}/${i}`)}listaCatMonedaByIdProveedor(e){return this.http.get(`${this.urlApi}ListaCatMonedaByIdProveedor/${e}`)}ListaCatMonedaRutaByIdProveedor(e){return this.http.get(`${this.urlApi}ListaCatMonedaRutaByIdProveedor/${e}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Qt=()=>({width:"auto"}),er=()=>({width:"250px"});function ir(o,e){}function tr(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",14),t(2,"input",15),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),j(y(2,er)))}function rr(o,e){o&1&&(t(0,"tr")(1,"th",16)(2,"span",17),s(3,"Moneda "),l(4,"p-sortIcon",18),r()(),t(5,"th",19)(6,"span",17),s(7,"Fec. Registro "),l(8,"p-sortIcon",20),r()(),l(9,"th"),r())}function or(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",21),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarMoneda(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.moneda),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}var Mi=class o{constructor(e,i,a,m,u,C){this.fb=e;this._monedaServicio=i;this.config=a;this._clienteServicio=m;this.messageService=u;this.confirmationService=C;this.frmMoneda=this.fb.group({idMoneda:[0]}),this.idCliente=this.config.data}frmMoneda;listaCatMoneda=[];listaConsulClienteMoneda=[];mostrarLoading=!1;idCliente=0;columnasTabla=["moneda","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargarCatMoneda(this.idCliente),yield this.cargaInfoTabla(this.idCliente)})}cargarCatMoneda(e){return n(this,null,function*(){this._monedaServicio.listaCatMonedaByIdCliente(e,1).subscribe({next:i=>n(this,null,function*(){i.status?this.listaCatMoneda=yield i.value:this.listaCatMoneda=[]})})})}cargaInfoTabla(e){return n(this,null,function*(){this.mostrarLoading=!0,this._clienteServicio.listaConsulClienteMoneda(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.listaConsulClienteMoneda=yield i.value,this.mostrarLoading=!1):(this.listaConsulClienteMoneda=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}guardarMoneda(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idCliente:this.idCliente,idMoneda:this.frmMoneda.value.idMoneda};this._clienteServicio.guardarMoneda(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Moneda registrada",life:3e3}),yield this.cargarCatMoneda(this.idCliente),yield this.cargaInfoTabla(this.idCliente),yield this.borrarDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarMoneda(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar la moneda?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._clienteServicio.borrarMoneda(this.idCliente,i.idMoneda).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Moneda eliminada",life:3e3}),yield this.cargarCatMoneda(this.idCliente),yield this.cargaInfoTabla(this.idCliente)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}borrarDatos(){return n(this,null,function*(){this.frmMoneda.patchValue({idMoneda:0})})}static \u0275fac=function(i){return new(i||o)(p(q),p(ke),p(N),p(xe),p(M),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalClienteMoneda"]],decls:19,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-8","mt-2"],["appendTo","body","optionLabel","moneda","optionValue","idMoneda","formControlName","idMoneda",3,"options","filter"],["for","on_label",2,"font-weight","bold"],["label","Guardar","icon","pi pi-save",1,"mb-8","mt-2",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idMoneda","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","moneda",2,"width","260px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","moneda"],["pSortableColumn","fecRegistro",2,"width","190px","font-weight","bold"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Moneda"),r()(),t(7,"p-button",11),f("onClick",function(){return v(m),b(a.guardarMoneda())}),r()(),t(8,"p-toolbar",12),E(9,ir,0,0,"ng-template",null,0,g)(11,tr,3,3,"ng-template",null,1,g),r(),t(13,"p-table",13,2),E(15,rr,10,0,"ng-template",null,3,g)(17,or,7,3,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmMoneda),c(4),le("width","390px"),d("options",a.listaCatMoneda)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulClienteMoneda)("rows",2)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,Qt))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne],encapsulation:2})};var Be=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Empresa/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{descrip:e.descrip,direc:e.direc,rfc:e.rfc,datosFacturacion:e.datosFacturacion}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idEmpresa:e.idEmpresa,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,direc:e.direc,rfc:e.rfc,datosFacturacion:e.datosFacturacion,isActivo:e.isActivo}})}listaEmpresa(){return this.http.get(`${this.urlApi}ListaEmpresa`)}listaCatEmpresa(){return this.http.get(`${this.urlApi}ListaCatEmpresa`)}listaCatEmpresaByCliente(e,i){return this.http.get(`${this.urlApi}ListaCatEmpresaByCliente/${e}/${i}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var ar=()=>({width:"auto"});function nr(o,e){}function sr(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",14),t(2,"input",15),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","150px"))}function lr(o,e){o&1&&(t(0,"tr")(1,"th",16)(2,"span",17),s(3,"Empresa "),l(4,"p-sortIcon",18),r()(),t(5,"th",19)(6,"span",17),s(7,"Fec. Registro "),l(8,"p-sortIcon",20),r()(),l(9,"th"),r())}function mr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",21),f("Click",function(m){let u=v(i).$implicit,C=h();return b(C.borrarEmpresa(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.empresa),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}var Di=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this._clienteServicio=a;this._empresaServicio=m;this.messageService=u;this.confirmationService=C;this.frmEmpresa=this.fb.group({idEmpresa:[0]}),this.idCliente=this.config.data}mostrarLoading=!1;frmEmpresa;listaCatEmpresa=[];idCliente=0;columnasTabla=["empresa","fecRegistro"];listaConsulClienteEmpresa=[];ngOnInit(){return n(this,null,function*(){yield this.cargaCatEmpresa(),yield this.cargaInfoTabla()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaCatEmpresa(){return n(this,null,function*(){this._empresaServicio.listaCatEmpresaByCliente(this.idCliente,1).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatEmpresa=yield e.value:this.listaCatEmpresa=[]})})})}guardarEmpresa(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idCliente:this.idCliente,idEmpresa:this.frmEmpresa.value.idEmpresa};this._clienteServicio.guardarEmpresa(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Empresa registrada",life:3e3}),yield this.cargaCatEmpresa(),yield this.cargaInfoTabla(),yield this.borrarDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._clienteServicio.listaConsulClienteEmpresa(this.idCliente).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsulClienteEmpresa=yield e.value,this.mostrarLoading=!1):(this.listaConsulClienteEmpresa=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarEmpresa(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar la empresa?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._clienteServicio.borrarEmpresa(this.idCliente,i.idEmpresa).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Empresa eliminada",life:3e3}),yield this.cargaCatEmpresa(),yield this.cargaInfoTabla()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}borrarDatos(){return n(this,null,function*(){this.frmEmpresa.patchValue({idEmpresa:0})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(xe),p(Be),p(M),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalClienteFactura"]],decls:19,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-8","mt-2"],["appendTo","body","optionLabel","empresa","optionValue","idEmpresa","formControlName","idEmpresa",3,"options","filter"],[2,"font-weight","bold"],["label","Guardar","icon","pi pi-save",1,"mb-8","mt-2",3,"Click","loading"],["styleClass","mb-2"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","empresa",2,"width","260px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","empresa"],["pSortableColumn","fecRegistro",2,"width","190px","font-weight","bold"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"Click","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Empresa"),r()(),t(7,"p-button",11),f("Click",function(){return v(m),b(a.guardarEmpresa())}),r()(),t(8,"p-toolbar",12),E(9,nr,0,0,"ng-template",null,0,g)(11,sr,3,2,"ng-template",null,1,g),r(),t(13,"p-table",13,2),E(15,lr,10,0,"ng-template",null,3,g)(17,mr,7,3,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmEmpresa),c(4),le("width","390px"),d("options",a.listaCatEmpresa)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulClienteEmpresa)("rows",3)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,ar))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne],encapsulation:2})};var Je=class o{constructor(e){this.http=e}urlApi=re.endpoint+"TipoServicio/";listaCatTipoServicio(){return this.http.get(`${this.urlApi}ListaCatTipoServicio`)}listaCatTipoServicioQuery(){return this.http.get(`${this.urlApi}ListaCatTipoServicioGlobal`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var li=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Documento/";listaCatDocumento(){return this.http.get(`${this.urlApi}ListaCatDocumento`)}listaCatDocumentoByClienteTipoServicioDocumento(e,i){return this.http.get(`${this.urlApi}ListaCatDocumentoByClienteTipoServicioDocumento/${e}/${i}`)}listaConsultaDocumentoEmbarque(e){return this.http.get(`${this.urlApi}ListaConsultaDocumentoEmbarque/${e}`)}listaCatDocumentoEmbarque(e){return this.http.get(`${this.urlApi}ListaCatDocumentoEmbarque/${e}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var cr=()=>({width:"200px"}),pr=()=>({width:"345px"}),dr=()=>({width:"auto"});function ur(o,e){}function fr(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",15),t(2,"input",16),f("input",function(m){v(i);let u=h(),C=$(18);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function gr(o,e){o&1&&(t(0,"tr")(1,"th",17)(2,"span",18),s(3,"Tip. Servicio "),l(4,"p-sortIcon",19),r()(),t(5,"th",20)(6,"span",18),s(7,"Documento "),l(8,"p-sortIcon",21),r()(),t(9,"th",22)(10,"span",18),s(11,"Fec. Registro "),l(12,"p-sortIcon",23),r()(),l(13,"th"),r())}function vr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td")(8,"p-button",24),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarDocumento(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.tipoServicio),c(2),S(i.documento),c(2),S(i.fechaRegistro),c(2),d("rounded",!0)}}var Pi=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this._tipoServicioServicio=i;this._documentacionServicio=a;this._clienteServicio=m;this.config=u;this.messageService=C;this.confirmationService=fe;this.frmDocumentacion=this.fb.group({idTipoServicio:[0],idDocumento:[0]}),this.idCliente=this.config.data}frmDocumentacion;listaCatTipoServicio=[];listaCatDocumentacion=[];listaConsultaClienteDcoumento=[];mostrarLoading=!1;idCliente=0;columnasTabla=["tipoServicio","documento","fechaRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaCatTipoServicio(),yield this.cargaCatDocumentacion(0,0),yield this.cargaInfoTabla(this.idCliente)})}cargaCatTipoServicio(){return n(this,null,function*(){this._tipoServicioServicio.listaCatTipoServicio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatTipoServicio=yield e.value)})})})}cargaCatDocumentacion(e,i){return n(this,null,function*(){let a=0,m=0;e!=0&&(a=this.idCliente,m=i),this._documentacionServicio.listaCatDocumentoByClienteTipoServicioDocumento(a,m).subscribe({next:u=>n(this,null,function*(){u.status&&(this.listaCatDocumentacion=yield u.value)})})})}cargaInfoTabla(e){return n(this,null,function*(){this.mostrarLoading=!0,this._clienteServicio.listaConsulClienteDocumento(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.listaConsultaClienteDcoumento=yield i.value,this.mostrarLoading=!1):(this.listaConsultaClienteDcoumento=[],this.mostrarLoading=!1)})})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}guardarDocumento(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idCliente:this.idCliente,idTipoServicio:this.frmDocumentacion.value.idTipoServicio,idDocumento:this.frmDocumentacion.value.idDocumento};this._clienteServicio.guardarDocumento(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Documento registrado",life:3e3}),yield this.cargaCatTipoServicio(),yield this.cargaCatDocumentacion(0,0),yield this.cargaInfoTabla(this.idCliente),yield this.borrarDatos(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarDocumento(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar el documento?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._clienteServicio.borrarDocumento(this.idCliente,i.idTipoServicio,i.idDocumento).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Documento eliminado",life:3e3}),yield this.cargaCatTipoServicio(),yield this.cargaCatDocumentacion(0,0),yield this.cargaInfoTabla(this.idCliente),yield this.borrarDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}borrarDatos(){return n(this,null,function*(){this.frmDocumentacion.patchValue({idTipoServicio:0,idDocumento:0})})}static \u0275fac=function(i){return new(i||o)(p(q),p(Je),p(li),p(xe),p(N),p(M),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalDocumentacion"]],decls:23,vars:20,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["appendTo","body","optionLabel","tipoServicio","optionValue","idTipoServicio","formControlName","idTipoServicio",3,"onChange","options","filter"],[2,"font-weight","bold"],["appendTo","body","optionLabel","documento","optionValue","idDocumento","formControlName","idDocumento",3,"options","filter"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCliente","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","tipoServicio",2,"width","200px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","tipoServicio"],["pSortableColumn","documento",2,"width","270px","font-weight","bold"],["field","documento"],["pSortableColumn","fechaRegistro",2,"width","140px","font-weight","bold"],["field","fechaRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8)(4,"p-select",9),f("onChange",function(C){return v(m),b(a.cargaCatDocumentacion(1,C.value))}),r(),t(5,"label",10),s(6,"Tipo Servicio"),r()(),t(7,"p-floatlabel",8),l(8,"p-select",11),t(9,"label",10),s(10,"Documento"),r()(),t(11,"p-button",12),f("onClick",function(){return v(m),b(a.guardarDocumento())}),r()(),t(12,"p-toolbar",13),E(13,ur,0,0,"ng-template",null,0,g)(15,fr,3,2,"ng-template",null,1,g),r(),t(17,"p-table",14,2),E(19,gr,14,0,"ng-template",null,3,g)(21,vr,9,4,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmDocumentacion),c(4),j(y(17,cr)),d("options",a.listaCatTipoServicio)("filter",!0),c(4),j(y(18,pr)),d("options",a.listaCatDocumentacion)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsultaClienteDcoumento)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(19,dr))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne],encapsulation:2})};var br=()=>[10,20,50];function hr(o,e){if(o&1){let i=_();t(0,"p-button",9),f("click",function(){v(i);let m=h();return b(m.agregarCliente())}),r()}}function Cr(o,e){o&1&&l(0,"p-button",10)}function Sr(o,e){if(o&1){let i=_();t(0,"div",11),l(1,"h5",12),t(2,"p-iconfield"),l(3,"p-inputicon",13),t(4,"input",14),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}o&2&&(c(4),le("width","300px"))}function yr(o,e){o&1&&(t(0,"tr")(1,"th",15)(2,"span",16),s(3,"# Cliente "),l(4,"p-sortIcon",17),r()(),t(5,"th",18)(6,"span",16),s(7,"Cliente "),l(8,"p-sortIcon",19),r()(),t(9,"th",20)(10,"span",16),s(11,"Vendedor "),l(12,"p-sortIcon",21),r()(),t(13,"th",22)(14,"span",16),s(15,"CSR "),l(16,"p-sortIcon",23),r()(),t(17,"th",24)(18,"span",16),s(19,"Contacto "),l(20,"p-sortIcon",25),r()(),t(21,"th",26)(22,"span",16),s(23," Telef "),l(24,"p-sortIcon",27),r()(),t(25,"th",28)(26,"span",16),s(27," Correo "),l(28,"p-sortIcon",29),r()(),t(29,"th",30)(30,"span",16),s(31," D. Cr\xE9dito "),l(32,"p-sortIcon",31),r()(),t(33,"th",32)(34,"span",16),s(35," Estatus "),l(36,"p-sortIcon",33),r()(),l(37,"th",34),r())}function _r(o,e){if(o&1){let i=_();t(0,"tr")(1,"td",35),s(2),r(),t(3,"td",36)(4,"p-button",37),f("click",function(){let m=v(i).$implicit,u=h();return b(u.modificarCliente(m))}),r()(),t(5,"td"),l(6,"p-button",38),r(),t(7,"td"),s(8),r(),t(9,"td",39),s(10),r(),t(11,"td",40),s(12),r(),t(13,"td",40),s(14),r(),t(15,"td"),s(16),r(),t(17,"td"),l(18,"p-tag",41),r(),t(19,"td")(20,"p-button",42),f("click",function(){let m=v(i).$implicit,u=h();return b(u.configurarMoneda(m))}),r(),t(21,"p-button",43),f("click",function(){let m=v(i).$implicit,u=h();return b(u.configuraEmpresaFactura(m))}),r(),t(22,"p-button",44),f("click",function(){let m=v(i).$implicit,u=h();return b(u.configurarDocumentos(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.idCliente),c(2),U("label",i.cliente),c(2),U("label",i.vendedor),c(2),S(i.csr),c(2),S(i.contacto),c(2),S(i.tel),c(2),S(i.correo),c(2),S(i.diasCredito),c(2),d("value",i.estatus)("severity",i.estatus==="ACTIVO"?"success":"danger"),c(2),d("rounded",!0),c(),d("rounded",!0),c(),d("rounded",!0)}}var Fi=class o{constructor(e,i,a){this.messageService=e;this._clienteServicio=i;this.dialog=a}ref;mostrarLoading=!1;listaCliente=[];columnasTabla=["idCliente","cliente","rfc","pais","estado","diasCredito","estatus"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0,this._clienteServicio.listaCliente().subscribe({next:e=>n(this,null,function*(){e.status?this.listaCliente=yield e.value:this.listaCliente=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}agregarCliente(){return n(this,null,function*(){this.ref=this.dialog.open(ui,{header:"Nuevo Cliente",width:"680px",height:"310px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}modificarCliente(e){return n(this,null,function*(){this.ref=this.dialog.open(ui,{header:"Modificar Cliente",width:"680px",height:"340px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}configurarMoneda(e){return n(this,null,function*(){this.ref=this.dialog.open(Mi,{header:"Registro Moneda Cliente",width:"580px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idCliente})})}configuraEmpresaFactura(e){return n(this,null,function*(){this.ref=this.dialog.open(Di,{header:"Registro Empresa Factura",width:"580px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idCliente})})}configurarDocumentos(e){return n(this,null,function*(){this.ref=this.dialog.open(Pi,{header:"Registro Empresa Factura",width:"750px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idCliente})})}static \u0275fac=function(i){return new(i||o)(p(M),p(xe),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Cliente"]],decls:16,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idCliente","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"click"],["label","Export","icon","pi pi-upload","severity","secondary"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","idCliente"],[1,"flex","items-center","gap-2"],["field","idCliente"],["pSortableColumn","cliente"],["field","cliente"],["pSortableColumn","vendedor"],["field","vendedor"],["pSortableColumn","csr"],["field","csr"],["pSortableColumn","contacto"],["field","contacto"],["pSortableColumn","tel"],["field","tel"],["pSortableColumn","correo"],["field","correo"],["pSortableColumn","diasCredito",2,"width","12rem"],["field","diasCredito"],["pSortableColumn","estatus",2,"min-width","8rem"],["field","estatus"],[2,"min-width","12rem"],[2,"width","130px"],[2,"width","620px"],["type","button","text","",3,"click","label"],["type","button","text","",3,"label"],[2,"width","290px"],[2,"width","200px"],[3,"value","severity"],["icon","pi pi-dollar","severity","help","pTooltip","Registro Moneda","raised","","rounded","",3,"click","rounded"],["icon","pi pi-building-columns","severity","danger","pTooltip","Registro Empresa Facturar","raised","",3,"click","rounded"],["icon","pi pi-file-plus","severity","primary","pTooltip","Registro Documentaci\xF3n","raised","","rounded","",3,"click","rounded"]],template:function(i,a){i&1&&(l(0,"p-toast")(1,"p-confirmdialog"),t(2,"div",6)(3,"p-toolbar",7),E(4,hr,1,0,"ng-template",null,0,g)(6,Cr,1,0,"ng-template",null,1,g),r(),t(8,"p-table",8,2),E(10,Sr,5,2,"ng-template",null,3,g)(12,yr,38,0,"ng-template",null,4,g)(14,_r,23,13,"ng-template",null,5,g),r()()),i&2&&(c(8),d("value",a.listaCliente)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,br))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,ne,Ue,De],encapsulation:2})};var Er=o=>({margin:o});function xr(o,e){o&1&&(t(0,"div",12),l(1,"p-toggleswitch",13),t(2,"label",14),s(3,"Estatus"),r()())}var fi=class o{constructor(e,i,a,m,u){this.ref=e;this.fb=i;this.config=a;this._empresaServicio=m;this.messageService=u;this.frmEmpresa=this.fb.group({empresa:["",w.required],rfc:["",w.required],direc:["",w.required],dFactura:["",w.required],isEstatus:[]}),this.config.data!=null&&(this.empresa=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="450px",this.frmEmpresa.patchValue({empresa:this.empresa.empresa,rfc:this.empresa.rfc,dFactura:this.empresa.datosFacturacion,direc:this.empresa.direc,isEstatus:this.empresa.isActivo}))}boton="Guardar";marginLeft="470px";mostrarLoading=!1;mostrarSwitch=!1;frmEmpresa;empresa;ngOnInit(){return n(this,null,function*(){})}guardar_editarEmpresa(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.empresa==null){let e={descrip:this.frmEmpresa.value.empresa,direc:this.frmEmpresa.value.direc,rfc:this.frmEmpresa.value.rfc,datosFacturacion:this.frmEmpresa.value.dFactura};this._empresaServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Empresa registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idEmpresa:this.empresa.idEmpresa,oldDescrip:this.empresa.empresa,newDescrip:this.frmEmpresa.value.empresa,direc:this.frmEmpresa.value.direc,rfc:this.frmEmpresa.value.rfc,datosFacturacion:this.frmEmpresa.value.dFactura,isActivo:this.frmEmpresa.value.isEstatus};this._empresaServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Empresa actualizada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(ae),p(q),p(N),p(Be),p(M))};static \u0275cmp=x({type:o,selectors:[["app-ModalEmpresa"]],decls:23,vars:9,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-8","mt-2"],["pInputText","","formControlName","empresa","autocomplete","off",2,"width","380px"],["for","on_label"],["pInputText","","formControlName","rfc","autocomplete","off",2,"width","150px"],["variant","on",1,"mb-8"],["pInputText","","formControlName","direc","autocomplete","off",2,"width","545px"],["rows","5","cols","74","pTextarea","","formControlName","dFactura",3,"autoResize"],["class","p-field p-col-12 flex","style","margin: 0px 0px 5px 5px",4,"ngIf"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"],[1,"p-field","p-col-12","flex",2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label",4),s(5,"Cliente"),r()(),t(6,"p-floatlabel",2),l(7,"input",5),t(8,"label",4),s(9,"RFC"),r()()(),t(10,"div",1)(11,"p-floatlabel",6),l(12,"input",7),t(13,"label",4),s(14,"Direcci\xF3n"),r()()(),t(15,"div",1)(16,"p-floatlabel",6),l(17,"textarea",8),t(18,"label",4),s(19,"Datos Facturaci\xF3n"),r()()(),E(20,xr,4,0,"div",9),t(21,"div",10)(22,"p-button",11),f("onClick",function(){return a.guardar_editarEmpresa()}),r()()()),i&2&&(d("formGroup",a.frmEmpresa),c(17),d("autoResize",!0),c(3),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(7,Er,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmEmpresa.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,V,Le,ai],encapsulation:2})};var wr=()=>[5,10,20];function Rr(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.agregarEmpresa())}),r()}}function Ir(o,e){}function Mr(o,e){if(o&1){let i=_();t(0,"div",10),l(1,"h5",11),t(2,"p-iconfield"),l(3,"p-inputicon",12),t(4,"input",13),f("input",function(m){v(i);let u=h(),C=$(8);return b(u.onGlobalFilter(C,m))}),r()()()}}function Tr(o,e){o&1&&(t(0,"tr")(1,"th",14)(2,"span",15),s(3,"# Empresa "),l(4,"p-sortIcon",16),r()(),t(5,"th",17)(6,"span",15),s(7,"Empresa "),l(8,"p-sortIcon",18),r()(),t(9,"th",19)(10,"span",15),s(11,"RFC "),l(12,"p-sortIcon",20),r()(),t(13,"th",21)(14,"span",15),s(15,"Estatus "),l(16,"p-sortIcon",22),r()()())}function Dr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td",23)(4,"p-button",24),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarEmpresa(m))}),r()(),t(5,"td"),s(6),r(),t(7,"td"),l(8,"p-tag",25),r()()}if(o&2){let i=e.$implicit;c(2),S(i.idEmpresa),c(2),U("label",i.empresa),c(2),S(i.rfc),c(2),d("value",i.estatus)("severity",i.estatus==="ACTIVO"?"success":"danger")}}var Li=class o{constructor(e,i,a){this.messageService=e;this._empresaServicio=i;this.dialog=a}ref;mostrarLoading=!1;listaEmpresa=[];columnasTabla=["idEmpresa","empresa","rfc","estatus"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0,this._empresaServicio.listaEmpresa().subscribe({next:e=>n(this,null,function*(){e.status?(this.listaEmpresa=yield e.value,this.mostrarLoading=!1):(this.listaEmpresa=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}modificarEmpresa(e){return n(this,null,function*(){this.ref=this.dialog.open(fi,{header:"Modificar Empresa",width:"585px",height:"410px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}agregarEmpresa(){return n(this,null,function*(){this.ref=this.dialog.open(fi,{header:"Nueva Empresa",width:"585px",height:"380px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}static \u0275fac=function(i){return new(i||o)(p(M),p(Be),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Empresa"]],decls:15,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idEmpresa","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","idEmpresa"],[1,"flex","items-center","gap-2"],["field","idEmpresa"],["pSortableColumn","empresa"],["field","empresa"],["pSortableColumn","rfc"],["field","rfc"],["pSortableColumn","estatus"],["field","estatus"],[2,"width","380px"],["type","button","text","",3,"onClick","label"],[3,"value","severity"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"div",6)(2,"p-toolbar",7),E(3,Rr,1,0,"ng-template",null,0,g)(5,Ir,0,0,"ng-template",null,1,g),r(),t(7,"p-table",8,2),E(9,Mr,5,0,"ng-template",null,3,g)(11,Tr,17,0,"ng-template",null,4,g)(13,Dr,9,5,"ng-template",null,5,g),r()()),i&2&&(c(7),d("value",a.listaEmpresa)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,wr))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,De],encapsulation:2})};var je=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Proveedor/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idUsuario:e.idUsuario,descrip:e.descrip,rfc:e.rfc,idPais:e.idPais,estado:e.estado,municipio:e.municipio,calle:e.calle,colonia:e.colonia,cp:e.cp,diasCredito:e.diasCredito}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idProveedor:e.idProveedor,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,rfc:e.rfc,idPais:e.idPais,estado:e.estado,municipio:e.municipio,calle:e.calle,colonia:e.colonia,cp:e.cp,diasCredito:e.diasCredito,isActivo:e.isActivo}})}listarProveedor(){return this.http.get(`${this.urlApi}ListarProveedor`)}listarCatProveedor(){return this.http.get(`${this.urlApi}ListarCatProveedor`)}listaConsulProveedoMoneda(e){return this.http.get(`${this.urlApi}ListaConsulProveedoMoneda/${e}`)}guardarMoneda(e){return this.http.request("post",`${this.urlApi}GuardarMoneda`,{body:{idProveedor:e.idProveedor,idMoneda:e.idMoneda}})}borrarMoneda(e,i){return this.http.delete(`${this.urlApi}BorrarMoneda/${e}/${i}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Pr=()=>({width:"100px"}),Fr=()=>({width:"201px"}),Ar=o=>({margin:o});function Lr(o,e){o&1&&(t(0,"div",17),l(1,"p-toggleswitch",18),t(2,"label",19),s(3,"Estatus"),r()())}var vi=class o{constructor(e,i,a,m,u,C,fe){this.ref=e;this.config=i;this.fb=a;this._proveedorServicio=m;this._utilidadServicio=u;this._paisServicio=C;this.messageService=fe;this.frmProveedor=this.fb.group({proveedor:["",w.required],rfc:["",w.required],idPais:[0,w.required],estado:["",w.required],municipio:["",w.required],calle:["",w.required],colonia:["",w.required],cp:["",w.required],dCredito:[0,w.required],isEstatus:[]}),this.config.data!=null&&(this.proveedor=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="554px",this.frmProveedor.patchValue({proveedor:this.proveedor.proveedor,rfc:this.proveedor.rfc,dCredito:this.proveedor.diasCredito,idPais:this.proveedor.idPais,estado:this.proveedor.estado,municipio:this.proveedor.municipio,calle:this.proveedor.calle,colonia:this.proveedor.colonia,cp:this.proveedor.cp,isEstatus:this.proveedor.isActivo}))}boton="Guardar";marginLeft="565px";mostrarLoading=!1;mostrarSwitch=!1;frmProveedor;listaCatPais=[];proveedor;ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais()})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}guardar_editarProveedor(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();if(this.proveedor==null){let i={idUsuario:e[0].idUsuario,descrip:this.frmProveedor.value.proveedor,rfc:this.frmProveedor.value.rfc,idPais:this.frmProveedor.value.idPais,estado:this.frmProveedor.value.estado,municipio:this.frmProveedor.value.municipio,calle:this.frmProveedor.value.calle,colonia:this.frmProveedor.value.colonia,cp:this.frmProveedor.value.cp,diasCredito:this.frmProveedor.value.dCredito};this._proveedorServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"proveedor registrado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let i={idProveedor:this.proveedor.idProveedor,oldDescrip:this.proveedor.proveedor,newDescrip:this.frmProveedor.value.proveedor,rfc:this.frmProveedor.value.rfc,idPais:this.frmProveedor.value.idPais,estado:this.frmProveedor.value.estado,municipio:this.frmProveedor.value.municipio,calle:this.frmProveedor.value.calle,colonia:this.frmProveedor.value.colonia,cp:this.frmProveedor.value.cp,diasCredito:this.frmProveedor.value.dCredito,isActivo:this.frmProveedor.value.isEstatus};this._proveedorServicio.actualizar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Proveedor actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(ae),p(N),p(q),p(je),p(he),p(Ie),p(M))};static \u0275cmp=x({type:o,selectors:[["app-ModalProveedor"]],decls:43,vars:16,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2"],["variant","on",1,"mb-8"],["pInputText","","formControlName","proveedor","autocomplete","off",2,"width","370px"],["for","on_label"],["pInputText","","formControlName","rfc","autocomplete","off",2,"width","141px"],["formControlName","dCredito","autocomplete","off",3,"inputStyle","min"],[1,"flex","flex-wrap","items-start","gap-4"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",3,"options","filter"],["pInputText","","formControlName","estado","autocomplete","off",2,"width","201px"],["pInputText","","formControlName","municipio","autocomplete","off",2,"width","208px"],["pInputText","","formControlName","calle","autocomplete","off",2,"width","305px"],["pInputText","","formControlName","colonia","autocomplete","off",2,"width","215px"],["pInputText","","formControlName","cp","autocomplete","off",2,"width","90px"],["style","margin: 0px 0px 5px 5px",4,"ngIf"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"],[2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label",4),s(5,"Proveedor"),r()(),t(6,"p-floatlabel",2),l(7,"input",5),t(8,"label",4),s(9,"RFC"),r()(),t(10,"p-floatlabel",2),l(11,"p-inputNumber",6),t(12,"label",4),s(13,"D\xEDas Cr\xE9dito"),r()()(),t(14,"div",7)(15,"p-floatlabel",2),l(16,"p-select",8),t(17,"label",4),s(18,"Pa\xEDs"),r()(),t(19,"p-floatlabel",2),l(20,"input",9),t(21,"label",4),s(22,"Estado"),r()(),t(23,"p-floatlabel",2),l(24,"input",10),t(25,"label",4),s(26,"Municipio/Ciudad"),r()()(),t(27,"div",7)(28,"p-floatlabel",2),l(29,"input",11),t(30,"label",4),s(31,"Calle"),r()(),t(32,"p-floatlabel",2),l(33,"input",12),t(34,"label",4),s(35,"Colonia"),r()(),t(36,"p-floatlabel",2),l(37,"input",13),t(38,"label",4),s(39,"CP"),r()()(),E(40,Lr,4,0,"div",14),t(41,"div",15)(42,"p-button",16),f("onClick",function(){return a.guardar_editarProveedor()}),r()()()),i&2&&(d("formGroup",a.frmProveedor),c(11),d("inputStyle",y(12,Pr))("min",0),c(5),j(y(13,Fr)),d("options",a.listaCatPais)("filter",!0),c(24),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(14,Ar,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmProveedor.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,V,H,Le,qe],encapsulation:2})};var qr=()=>({width:"auto"});function Vr(o,e){}function Or(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",13),t(2,"input",14),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","150px"))}function Nr(o,e){o&1&&(t(0,"tr")(1,"th",15)(2,"span",16),s(3,"Moneda "),l(4,"p-sortIcon",17),r()(),t(5,"th",18)(6,"span",16),s(7,"Fec. Registro "),l(8,"p-sortIcon",19),r()(),l(9,"th"),r())}function jr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",20),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarMoneda(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.moneda),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}var qi=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this.messageService=a;this._monedaServicio=m;this._proveedorServicio=u;this.confirmationService=C;this.frmMoneda=this.fb.group({idMoneda:[0]}),this.idProveedor=this.config.data}frmMoneda;idProveedor=0;listaCatMoneda=[];mostrarLoading=!1;listaConsulProveedorMoneda=[];columnasTabla=["moneda","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargarCatMoneda(this.idProveedor),yield this.cargarinfoTabla(this.idProveedor)})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargarCatMoneda(e){return n(this,null,function*(){this._monedaServicio.listaCatMonedaByIdProveedor(e).subscribe({next:i=>n(this,null,function*(){i.status?this.listaCatMoneda=yield i.value:this.listaCatMoneda=[]})})})}guardarMoneda(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idProveedor:this.idProveedor,idMoneda:this.frmMoneda.value.idMoneda};this._proveedorServicio.guardarMoneda(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Moneda registrada",life:3e3}),yield this.cargarCatMoneda(this.idProveedor),yield this.cargarinfoTabla(this.idProveedor),yield this.borrarDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargarinfoTabla(e){return n(this,null,function*(){this.mostrarLoading=!0,this._proveedorServicio.listaConsulProveedoMoneda(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.listaConsulProveedorMoneda=yield i.value,this.mostrarLoading=!1):(this.listaConsulProveedorMoneda=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarMoneda(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar la moneda?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._proveedorServicio.borrarMoneda(this.idProveedor,i.idMoneda).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Moneda eliminada",life:3e3}),yield this.cargarCatMoneda(this.idProveedor),yield this.cargarinfoTabla(this.idProveedor)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}borrarDatos(){return n(this,null,function*(){this.frmMoneda.patchValue({idMoneda:0})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ke),p(je),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalProveedorMoneda"]],decls:19,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mb-4","mt-2"],["variant","on",1,""],["appendTo","body","optionLabel","moneda","optionValue","idMoneda","formControlName","idMoneda",3,"options","filter"],["for","on_label"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idMoneda","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","moneda",2,"width","260px"],[1,"flex","items-center","gap-2"],["field","moneda"],["pSortableColumn","fecRegistro"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();l(0,"p-confirmdialog"),t(1,"form",5)(2,"div",6)(3,"p-floatlabel",7),l(4,"p-select",8),t(5,"label",9),s(6,"Moneda"),r()(),t(7,"p-button",10),f("onClick",function(){return v(m),b(a.guardarMoneda())}),r()(),t(8,"p-toolbar",11),E(9,Vr,0,0,"ng-template",null,0,g)(11,Or,3,2,"ng-template",null,1,g),r(),t(13,"p-table",12,2),E(15,Nr,10,0,"ng-template",null,3,g)(17,jr,7,3,"ng-template",null,4,g),r()()}i&2&&(c(),d("formGroup",a.frmMoneda),c(3),le("width","354px"),d("options",a.listaCatMoneda)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulProveedorMoneda)("rows",2)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,qr))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne,Ue],encapsulation:2})};var Ur=()=>[5,10,20];function Gr(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.agregarProveedor())}),r()}}function kr(o,e){o&1&&l(0,"p-button",10)}function Br(o,e){if(o&1){let i=_();t(0,"div",11),l(1,"h5",12),t(2,"p-iconfield"),l(3,"p-inputicon",13),t(4,"input",14),f("input",function(m){v(i);let u=h(),C=$(8);return b(u.onGlobalFilter(C,m))}),r()()()}}function Hr(o,e){o&1&&(t(0,"tr")(1,"th",15)(2,"span",16),s(3,"# Proveedor "),l(4,"p-sortIcon",17),r()(),t(5,"th",18)(6,"span",16),s(7,"Proveedor "),l(8,"p-sortIcon",19),r()(),t(9,"th",20)(10,"span",16),s(11,"RFC "),l(12,"p-sortIcon",21),r()(),t(13,"th",22)(14,"span",16),s(15,"Pa\xEDs "),l(16,"p-sortIcon",23),r()(),t(17,"th",24)(18,"span",16),s(19,"D. Cr\xE9dito "),l(20,"p-sortIcon",25),r()(),t(21,"th",26)(22,"span",16),s(23,"Estatus "),l(24,"p-sortIcon",27),r()(),l(25,"th"),r())}function zr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td",28)(4,"p-button",29),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarProveedor(m))}),r()(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),l(12,"p-tag",30),r(),t(13,"td")(14,"p-button",31),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.configurarMoneda(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.idProveedor),c(2),U("label",i.proveedor),c(2),S(i.rfc),c(2),S(i.pais),c(2),S(i.diasCredito),c(2),d("value",i.estatus)("severity",i.estatus==="ACTIVO"?"success":"danger"),c(2),d("rounded",!0)}}var Vi=class o{constructor(e,i,a){this.messageService=e;this._proveedorServicio=i;this.dialog=a}ref;mostrarLoading=!1;listaProveedor=[];columnasTabla=["idProveedor","proveedor","rfc","pais","diasCredito","estatus"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0,this._proveedorServicio.listarProveedor().subscribe({next:e=>n(this,null,function*(){e.status?this.listaProveedor=yield e.value:this.listaProveedor=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}agregarProveedor(){return n(this,null,function*(){this.ref=this.dialog.open(vi,{header:"Nuevo Proveedor",width:"680px",height:"325px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}modificarProveedor(e){return n(this,null,function*(){this.ref=this.dialog.open(vi,{header:"Modificar Proveedor",width:"680px",height:"350px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}configurarMoneda(e){return n(this,null,function*(){this.ref=this.dialog.open(qi,{header:"Registro Moneda Proveedor",width:"500px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idProveedor})})}static \u0275fac=function(i){return new(i||o)(p(M),p(je),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Proveedor"]],decls:15,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idProveedor","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],["label","Export","icon","pi pi-upload","severity","secondary"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","idProveedor"],[1,"flex","items-center","gap-2"],["field","idProveedor"],["pSortableColumn","proveedor"],["field","proveedor"],["pSortableColumn","rfc"],["field","rfc"],["pSortableColumn","pais"],["field","pais"],["pSortableColumn","diasCredito"],["field","diasCredito"],["pSortableColumn","estatus"],["field","estatus"],[2,"width","380px"],["type","button","text","",3,"onClick","label"],[3,"value","severity"],["icon","pi pi-dollar","severity","help","pTooltip","Registro Moneda","raised","","rounded","",3,"onClick","rounded"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"div",6)(2,"p-toolbar",7),E(3,Gr,1,0,"ng-template",null,0,g)(5,kr,1,0,"ng-template",null,1,g),r(),t(7,"p-table",8,2),E(9,Br,5,0,"ng-template",null,3,g)(11,Hr,26,0,"ng-template",null,4,g)(13,zr,15,8,"ng-template",null,5,g),r()()),i&2&&(c(7),d("value",a.listaProveedor)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,Ur))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,ne,De],encapsulation:2})};var $r=o=>({margin:o}),bi=class o{constructor(e,i,a,m,u){this.ref=e;this._paisServicio=i;this.fb=a;this.config=m;this.messageService=u;this.frmPais=this.fb.group({pais:["",w.required],siglas:["",w.required]}),this.config.data!=null&&(this.pais=this.config.data,this.boton="Actualizar",this.marginLeft="165px",this.frmPais.patchValue({pais:this.pais.pais,siglas:this.pais.siglas}))}boton="Guardar";marginLeft="175px";mostrarLoading=!1;frmPais;pais;ngOnInit(){return n(this,null,function*(){})}guardar_editarPais(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.pais==null){let e={pais:this.frmPais.value.pais,siglas:this.frmPais.value.siglas};this._paisServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Empresa registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idPais:this.pais.idPais,oldDescrip:this.pais.pais,newDescrip:this.frmPais.value.pais,siglas:this.frmPais.value.siglas};this._paisServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Pa\xEDs actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(ae),p(Ie),p(q),p(N),p(M))};static \u0275cmp=x({type:o,selectors:[["app-ModalPais"]],decls:13,vars:7,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-8","mt-2"],["pInputText","","formControlName","pais","autocomplete","off",2,"width","250px"],["for","on_label"],["variant","on",1,"mb-6"],["pInputText","","formControlName","siglas","autocomplete","off",2,"width","250px"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label",4),s(5,"Pa\xEDs"),r()()(),t(6,"div",1)(7,"p-floatlabel",5),l(8,"input",6),t(9,"label",4),s(10,"Siglas"),r()()(),t(11,"div",7)(12,"p-button",8),f("onClick",function(){return a.guardar_editarPais()}),r()()()),i&2&&(d("formGroup",a.frmPais),c(11),d("ngStyle",me(5,$r,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmPais.invalid))},dependencies:[I,be,F,oe,D,P,A,L,T,R,V],encapsulation:2})};var Xr=()=>[5,10,20];function Kr(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.agregarPais())}),r()}}function Yr(o,e){}function Zr(o,e){if(o&1){let i=_();t(0,"div",10),l(1,"h5",11),t(2,"p-iconfield"),l(3,"p-inputicon",12),t(4,"input",13),f("input",function(m){v(i);let u=h(),C=$(8);return b(u.onGlobalFilter(C,m))}),r()()()}}function Jr(o,e){o&1&&(t(0,"tr")(1,"th",14)(2,"span",15),s(3,"Pa\xEDs "),l(4,"p-sortIcon",16),r()(),t(5,"th",17)(6,"span",15),s(7,"Siglas "),l(8,"p-sortIcon",18),r()(),t(9,"th",19)(10,"span",15),s(11,"Fec. Registro "),l(12,"p-sortIcon",20),r()()())}function Wr(o,e){if(o&1){let i=_();t(0,"tr")(1,"td")(2,"p-button",21),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarPais(m))}),r()(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r()()}if(o&2){let i=e.$implicit;c(2),U("label",i.pais),c(2),S(i.siglas),c(2),S(i.fecRegistro)}}var Oi=class o{constructor(e,i,a){this.messageService=e;this._paisServicio=i;this.dialog=a}ref;mostrarLoading=!1;listaPais=[];columnasTabla=["pais","siglas","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}agregarPais(){return n(this,null,function*(){this.ref=this.dialog.open(bi,{header:"Nuevo Pa\xEDs",width:"290px",height:"240px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0,this._paisServicio.listaPais().subscribe({next:e=>n(this,null,function*(){e.status?this.listaPais=yield e.value:this.listaPais=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}modificarPais(e){return n(this,null,function*(){this.ref=this.dialog.open(bi,{header:"Modificar Pa\xEDs",width:"290px",height:"240px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}static \u0275fac=function(i){return new(i||o)(p(M),p(Ie),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Pais"]],decls:15,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idPais","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","pais"],[1,"flex","items-center","gap-2"],["field","pais"],["pSortableColumn","siglas"],["field","siglas"],["pSortableColumn","fecRegistro"],["field","fecRegistro"],["type","button","text","",3,"onClick","label"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"div",6)(2,"p-toolbar",7),E(3,Kr,1,0,"ng-template",null,0,g)(5,Yr,0,0,"ng-template",null,1,g),r(),t(7,"p-table",8,2),E(9,Zr,5,0,"ng-template",null,3,g)(11,Jr,13,0,"ng-template",null,4,g)(13,Wr,7,3,"ng-template",null,5,g),r()()),i&2&&(c(7),d("value",a.listaPais)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,Xr))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K],encapsulation:2})};var ze=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Estado/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idEstado:0,descrip:e.descrip,siglas:e.siglas,idPais:e.idPais}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idEstado:e.idEstado,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,siglas:e.siglas,idPais:e.idPais}})}listaEstado(e){return this.http.get(`${this.urlApi}ListaEstado/${e}`)}listaCatEstadoByPais(e){return this.http.get(`${this.urlApi}ListaCatEstadoByPais/${e}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Qr=o=>({margin:o}),hi=class o{constructor(e,i,a,m,u,C){this.ref=e;this.fb=i;this.config=a;this.messageService=m;this._paisServicio=u;this._estadoServicio=C;this.frmEstado=this.fb.group({idPais:[0,w.required],estado:["",w.required],siglas:["",w.required]}),this.config.data!=null&&(this.estado=this.config.data,this.boton="Actualizar",this.marginLeft="125px",this.frmEstado.patchValue({idPais:this.estado.idPais,estado:this.estado.estado,siglas:this.estado.siglas}))}boton="Guardar";marginLeft="135px";mostrarLoading=!1;frmEstado;listaCatPais=[];estado;ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais()})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}guardar_editarEstado(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.estado==null){let e={descrip:this.frmEstado.value.estado,siglas:this.frmEstado.value.siglas,idPais:this.frmEstado.value.idPais};this._estadoServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Estado registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idEstado:this.estado.idEstado,oldDescrip:this.estado.estado,newDescrip:this.frmEstado.value.estado,siglas:this.frmEstado.value.siglas,idPais:this.frmEstado.value.idPais};this._estadoServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Pa\xEDs actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(ae),p(q),p(N),p(M),p(Ie),p(ze))};static \u0275cmp=x({type:o,selectors:[["app-ModalEstado"]],decls:18,vars:9,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-6","mt-2"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",1,"w-60",3,"options","filter"],["for","on_label"],["variant","on",1,"mb-4"],["pInputText","","formControlName","estado","autocomplete","off",2,"width","210px"],["pInputText","","formControlName","siglas","autocomplete","off",2,"width","210px"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"p-select",3),t(4,"label",4),s(5,"Pa\xEDs"),r()()(),t(6,"div",1)(7,"p-floatlabel",5),l(8,"input",6),t(9,"label",4),s(10,"Estado"),r()()(),t(11,"div",1)(12,"p-floatlabel",5),l(13,"input",7),t(14,"label",4),s(15,"Siglas"),r()()(),t(16,"div",8)(17,"p-button",9),f("onClick",function(){return a.guardar_editarEstado()}),r()()()),i&2&&(d("formGroup",a.frmEstado),c(3),d("options",a.listaCatPais)("filter",!0),c(13),d("ngStyle",me(7,Qr,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmEstado.invalid))},dependencies:[I,be,F,oe,D,P,A,L,T,R,V,H],encapsulation:2})};var eo=()=>[5,10,20];function io(o,e){if(o&1){let i=_();t(0,"p-button",10),f("onClick",function(){v(i);let m=h();return b(m.agregarEstado())}),r()}}function to(o,e){}function ro(o,e){if(o&1){let i=_();t(0,"div",11)(1,"p-floatlabel",12),l(2,"p-select",13),t(3,"label",14),s(4,"Pa\xEDs"),r()(),t(5,"p-button",15),f("onClick",function(){v(i);let m=h();return b(m.cargaInfo())}),r()(),t(6,"div",16),l(7,"h5",17),t(8,"p-iconfield"),l(9,"p-inputicon",18),t(10,"input",19),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}if(o&2){let i=h();c(2),d("options",i.listaCatPais)("filter",!0)}}function oo(o,e){o&1&&(t(0,"tr")(1,"th",20)(2,"span",21),s(3,"Pa\xEDs "),l(4,"p-sortIcon",22),r()(),t(5,"th",23)(6,"span",21),s(7,"Estado "),l(8,"p-sortIcon",24),r()(),t(9,"th",25)(10,"span",21),s(11,"Siglas "),l(12,"p-sortIcon",26),r()()())}function ao(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td")(4,"p-button",27),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarEstado(m))}),r()(),t(5,"td"),s(6),r()()}if(o&2){let i=e.$implicit;c(2),S(i.pais),c(2),U("label",i.estado),c(2),S(i.siglas)}}var ji=class o{constructor(e,i,a,m,u){this.fb=e;this._paisServicio=i;this._estadoServicio=a;this.messageService=m;this.dialog=u;this.frmEstado=this.fb.group({idPais:[0]})}ref;mostrarLoading=!1;listaCatPais=[];frmEstado;listaEstado=[];columnasTabla=["pais","estado","siglas"];estado;ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0,this._estadoServicio.listaEstado(this.frmEstado.value.idPais).subscribe({next:e=>n(this,null,function*(){e.status?this.listaEstado=yield e.value:this.listaEstado=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}agregarEstado(){return n(this,null,function*(){this.ref=this.dialog.open(hi,{header:"Nuevo Estado",width:"255px",height:"275px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&this.cargaInfo()}))})}modificarEstado(e){return n(this,null,function*(){this.ref=this.dialog.open(hi,{header:"Modificar Estado",width:"255px",height:"275px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}static \u0275fac=function(i){return new(i||o)(p(q),p(Ie),p(ze),p(M),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Estado"]],decls:16,vars:10,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],["styleClass","mb-6"],["dataKey","idEstado","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","flex-wrap","items-start"],["variant","on"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",1,"w-60",3,"options","filter"],["for","on_label"],["label","Cargar","icon","pi pi-reply",1,"ml-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","pais"],[1,"flex","items-center","gap-2"],["field","pais"],["pSortableColumn","estado"],["field","estado"],["pSortableColumn","siglas"],["field","siglas"],["type","button","text","",3,"onClick","label"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"form",6)(2,"div",7)(3,"p-toolbar",8),E(4,io,1,0,"ng-template",null,0,g)(6,to,0,0,"ng-template",null,1,g),r(),t(8,"p-table",9,2),E(10,ro,11,2,"ng-template",null,3,g)(12,oo,13,0,"ng-template",null,4,g)(14,ao,7,3,"ng-template",null,5,g),r()()()),i&2&&(c(),d("formGroup",a.frmEstado),c(7),d("value",a.listaEstado)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(9,eo))("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,Ce,G,k,B,Y,X,K,H],encapsulation:2})};var Me=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Municipio/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idMunicipio:0,idPais:e.idPais,descrip:e.descrip,idEstado:e.idEstado}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idMunicipio:e.idMunicipio,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,idEstado:e.idEstado,idPais:e.idPais}})}listaMunicipio(e,i){return this.http.get(`${this.urlApi}ListaMunicipio/${e}/${i}`)}listaCatMunicipio(){return this.http.get(`${this.urlApi}ListaCatMunicipio`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Bt=()=>({width:"220px"}),no=o=>({margin:o}),Ci=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this.ref=i;this.config=a;this.messageService=m;this._paisServicio=u;this._estadoServicio=C;this._municipioServicio=fe;this.frmMunicipio=this.fb.group({idPais:[0,w.required],idEstado:[0,w.required],municipio:["",w.required]}),this.config.data!=null?(this.municipio=this.config.data,this.boton="Actualizar",this.marginLeft="135px",this.cargaCatEstado(this.municipio.idPais),this.frmMunicipio.patchValue({idPais:this.municipio.idPais,idEstado:this.municipio.idEstado,municipio:this.municipio.municipio})):this.cargaCatEstado(0)}boton="Guardar";marginLeft="145px";mostrarLoading=!1;frmMunicipio;listaCatPais=[];listaCatEstado=[];municipio;ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais()})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}cargaCatEstado(e){return n(this,null,function*(){this._estadoServicio.listaCatEstadoByPais(e).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatEstado=yield i.value,this.listaCatEstado.length==1&&this.frmMunicipio.patchValue({idEstado:0}))})})})}guardar_editarMunicipio(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.municipio==null){let e={idPais:this.frmMunicipio.value.idPais,descrip:this.frmMunicipio.value.municipio,idEstado:this.frmMunicipio.value.idEstado};this._municipioServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Ciudad/Municipio registrado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idMunicipio:this.municipio.idMunicipio,oldDescrip:this.municipio.municipio,newDescrip:this.frmMunicipio.value.municipio,idEstado:this.frmMunicipio.value.idEstado,idPais:this.frmMunicipio.value.idPais};this._municipioServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Ciudad/Municipio actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(ae),p(N),p(M),p(Ie),p(ze),p(Me))};static \u0275cmp=x({type:o,selectors:[["app-ModalMunicipio"]],decls:18,vars:17,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4"],["variant","on",1,"mb-6","mt-2"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",3,"onChange","options","filter"],["for","on_label"],["variant","on",1,"mb-6"],["appendTo","body","optionLabel","estado","optionValue","idEstado","formControlName","idEstado",3,"options","filter"],["variant","on",1,"mb-4"],["pInputText","","formControlName","municipio","autocomplete","off",2,"width","220px"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2)(3,"p-select",3),f("onChange",function(u){return a.cargaCatEstado(u.value)}),r(),t(4,"label",4),s(5,"Pa\xEDs"),r()()(),t(6,"div",1)(7,"p-floatlabel",5),l(8,"p-select",6),t(9,"label",4),s(10,"Estado"),r()()(),t(11,"div",1)(12,"p-floatlabel",7),l(13,"input",8),t(14,"label",4),s(15,"Ciudad/Municipio"),r()()(),t(16,"div",9)(17,"p-button",10),f("onClick",function(){return a.guardar_editarMunicipio()}),r()()()),i&2&&(d("formGroup",a.frmMunicipio),c(3),j(y(13,Bt)),d("options",a.listaCatPais)("filter",!0),c(5),j(y(14,Bt)),d("options",a.listaCatEstado)("filter",!0),c(8),d("ngStyle",me(15,no,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmMunicipio.invalid))},dependencies:[I,be,F,oe,D,P,A,L,T,R,V,H],encapsulation:2})};var so=()=>[5,10,20],Ht=()=>({width:"160px"});function lo(o,e){if(o&1){let i=_();t(0,"p-button",10),f("onClick",function(){v(i);let m=h();return b(m.agregarMunicipio())}),r()}}function mo(o,e){}function co(o,e){if(o&1){let i=_();t(0,"div",11)(1,"p-floatlabel",12)(2,"p-select",13),f("onChange",function(m){v(i);let u=h();return b(u.cargaCatEstado(m.value))}),r(),t(3,"label",14),s(4,"Pa\xEDs"),r()(),t(5,"p-floatlabel",12),l(6,"p-select",15),t(7,"label",14),s(8,"Estado"),r()(),t(9,"p-button",16),f("onClick",function(){v(i);let m=h();return b(m.cargaInfo())}),r()(),t(10,"div",17),l(11,"h5",18),t(12,"p-iconfield"),l(13,"p-inputicon",19),t(14,"input",20),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}if(o&2){let i=h();c(2),j(y(8,Ht)),d("options",i.listaCatPais)("filter",!0),c(4),j(y(9,Ht)),d("options",i.listaCatEstado)("filter",!0)}}function po(o,e){o&1&&(t(0,"tr")(1,"th",21)(2,"span",22),s(3,"Pa\xEDs "),l(4,"p-sortIcon",23),r()(),t(5,"th",24)(6,"span",22),s(7,"Estado "),l(8,"p-sortIcon",25),r()(),t(9,"th",26)(10,"span",22),s(11,"Ciudad/Municipio "),l(12,"p-sortIcon",27),r()()())}function uo(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",28),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarMunicipio(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.pais),c(2),S(i.estado),c(2),U("label",i.municipio)}}var Ui=class o{constructor(e,i,a,m,u,C){this.fb=e;this._estadoServicio=i;this._paisServicio=a;this._municipioServicio=m;this.messageService=u;this.dialog=C;this.frmMunicipio=this.fb.group({idPais:[0],idEstado:[0]})}ref;mostrarLoading=!1;frmMunicipio;listaMunicipio=[];listaCatPais=[];columnasTabla=["pais","estado","municipio"];listaCatEstado=[];ngOnInit(){return n(this,null,function*(){yield this.cargaCatPais(),yield this.cargaCatEstado(0)})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0;let e=this.frmMunicipio.value.idPais,i=this.frmMunicipio.value.idEstado;this._municipioServicio.listaMunicipio(e,i).subscribe({next:a=>n(this,null,function*(){a.status?this.listaMunicipio=yield a.value:this.listaMunicipio=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaCatEstado(e){return n(this,null,function*(){this._estadoServicio.listaCatEstadoByPais(e).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatEstado=yield i.value,this.listaCatEstado.length==1&&this.frmMunicipio.patchValue({idEstado:0}))})})})}cargaCatPais(){return n(this,null,function*(){this._paisServicio.listaCatPais().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatPais=yield e.value)})})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}agregarMunicipio(){return n(this,null,function*(){this.ref=this.dialog.open(Ci,{header:"Nuevo Municipio",width:"260px",height:"280px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&this.cargaInfo()}))})}modificarMunicipio(e){return n(this,null,function*(){this.ref=this.dialog.open(Ci,{header:"Modificar Municipio",width:"260px",height:"280px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&this.cargaInfo()}))})}static \u0275fac=function(i){return new(i||o)(p(q),p(ze),p(Ie),p(Me),p(M),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Municipio"]],decls:16,vars:10,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],["styleClass","mb-6"],["dataKey","idMunicipio","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","flex-wrap","items-start","gap-2"],["variant","on"],["appendTo","body","optionLabel","pais","optionValue","idPais","formControlName","idPais",3,"onChange","options","filter"],["for","on_label"],["appendTo","body","optionLabel","estado","optionValue","idEstado","formControlName","idEstado",3,"options","filter"],["label","Cargar","icon","pi pi-reply",1,"ml-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","pais"],[1,"flex","items-center","gap-2"],["field","pais"],["pSortableColumn","estado"],["field","estado"],["pSortableColumn","municipio"],["field","municipio"],["type","button","text","",3,"onClick","label"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"form",6)(2,"div",7)(3,"p-toolbar",8),E(4,lo,1,0,"ng-template",null,0,g)(6,mo,0,0,"ng-template",null,1,g),r(),t(8,"p-table",9,2),E(10,co,15,10,"ng-template",null,3,g)(12,po,13,0,"ng-template",null,4,g)(14,uo,7,3,"ng-template",null,5,g),r()()()),i&2&&(c(),d("formGroup",a.frmMunicipio),c(7),d("value",a.listaMunicipio)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(9,so))("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,Ce,G,k,B,Y,X,K,H],encapsulation:2})};var mi=class o{constructor(e){this.http=e}urlApi=re.endpoint+"TipoUnidad/";listaCatTipoUnidad(){return this.http.get(`${this.urlApi}ListaCatTipoUnidad`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Qe=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Clasificacion/";listaCatClasificacion(){return this.http.get(`${this.urlApi}ListaCatClasificacion`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Pe=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Solicitud/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idSolicitud:0,idUsuario:e.idUsuario,idEmpresa:e.idEmpresa,idCliente:e.idCliente,idTipoUnidad:e.idTipoUnidad,idTipoServicio:e.idTipoServicio,idOrigen:e.idOrigen,idDestino:e.idDestino,fecEfectiva:e.FecEfectiva,idMoneda:e.idMoneda,venta:e.venta,cantidad:e.cantidad,isTrasbordo:e.isTrasbordo,isCruce:e.isCruce,tipoMercancia:e.tipoMercancia,observaciones:e.observaciones,idClasificacion:e.idClasificacion,isRedondo:e.isRedondo}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idSolicitud:e.idSolicitud,idUsuario:e.idUsuario,idEmpresa:e.idEmpresa,idCliente:e.idCliente,idTipoUnidad:e.idTipoUnidad,idTipoServicio:e.idTipoServicio,idOrigen:e.idOrigen,idDestino:e.idDestino,fecEfectiva:e.FecEfectiva,idMoneda:e.idMoneda,venta:e.venta,cantidad:e.cantidad,isTrasbordo:e.isTrasbordo,isCruce:e.isCruce,tipoMercancia:e.tipoMercancia,observaciones:e.observaciones,idClasificacion:e.idClasificacion,isRedondo:e.isRedondo}})}actualizarVenta(e,i){return this.http.put(`${this.urlApi}ActualizarVenta/${e}/${i}`,null)}actualizarFechaEfectiva(e){return this.http.put(`${this.urlApi}ActualizarFechaEfectiva/${e.idEmbarque}/${e.FecEfectiva}`,null)}actualizarCliente(e,i){return this.http.put(`${this.urlApi}ActualizarCliente/${e}/${i}`,null)}actualizarNoUnidad(e,i,a){return this.http.put(`${this.urlApi}ActualizarNoUnidad/${e}/${a}/${i}`,null)}cancelar(e){return this.http.request("put",`${this.urlApi}Cancelar/${e}`)}listaSolicitudByUsuario(e){return this.http.get(`${this.urlApi}ListaSolicitudByUsuario/${e}`)}listaSolicitudCargos(e,i){return this.http.get(`${this.urlApi}ListaSolicitudCargos/${e}/${i}`)}guardarCargo(e){return this.http.request("post",`${this.urlApi}GuardarCargo`,{body:{idSolicitud:e.idSolicitud,idUsuario:e.idUsuario,idRuta:e.idRuta,idCargo:e.idCargo,monto:e.monto}})}borrarCargo(e,i,a){return this.http.delete(`${this.urlApi}BorrarCargo/${e}/${i}/${a}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var $t=()=>({width:"383px"}),Ye=()=>({width:"250px"}),fo=o=>({margin:o}),Si=class o{constructor(e,i,a,m,u,C,fe,Oe,z,_t,Et,Nn,jn,Un){this.fb=e;this.config=i;this.messageService=a;this.ref=m;this.datePipe=u;this._clienteServicio=C;this._utilidadServicio=fe;this._empresaServicio=Oe;this._tipoServicioServicio=z;this._tipoUnidadServicio=_t;this._municipioServicio=Et;this._clasificacionServicio=Nn;this._monedaServicio=jn;this._solicitudServicio=Un;this.frmSolicitud=this.fb.group({idCliente:[0,w.required],idEmpresa:[0,w.required],idTipoServicio:[0,w.required],idTipoUnidad:[0,w.required],idOrigen:[0,w.required],idDestino:[0,w.required],idClasificacion:[0,w.required],idMoneda:[0,w.required],venta:[0,w.required],cantidad:[{value:0,disabled:!1},[w.required]],fecEfectiva:["",w.required],isTrasbordo:[!1],isCruce:[!1],isRedondo:[!1],tipoMercancia:["",w.required],observaciones:[""]}),this.config.data!=null&&(this.solicitud=this.config.data,this.boton="Actualizar",this.marginLeft="695px",this.frmSolicitud.patchValue({idCliente:this.solicitud.idCliente,idEmpresa:this.solicitud.idEmpresa,idTipoServicio:this.solicitud.idTipoServicio,idTipoUnidad:this.solicitud.idTipoUnidad,fecEfectiva:new Date(this.solicitud.fecEfectiva),idOrigen:this.solicitud.idOrigen,idDestino:this.solicitud.idDestino,idClasificacion:this.solicitud.idClasificacion,idMoneda:this.solicitud.idMoneda,venta:this.solicitud.monto,cantidad:1,isTrasbordo:!!this.solicitud.isTrasbordo,isCruce:!!this.solicitud.isCruce,isRedondo:!!this.solicitud.isRedondo,tipoMercancia:this.solicitud.tipoMercancia,observaciones:this.solicitud.observaciones=="S/C"?null:this.solicitud.observaciones}),this.frmSolicitud.get("cantidad")?.disable(),this.cargaCatEmpresa(this.solicitud.idCliente),this.cargaCatMoneda(this.solicitud.idCliente))}minDate;frmSolicitud;boton="Guardar";marginLeft="705px";mostrarLoading=!1;listaCatCliente=[];listaCatEmpresa=[];listaCatTipoServicio=[];listaCatTipoUnidad=[];listaCatMunicipio=[];listaCatClasificacion=[];listaCatMoneda=[];solicitud;ngOnInit(){return n(this,null,function*(){let e=yield this._utilidadServicio.obtenerSesionUsuario();this.minDate=new Date,yield this.cargarCatCliente(e[0].idUsuario),this.solicitud==null&&(yield this.cargaCatEmpresa(0),yield this.cargaCatMoneda(0)),yield this.cargaCatTipoServicio(),yield this.cargaCatTipoUnidad(),yield this.cargaCatMunicipio(),yield this.cargaCatClasificacion()})}cargarCatCliente(e){return n(this,null,function*(){this._clienteServicio.listaCatClienteByUsuario(e).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatCliente=yield i.value)})})})}cargaCatEmpresa(e){return n(this,null,function*(){this._empresaServicio.listaCatEmpresaByCliente(e,2).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatEmpresa=yield i.value)})})})}cargaCatTipoServicio(){return n(this,null,function*(){this._tipoServicioServicio.listaCatTipoServicio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatTipoServicio=yield e.value)})})})}cargaCatTipoUnidad(){return n(this,null,function*(){this._tipoUnidadServicio.listaCatTipoUnidad().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatTipoUnidad=yield e.value)})})})}cargaCatMunicipio(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}cargaCatClasificacion(){return n(this,null,function*(){this._clasificacionServicio.listaCatClasificacion().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatClasificacion=yield e.value)})})})}cargaCatMoneda(e){return n(this,null,function*(){this._monedaServicio.listaCatMonedaByIdCliente(e,2).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatMoneda=yield i.value)})})})}guardar_editarSolicitud(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();if(this.solicitud==null){let i={idUsuario:e[0].idUsuario,idEmpresa:this.frmSolicitud.value.idEmpresa,idCliente:this.frmSolicitud.value.idCliente,idTipoUnidad:this.frmSolicitud.value.idTipoUnidad,idTipoServicio:this.frmSolicitud.value.idTipoServicio,idOrigen:this.frmSolicitud.value.idOrigen,idDestino:this.frmSolicitud.value.idDestino,FecEfectiva:this.datePipe.transform(this.frmSolicitud.value.fecEfectiva,"dd/MM/yyyy"),idMoneda:this.frmSolicitud.value.idMoneda,venta:this.frmSolicitud.value.venta,cantidad:this.frmSolicitud.value.cantidad,isTrasbordo:this.frmSolicitud.value.isTrasbordo,isCruce:this.frmSolicitud.value.isCruce,tipoMercancia:this.frmSolicitud.value.tipoMercancia,observaciones:this.frmSolicitud.value.observaciones==""?null:this.frmSolicitud.value.observaciones,idClasificacion:this.frmSolicitud.value.idClasificacion,isRedondo:this.frmSolicitud.value.isRedondo};this._solicitudServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let i={idSolicitud:this.solicitud.idSolicitud,idUsuario:e[0].idUsuario,idEmpresa:this.frmSolicitud.value.idEmpresa,idCliente:this.frmSolicitud.value.idCliente,idTipoUnidad:this.frmSolicitud.value.idTipoUnidad,idTipoServicio:this.frmSolicitud.value.idTipoServicio,idOrigen:this.frmSolicitud.value.idOrigen,idDestino:this.frmSolicitud.value.idDestino,FecEfectiva:this.datePipe.transform(this.frmSolicitud.value.fecEfectiva,"dd/MM/yyyy"),idMoneda:this.frmSolicitud.value.idMoneda,venta:this.frmSolicitud.value.venta,cantidad:1,isTrasbordo:this.frmSolicitud.value.isTrasbordo,isCruce:this.frmSolicitud.value.isCruce,tipoMercancia:this.frmSolicitud.value.tipoMercancia,observaciones:this.frmSolicitud.value.observaciones==""?null:this.frmSolicitud.value.observaciones,idClasificacion:this.frmSolicitud.value.idClasificacion,isRedondo:this.frmSolicitud.value.isRedondo};this._solicitudServicio.actualizar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud actualizada",life:3e3}),this.ref.close(!0)):(this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}),this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ae),p(ri),p(xe),p(he),p(Be),p(Je),p(mi),p(Me),p(Qe),p(ke),p(Pe))};static \u0275cmp=x({type:o,selectors:[["app-ModalSolicitud"]],decls:73,vars:56,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2"],["variant","on",1,"mt-1","mb-8"],["appendTo","body","optionLabel","cliente","optionValue","idCliente","formControlName","idCliente",3,"onChange","options","filter"],["variant","on",1,"mb-8"],["appendTo","body","optionLabel","empresa","optionValue","idEmpresa","formControlName","idEmpresa",3,"options","filter"],[1,"flex","flex-wrap","items-start","gap-4"],["appendTo","body","optionLabel","tipoServicio","optionValue","idTipoServicio","formControlName","idTipoServicio",3,"options","filter"],["appendTo","body","optionLabel","tipoUnidad","optionValue","idTipoUnidad","formControlName","idTipoUnidad",3,"options","filter"],["appendTo","body","dateFormat","dd/mm/yy","formControlName","fecEfectiva","showIcon","","iconDisplay","input",3,"minDate","readonlyInput"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idOrigen",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idDestino",3,"options","filter"],["appendTo","body","optionLabel","clasificacion","optionValue","idClasificacion","formControlName","idClasificacion",3,"options","filter"],["appendTo","body","optionLabel","moneda","optionValue","idMoneda","formControlName","idMoneda",3,"options","filter"],["variant","on",1,"mb-8","mt-1"],["mode","currency","currency","MXN","locale","es-MX","formControlName","venta",3,"inputStyle"],["formControlName","cantidad",3,"inputStyle"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","flex"],[1,"mr-2"],["formControlName","isTrasbordo"],[1,"p-field","p-col-12","flex","mb-3","mt-3"],["formControlName","isCruce"],["formControlName","isRedondo"],[1,"flex","flex-wrap","items-start","gap-4","mt-4"],["pInputText","","formControlName","tipoMercancia","autocomplete","off",2,"width","383px"],["for","on_label"],["pInputText","","formControlName","observaciones","autocomplete","off",2,"width","380px"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2)(3,"p-select",3),f("onChange",function(u){return a.cargaCatEmpresa(u.value)})("onChange",function(u){return a.cargaCatMoneda(u.value)}),r(),t(4,"label"),s(5,"Cliente"),r()(),t(6,"p-floatlabel",4),l(7,"p-select",5),t(8,"label"),s(9,"Empresa Factura"),r()()(),t(10,"div",6)(11,"p-floatlabel",4),l(12,"p-select",7),t(13,"label"),s(14,"Tipo Servicio"),r()(),t(15,"p-floatlabel",4),l(16,"p-select",8),t(17,"label"),s(18,"Tipo Unidad"),r()(),t(19,"p-floatlabel",4),l(20,"p-datepicker",9),t(21,"label"),s(22,"Fecha Efectiva"),r()()(),t(23,"div",6)(24,"p-floatlabel",4),l(25,"p-select",10),t(26,"label"),s(27,"Origen"),r()(),t(28,"p-floatlabel",4),l(29,"p-select",11),t(30,"label"),s(31,"Destino"),r()(),t(32,"p-floatlabel",4),l(33,"p-select",12),t(34,"label"),s(35,"Clasificaci\xF3n"),r()()(),t(36,"div",6)(37,"p-floatlabel",4),l(38,"p-select",13),t(39,"label"),s(40,"Moneda"),r()(),t(41,"p-floatlabel",14),l(42,"p-inputnumber",15),t(43,"label"),s(44,"Venta"),r()(),t(45,"p-floatlabel",4),l(46,"p-inputnumber",16),t(47,"label"),s(48,"Cantidad"),r()()(),t(49,"div",17)(50,"div",18)(51,"label",19),s(52,"\xBFPermite trasbordo?"),r(),l(53,"p-toggleswitch",20),r(),t(54,"div",21)(55,"label",19),s(56,"\xBFDeseas que RAD realice el Cruce?"),r(),l(57,"p-toggleswitch",22),r(),t(58,"div",21)(59,"label",19),s(60,"\xBFEs Redondo?"),r(),l(61,"p-toggleswitch",23),r()(),t(62,"div",24)(63,"p-floatlabel",4),l(64,"input",25),t(65,"label",26),s(66,"Tipo de Mercancia"),r()(),t(67,"p-floatlabel",4),l(68,"input",27),t(69,"label",26),s(70,"Observaciones"),r()()(),t(71,"div",28)(72,"p-button",29),f("onClick",function(){return a.guardar_editarSolicitud()}),r()()()),i&2&&(d("formGroup",a.frmSolicitud),c(3),j(y(43,$t)),d("options",a.listaCatCliente)("filter",!0),c(4),j(y(44,$t)),d("options",a.listaCatEmpresa)("filter",!0),c(5),j(y(45,Ye)),d("options",a.listaCatTipoServicio)("filter",!0),c(4),j(y(46,Ye)),d("options",a.listaCatTipoUnidad)("filter",!0),c(4),j(y(47,Ye)),d("minDate",a.minDate)("readonlyInput",!0),c(5),j(y(48,Ye)),d("options",a.listaCatMunicipio)("filter",!0),c(4),j(y(49,Ye)),d("options",a.listaCatMunicipio)("filter",!0),c(4),j(y(50,Ye)),d("options",a.listaCatClasificacion)("filter",!0),c(5),j(y(51,Ye)),d("options",a.listaCatMoneda)("filter",!0),c(4),d("inputStyle",y(52,Ye)),c(4),d("inputStyle",y(53,Ye)),c(25),d("ngStyle",me(54,fo,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmSolicitud.invalid))},dependencies:[I,be,oi,F,oe,D,P,A,L,T,R,V,H,Le,qe],encapsulation:2})};var ei=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Ruta/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idUsuario:e.idUsuario,idProveedor:e.idProveedor,idTipoUnidad:e.idTipoUnidad,idOrigen:e.idOrigen,idDestino:e.idDestino,idClasificacion:e.idClasificacion,idMoneda:e.idMoneda,tarifa:e.tarifa,comentario:e.comentario}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idRuta:e.idRuta,idUsuario:e.idUsuario,IdProveedor:e.IdProveedor,newIdTipoUnidad:e.newIdTipoUnidad,oldIdTipoUnidad:e.oldIdTipoUnidad,newIdOrigen:e.newIdOrigen,oldIdOrigen:e.oldIdOrigen,newIdDestino:e.newIdDestino,oldIdDestino:e.oldIdDestino,newIdClasificacion:e.newIdClasificacion,oldIdClasificacion:e.oldIdClasificacion,newIdMoneda:e.newIdMoneda,oldIdMoneda:e.oldIdMoneda,tarifa:e.tarifa,comentario:e.comentario,isActivo:e.isActivo}})}ListaRuta(e,i,a){return this.http.get(`${this.urlApi}ListaRuta/${e}/${i}/${a}`)}listaCatRutaProveedor(e,i,a,m,u,C){return this.http.get(`${this.urlApi}ListaCatRutaProveedor/${e}/${i}/${a}/${m}/${u}/${C}`)}listaProveedorRuta(e,i,a,m,u,C,fe){return this.http.get(`${this.urlApi}ListaProveedorRuta/${e}/${i}/${a}/${m}/${u}/${C}/${fe}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Gi=class o{constructor(e){this.http=e}urlApi=re.endpoint+"SolicitudMatch/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idSolicitud:e.idSolicitud,idRuta:e.idRuta,tarifa:e.tarifa}})}borrarMatch(e,i){return this.http.delete(`${this.urlApi}BorrarMatch/${e}/${i}`)}listaMatch(e){return this.http.get(`${this.urlApi}ListaMatch/${e}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var vo=()=>({width:"350px"});function bo(o,e){if(o&1){let i=_();t(0,"div",15),l(1,"h5",16),t(2,"p-iconfield"),l(3,"p-inputicon",17),t(4,"input",18),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}}function ho(o,e){o&1&&(t(0,"tr")(1,"th",19)(2,"span",20),s(3,"Proveedor "),l(4,"p-sortIcon",21),r()(),t(5,"th",22)(6,"span",20),s(7,"Utilizada "),l(8,"p-sortIcon",23),r()(),t(9,"th",24)(10,"span",20),s(11,"T. Unidad "),l(12,"p-sortIcon",25),r()(),t(13,"th",26)(14,"span",20),s(15,"Origen "),l(16,"p-sortIcon",27),r()(),t(17,"th",28)(18,"span",20),s(19,"Destino "),l(20,"p-sortIcon",29),r()(),t(21,"th",30)(22,"span",20),s(23,"Clasificaci\xF3n "),l(24,"p-sortIcon",31),r()(),t(25,"th",32)(26,"span",20),s(27,"Tarifa "),l(28,"p-sortIcon",33),r()(),t(29,"th",34)(30,"span",20),s(31,"Comentario "),l(32,"p-sortIcon",35),r()(),l(33,"th"),r())}function Co(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),s(12),r(),t(13,"td"),s(14),r(),t(15,"td",36),s(16),r(),t(17,"td")(18,"p-button",37),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroProveedorRuta(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.proveedor),c(2),S(i.utilizada),c(2),S(i.tipoUnidad),c(2),S(i.origen),c(2),S(i.destino),c(2),S(i.clasificacion),c(2),S(i.tarifa),c(2),S(i.comentario),c(2),d("rounded",!0)}}function So(o,e){o&1&&(t(0,"tr")(1,"th",19)(2,"span",20),s(3,"Proveedor "),l(4,"p-sortIcon",21),r()(),t(5,"th",24)(6,"span",20),s(7,"T. Unidad "),l(8,"p-sortIcon",25),r()(),t(9,"th",26)(10,"span",20),s(11,"Origen "),l(12,"p-sortIcon",27),r()(),t(13,"th",28)(14,"span",20),s(15,"Destino "),l(16,"p-sortIcon",29),r()(),t(17,"th",30)(18,"span",20),s(19,"Clasificacion "),l(20,"p-sortIcon",31),r()(),t(21,"th",32)(22,"span",20),s(23,"Tarifa "),l(24,"p-sortIcon",33),r()(),l(25,"th"),r())}function yo(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),s(12),r(),t(13,"td")(14,"p-button",38),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarProveedorRuta(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.proveedor),c(2),S(i.tipoUnidad),c(2),S(i.origen),c(2),S(i.destino),c(2),S(i.clasificacion),c(2),S(i.tarifa),c(2),d("rounded",!0)}}var ki=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this.config=i;this.messageService=a;this.ref=m;this._rutaServicio=u;this._solicitudMatchServicio=C;this.confirmationService=fe;this.solicitud=this.config.data,this.frmRuta=this.fb.group({idProveedor:[0]})}mostrarLoading=!1;solicitud;listaCatProveedor=[];listaProveedorRuta=[];listaMatch=[];frmRuta;columnasTabla=["proveedor","utilizada","tipoUnidad","origen","destino","clasificacion","tarifa","comentario"];columnaTablaRuta=["proveedor","tipoUnidad","origen","destino","clasificacion","tarifa"];ngOnInit(){return n(this,null,function*(){yield this.cargarCatProveedor(),yield this.cargaMatch()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargarCatProveedor(){return n(this,null,function*(){let e=this.solicitud?.idTipoUnidad??0,i=this.solicitud?.idOrigen??0,a=this.solicitud?.idDestino??0,m=this.solicitud?.idClasificacion??0,u=this.solicitud?.idMoneda??0,C=this.solicitud?.idTipoServicio??0;this._rutaServicio.listaCatRutaProveedor(e,i,a,m,u,C).subscribe({next:fe=>n(this,null,function*(){fe.status&&(this.listaCatProveedor=yield fe.value)})})})}cargaProveedorRutas(){return n(this,null,function*(){this.mostrarLoading=!0;let e=this.frmRuta.value.idProveedor,i=this.solicitud?.idTipoUnidad??0,a=this.solicitud?.idOrigen??0,m=this.solicitud?.idDestino??0,u=this.solicitud?.idClasificacion??0,C=this.solicitud?.idMoneda??0,fe=this.solicitud?.idTipoServicio??0;this._rutaServicio.listaProveedorRuta(e,i,a,m,u,C,fe).subscribe({next:Oe=>n(this,null,function*(){Oe.status?this.listaProveedorRuta=yield Oe.value:this.listaProveedorRuta=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaMatch(){return n(this,null,function*(){this._solicitudMatchServicio.listaMatch(this.solicitud?.idSolicitud).subscribe({next:e=>n(this,null,function*(){e.status?this.listaMatch=yield e.value:this.listaMatch=[]}),complete:()=>{},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3})}})})}registroProveedorRuta(e){return n(this,null,function*(){if(this.fnValidaGridContenido(this.solicitud?.idTipoServicio)){let i={idSolicitud:this.solicitud?.idSolicitud,idRuta:e.idRuta,tarifa:e.costo};this._solicitudMatchServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Proveedor Agreado",life:3e3}),yield this.cargaMatch()):this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3})}),complete:()=>{},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3})}})}else this.messageService.add({severity:"warn",summary:"Advertencia",detail:"Lo embarques nacionales no pueden tener m\xE1s de un proveedor",life:3e3})})}borrarProveedorRuta(e,i){return n(this,null,function*(){let a=this.solicitud?.idSolicitud,m=i.idRuta;this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar al proveedor?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this._solicitudMatchServicio.borrarMatch(a,m).subscribe({next:u=>n(this,null,function*(){u.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Proveedor Eliminado",life:3e3}),yield this.cargaMatch()):this.messageService.add({severity:"warn",summary:"Advertencia",detail:u.msg,life:3e3})}),complete:()=>{},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3})}})}})})}fnValidaGridContenido(e){let i=!0;return e==1&&this.listaMatch.length==1&&(i=!1),i}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ae),p(ei),p(Gi),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalRegistroProveedor"]],decls:25,vars:19,consts:[["dt",""],["caption",""],["header",""],["body",""],["dt2",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mb-4"],["variant","on"],["appendTo","body","optionLabel","proveedor","optionValue","idProveedor","formControlName","idProveedor",3,"options","filter"],[2,"font-weight","bold"],["label","Cargar","icon","pi pi-reply",1,"mr-2",3,"onClick"],["dataKey","idRuta","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","showCurrentPageReport"],[2,"margin-right","auto","font-size","20px","font-weight","bold"],["dataKey","idSolicitud","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","rows","columns","paginator","rowHover","showCurrentPageReport"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",2,"width","350px",3,"input"],["pSortableColumn","proveedor",2,"font-weight","bold"],[1,"flex","items-center","gap-2"],["field","proveedor"],["pSortableColumn","utilizada",2,"font-weight","bold"],["field","utilizada"],["pSortableColumn","tipoUnidad",2,"font-weight","bold"],["field","tipoUnidad"],["pSortableColumn","origen",2,"font-weight","bold"],["field","origen"],["pSortableColumn","destino",2,"font-weight","bold"],["field","destino"],["pSortableColumn","clasificacion",2,"font-weight","bold"],["field","clasificacion"],["pSortableColumn","tarifa",2,"font-weight","bold"],["field","tarifa"],["pSortableColumn","comentario",2,"font-weight","bold"],["field","comentario"],[2,"width","190px"],["icon","pi pi-plus","pTooltip","Registro Proveedor","severity","success","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-trash","severity","danger","pTooltip","Registro Proveedor","raised","","rounded","",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Proveedor "),r()(),t(7,"p-button",11),f("onClick",function(){return v(m),b(a.cargaProveedorRutas())}),r()(),t(8,"p-table",12,0),E(10,bo,5,0,"ng-template",null,1,g)(12,ho,34,0,"ng-template",null,2,g)(14,Co,19,9,"ng-template",null,3,g),r()(),t(16,"span",13),s(17," Detalle Ruta "),r(),t(18,"div",6)(19,"p-table",14,4),E(21,So,26,0,"ng-template",null,2,g)(23,yo,15,7,"ng-template",null,3,g),r()()()}i&2&&(d("formGroup",a.frmRuta),c(4),j(y(18,vo)),d("options",a.listaCatProveedor)("filter",!0),c(4),d("value",a.listaProveedorRuta)("loading",a.mostrarLoading)("rows",4)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0),c(11),d("value",a.listaMatch)("rows",4)("columns",a.columnaTablaRuta)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,X,K,H,ne],encapsulation:2})};var Bi=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Modalidad/";listaCatModalidad(){return this.http.get(`${this.urlApi}ListaCatModalidad`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Hi=class o{constructor(e){this.http=e}urlApi=re.endpoint+"SolicitudGlobal/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idSolicitudGlobal:0,idCliente:e.idCliente,idUsuario:e.idUsuario,idClasificacion:e.idClasificacion,idTipoServicio:e.idTipoServicio,idModalidad:e.idModalidad,idOrigen:e.idOrigen,idDestino:e.idDestino,contacto:e.contacto,correo:e.correo}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idSolicitudGlobal:e.idSolicitudGlobal,idCliente:e.idCliente,idUsuario:0,idClasificacion:e.idClasificacion,idTipoServicio:e.idTipoServicio,idModalidad:e.idModalidad,idOrigen:e.idOrigen,idDestino:e.idDestino,contacto:e.contacto,correo:e.correo}})}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var xo=()=>({width:"300px"}),wo=()=>({width:"230px"}),Ro=()=>({width:"210px"}),Io=()=>({width:"240px"}),Kt=()=>({width:"250px"}),Mo=o=>({margin:o}),yi=class o{constructor(e,i,a,m,u,C,fe,Oe,z,_t,Et){this.fb=e;this.config=i;this.messageService=a;this.ref=m;this._clienteServicio=u;this._clasificacionServicio=C;this._utilidadServicio=fe;this._tipoServicioServicio=Oe;this._modalidadServicio=z;this._municipioServicio=_t;this._solicitudGlobalServicio=Et;this.frmSolicitud=this.fb.group({idCliente:[0,w.required],idClasificacion:[0,w.required],idTipoServicio:[0,w.required],idModalidad:[0,w.required],idOrigen:[0,w.required],idDestino:[0,w.required],contacto:[""],correo:[""]}),this.config.data!=null&&(this.solicitud=this.config.data,this.boton="Actualizar",this.marginLeft="684px",this.frmSolicitud.patchValue({idCliente:this.solicitud.idCliente,idClasificacion:this.solicitud.idClasificacion,idTipoServicio:this.solicitud.idTipoServicio,idModalidad:this.solicitud.idModalidad,idOrigen:this.solicitud.idOrigen,idDestino:this.solicitud.idDestino,contacto:this.solicitud.contacto,correo:this.solicitud.correo}))}frmSolicitud;boton="Guardar";marginLeft="694px";mostrarLoading=!1;listaCatCliente=[];listaCatClasificacion=[];listaCatTipoServicio=[];listaCatModalidad=[];listaCatMunicipio=[];solicitud;ngOnInit(){return n(this,null,function*(){yield this.cargarCatCliente(),yield this.cargaCatClasificacion(),yield this.cargaCatTipoServicio(),yield this.cargaCatModalidad(),yield this.cargaCatMunicipio()})}cargarCatCliente(){return n(this,null,function*(){this._clienteServicio.listaCatCliente().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatCliente=yield e.value)})})})}cargaCatClasificacion(){return n(this,null,function*(){this._clasificacionServicio.listaCatClasificacion().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatClasificacion=yield e.value)})})})}cargaCatTipoServicio(){return n(this,null,function*(){this._tipoServicioServicio.listaCatTipoServicioQuery().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatTipoServicio=yield e.value)})})})}cargaCatModalidad(){return n(this,null,function*(){this._modalidadServicio.listaCatModalidad().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatModalidad=yield e.value)})})})}cargaCatMunicipio(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}guardar_editarSolicitud(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();if(this.solicitud==null){let i={idCliente:this.frmSolicitud.value.idCliente,idUsuario:e[0].idUsuario,idClasificacion:this.frmSolicitud.value.idClasificacion,idTipoServicio:this.frmSolicitud.value.idTipoServicio,idModalidad:this.frmSolicitud.value.idModalidad,idOrigen:this.frmSolicitud.value.idOrigen,idDestino:this.frmSolicitud.value.idDestino,contacto:this.frmSolicitud.value.contacto,correo:this.frmSolicitud.value.correo};this._solicitudGlobalServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let i={idSolicitudGlobal:this.solicitud.idSolicitud,idCliente:this.frmSolicitud.value.idCliente,idClasificacion:this.frmSolicitud.value.idClasificacion,idTipoServicio:this.frmSolicitud.value.idTipoServicio,idModalidad:this.frmSolicitud.value.idModalidad,idOrigen:this.frmSolicitud.value.idOrigen,idDestino:this.frmSolicitud.value.idDestino,contacto:this.frmSolicitud.value.contacto,correo:this.frmSolicitud.value.correo};this._solicitudGlobalServicio.actualizar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud actualizada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ae),p(xe),p(Qe),p(he),p(Je),p(Bi),p(Me),p(Hi))};static \u0275cmp=x({type:o,selectors:[["app-ModalSolicitudGlobal"]],decls:38,vars:38,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2"],["variant","on",1,"mb-8"],["appendTo","body","optionLabel","cliente","optionValue","idCliente","formControlName","idCliente",3,"options","filter"],["appendTo","body","optionLabel","clasificacion","optionValue","idClasificacion","formControlName","idClasificacion",3,"options","filter"],["appendTo","body","optionLabel","tipoServicio","optionValue","idTipoServicio","formControlName","idTipoServicio",3,"options","filter"],["appendTo","body","optionLabel","modalidad","optionValue","idModalidad","formControlName","idModalidad",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idOrigen",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idDestino",3,"options","filter"],["pInputText","","formControlName","contacto","autocomplete","off",2,"width","377px"],["for","on_label"],["pInputText","","formControlName","correo","autocomplete","off",2,"width","377px"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"p-select",3),t(4,"label"),s(5,"Cliente"),r()(),t(6,"p-floatlabel",2),l(7,"p-select",4),t(8,"label"),s(9,"Clasificaci\xF3n"),r()(),t(10,"p-floatlabel",2),l(11,"p-select",5),t(12,"label"),s(13,"Tipo Servicio"),r()()(),t(14,"div",1)(15,"p-floatlabel",2),l(16,"p-select",6),t(17,"label"),s(18,"Modalidad"),r()(),t(19,"p-floatlabel",2),l(20,"p-select",7),t(21,"label"),s(22,"Origen"),r()(),t(23,"p-floatlabel",2),l(24,"p-select",8),t(25,"label"),s(26,"Destino"),r()()(),t(27,"div",1)(28,"p-floatlabel",2),l(29,"input",9),t(30,"label",10),s(31,"Contacto"),r()(),t(32,"p-floatlabel",2),l(33,"input",11),t(34,"label",10),s(35,"Correo"),r()()(),t(36,"div",12)(37,"p-button",13),f("onClick",function(){return a.guardar_editarSolicitud()}),r()()()),i&2&&(d("formGroup",a.frmSolicitud),c(3),j(y(30,xo)),d("options",a.listaCatCliente)("filter",!0),c(4),j(y(31,wo)),d("options",a.listaCatClasificacion)("filter",!0),c(4),j(y(32,Ro)),d("options",a.listaCatTipoServicio)("filter",!0),c(5),j(y(33,Io)),d("options",a.listaCatModalidad)("filter",!0),c(4),j(y(34,Kt)),d("options",a.listaCatMunicipio)("filter",!0),c(4),j(y(35,Kt)),d("options",a.listaCatMunicipio)("filter",!0),c(12),d("ngStyle",me(36,Mo,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmSolicitud.invalid)("disabled",a.frmSolicitud.invalid))},dependencies:[I,be,F,oe,D,P,A,L,T,R,V,H],encapsulation:2})};var zi=class o{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=x({type:o,selectors:[["app-ModalRegistroProveedorGlobal"]],decls:2,vars:0,template:function(i,a){i&1&&(t(0,"p"),s(1,` ModalRegistroProveedorGlobal works!
`),r())},encapsulation:2})};var _e=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Embarque/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idEmbarque:0,idSolicitud:e.idSolicitud,notaImportante:"string",observacionesPrimaria:"string",observacionesBrokerSecundaria:"string",agenteAduanal:"string",datosFacturacion:"string",idEstatusEmbarque:0}})}actualizarDatosFacturacion(e){return this.http.request("put",`${this.urlApi}ActualizarDatosFacturacion`,{body:{idEmbarque:e.idEmbarque,datosFacturacion:e.datosFacturacion}})}actualizarObservaciones(e){return this.http.request("put",`${this.urlApi}ActualizarObservaciones`,{body:{idEmbarque:e["idEmbarque "],observaciones:e.observaciones,agenteAduanal:e.agenteAduanal}})}listaEmbarques(e){return this.http.get(`${this.urlApi}ListaEmbarques/${e}`)}listaEmbarqueDetalle(e){return this.http.get(`${this.urlApi}ListaEmbarqueDetalle/${e}`)}listaEmbarqueProveedorRuta(e){return this.http.get(`${this.urlApi}ListaEmbarqueProveedorRuta/${e}`)}listaConsulEmbarqueVenta(e){return this.http.get(`${this.urlApi}ListaConsulEmbarqueVenta/${e}`)}guardarVenta(e){return this.http.request("post",`${this.urlApi}GuardarVenta`,{body:{idEmbarque:e.idEmbarque,idUsuario:e.idUsuario,idCargo:e.idCargo,monto:e.monto}})}borrarVenta(e,i){return this.http.delete(`${this.urlApi}BorrarVenta/${e}/${i}`)}listaConsulEmbarqueBitacora(e){return this.http.get(`${this.urlApi}ListaConsulEmbarqueBitacora/${e}`)}guardarEstatus(e){return this.http.request("post",`${this.urlApi}GuardarEstatus`,{body:{idEmbarque:e.idEmbarque,idEstatusEmbarque:e.idEstatusEmbarque,idUsuario:e.idUsuario,comentario:e.comentario}})}listaConsulEmbarqueSeguimiento(e){return this.http.get(`${this.urlApi}ListaConsulEmbarqueSeguimiento/${e}`)}guardarSeguimiento(e){return this.http.request("post",`${this.urlApi}GuardarSeguimiento`,{body:{idEmbarque:e.idEmbarque,idUsuario:e.idUsuario,comentario:e.comentario}})}guardarEmbarqueDocumento(e){return this.http.request("post",`${this.urlApi}GuardarEmbarqueDocumento`,{body:{idEmbarque:e.idEmbarque,idDocumento:e.idDocumento}})}borrarEmbarqueDocumento(e,i){return this.http.delete(`${this.urlApi}BorrarEmbarqueDocumento/${e}/${i}`)}guardarDireccion(e){return this.http.request("post",`${this.urlApi}GuardarDireccion`,{body:{idEmbarque:e.idEmbarque,isOrigen:e.isOrigen,idRuta:e.idRuta,almacen:e.almacen,calle:e.calle,colonia:e.colonia,cp:e.cp,idMunicipio:e.idMunicipio,contacto:e.contacto,fecEfectiva:e.fecEfectiva,hInicio:e.hInicio,hFinal:e.hFinal}})}listaConsultaEmbarqueDireccion(e,i,a){return this.http.get(`${this.urlApi}ListaConsultaEmbarqueDireccion/${e}/${i}/${a}`)}borrarEmbarqueDireccion(e){return this.http.request("delete",`${this.urlApi}BorrarEmbarqueDireccion`,{body:{idEmbarque:e.idEmbarque,idRuta:e.idRuta,isOrigen:e.isOrigen,almacen:e.almacen}})}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var To=()=>[10,20,50],Do=o=>[o,"MXN","symbol","1.2-2","es-MX"];function Po(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.registroSolicitud())}),r(),t(1,"p-button",10),f("onClick",function(){v(i);let m=h();return b(m.registrarSolicitudGlobal())}),r()}}function Fo(o,e){o&1&&l(0,"p-button",11)}function Ao(o,e){if(o&1){let i=_();t(0,"div",12),l(1,"h5",13),t(2,"p-iconfield"),l(3,"p-inputicon",14),t(4,"input",15),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}o&2&&(c(4),le("width","300px"))}function Lo(o,e){o&1&&(t(0,"tr")(1,"th",16)(2,"span",17),s(3,"# Solicitud "),l(4,"p-sortIcon",18),r()(),t(5,"th",19)(6,"span",17),s(7,"Tipo Solicitud "),l(8,"p-sortIcon",20),r()(),t(9,"th",21)(10,"span",17),s(11,"Cliente "),l(12,"p-sortIcon",22),r()(),t(13,"th",23)(14,"span",17),s(15,"Modalidad"),l(16,"p-sortIcon",24),r()(),t(17,"th",25)(18,"span",17),s(19,"Origen "),l(20,"p-sortIcon",26),r()(),t(21,"th",27)(22,"span",17),s(23,"Destino "),l(24,"p-sortIcon",28),r()(),t(25,"th",29)(26,"span",17),s(27,"Venta "),l(28,"p-sortIcon",30),r()(),t(29,"th",31)(30,"span",17),s(31,"Trasbordo "),l(32,"p-sortIcon",32),r()(),t(33,"th",33)(34,"span",17),s(35,"Cruce "),l(36,"p-sortIcon",34),r()(),t(37,"th",35)(38,"span",17),s(39,"Fec. Efectiva "),l(40,"p-sortIcon",36),r()(),l(41,"th",37),r())}function qo(o,e){if(o&1){let i=_();t(0,"tr")(1,"td")(2,"p-button",38),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.actualizarSolicitud(m))}),r()(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),s(12),r(),t(13,"td"),s(14),Fe(15,"currency"),r(),t(16,"td"),l(17,"p-tag",39),r(),t(18,"td"),l(19,"p-tag",39),r(),t(20,"td"),s(21),r(),t(22,"td")(23,"p-button",40),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroProveedor(m))}),r(),t(24,"p-button",41),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.generarRD(m,u))}),r(),t(25,"p-button",42),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.cancelarSolicitud(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),U("label",i.referencia),c(2),S(i.tipoSolicitud),c(2),S(i.cliente),c(2),di(" ",`${i.tipoServicio} - ${i.tipoUnidad}`," "),c(2),S(i.origen),c(2),S(i.destino),c(2),S(`${Ne(15,16,me(22,Do,i.monto))} ${i.codMoneda}`),c(3),d("value",i.isTrasbordo==!0?"SI":"NO")("severity",i.isTrasbordo==!0?"success":"danger"),c(2),d("value",i.isCruce==!0?"SI":"NO")("severity",i.isCruce==!0?"success":"danger"),c(2),S(i.fecEfectivaF),c(2),d("rounded",!0),c(),d("disabled",i.btnRD)("rounded",!0),c(),d("rounded",!0)}}var $i=class o{constructor(e,i,a,m,u,C){this.dialog=e;this.messageService=i;this._solicitudServicio=a;this._utilidadServicio=m;this._embarqueServicio=u;this.confirmationService=C}listaSolicitud=[];ref;mostrarLoading=!1;columnasTabla=["idSolicitud","tipoSolicitud","cliente","Modalidad","origen","destino","codMoneda","monto","trasbordo","cruce","fecEfectivaF"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}registroSolicitud(){return n(this,null,function*(){this.ref=this.dialog.open(Si,{header:"Solicitud",width:"820px",height:"550px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}registrarSolicitudGlobal(){return n(this,null,function*(){this.ref=this.dialog.open(yi,{header:"Solicitud Global",width:"820px",height:"330px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null})})}actualizarSolicitud(e){return n(this,null,function*(){let i=e.idTipoSolicitud;i==1?(this.ref=this.dialog.open(Si,{header:"Solicitud",width:"820px",height:"550px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(a=>n(this,null,function*(){a&&(yield this.cargaInfo())}))):i==2&&(this.ref=this.dialog.open(yi,{header:"Solicitud Global",width:"820px",height:"330px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(a=>n(this,null,function*(){a&&(yield this.cargaInfo())})))})}registroProveedor(e){return n(this,null,function*(){e.idTipoSolicitud==1?(this.ref=this.dialog.open(ki,{header:"Registro proveedor",width:"1300px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(()=>{this.cargaInfo()})):e.idTipoSolicitud==2&&(this.ref=this.dialog.open(zi,{header:"Registro proveedor",width:"820px",height:"550px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}))})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();this._solicitudServicio.listaSolicitudByUsuario(e[0].idUsuario).subscribe({next:i=>n(this,null,function*(){if(i.status){let a=yield i.value.map(m=>({referencia:m.referencia,idSolicitud:m.idSolicitud,idEmpresa:m.idEmpresa,empresa:m.empresa,idCliente:m.idCliente,cliente:m.cliente,idTipoUnidad:m.idTipoUnidad,tipoUnidad:m.tipoUnidad,idTipoServicio:m.idTipoServicio,tipoServicio:m.tipoServicio,idOrigen:m.idOrigen,origen:m.origen,idDestino:m.idDestino,destino:m.destino,fecEfectiva:m.fecEfectiva,fecEfectivaF:m.fecEfectivaF,idMoneda:m.idMoneda,codMoneda:m.codMoneda,monto:m.monto,isTrasbordo:m.isTrasbordo,isCruce:m.isCruce,tipoMercancia:m.tipoMercancia,observaciones:m.observaciones,idClasificacion:m.idClasificacion,isRedondo:m.isRedondo,estatus:m.estatus,fecRegistro:m.fecRegistro,fecRegistroF:m.fecRegistroF,contacto:m.contacto,correo:m.correo,idModalidad:m.idModalidad,tipoSolicitud:m.tipoSolicitud,idTipoSolicitud:m.idTipoSolicitud,cantidad:m.cantidad,btnRD:m.cantidad==0}));this.listaSolicitud=a}else this.listaSolicitud=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cancelarSolicitud(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas cancelar la solicitud?",icon:"pi pi-info-circle",rejectButtonProps:{label:"No",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Si",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._solicitudServicio.cancelar(i.idSolicitud).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud Cancelada",life:3e3}),this.mostrarLoading=!1,yield this.cargaInfo()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}generarRD(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas generar el RD?",icon:"pi pi-info-circle",rejectButtonProps:{label:"No",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Si",severity:"success"},accept:()=>{this.mostrarLoading=!0;let a={idSolicitud:i.idSolicitud};this._embarqueServicio.guardar(a).subscribe({next:m=>n(this,null,function*(){m.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"RD Generado con \xE9xito",life:3e3}),this.mostrarLoading=!1,yield this.cargaInfo()):this.messageService.add({severity:"warn",summary:"Advertencia",detail:m.msg,life:3e3})}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}static \u0275fac=function(i){return new(i||o)(p(ue),p(M),p(Pe),p(he),p(_e),p(de))};static \u0275cmp=x({type:o,selectors:[["app-Solicitud"]],decls:16,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idSolicitud","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Registrar Solicitud","icon","pi pi-plus",1,"mr-2",3,"onClick"],["label","Registrar Solicitud Global","icon","pi pi-plus",1,"mr-2",3,"onClick"],["label","Export","icon","pi pi-upload","severity","secondary"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","idSolicitud",2,"font-weight","bold"],[1,"flex","items-center","gap-2"],["field","idSolicitud"],["pSortableColumn","tipoSolicitud",2,"font-weight","bold"],["field","tipoSolicitud"],["pSortableColumn","cliente",2,"font-weight","bold"],["field","cliente"],["pSortableColumn","tipoServicio",2,"font-weight","bold"],["field","tipoServicio"],["pSortableColumn","origen",2,"font-weight","bold"],["field","origen"],["pSortableColumn","destino",2,"font-weight","bold"],["field","destino"],["pSortableColumn","monto",2,"font-weight","bold"],["field","monto"],["pSortableColumn","isTrasbordo",2,"font-weight","bold"],["field","isTrasbordo"],["pSortableColumn","isCruce",2,"font-weight","bold"],["field","isCruce"],["pSortableColumn","fecEfectivaF",2,"font-weight","bold"],["field","fecEfectivaF"],[2,"min-width","12rem"],["type","button","text","",3,"onClick","label"],[3,"value","severity"],["icon","pi pi-search","severity","help","pTooltip","Registro Proveedor","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-check","severity","success","pTooltip","Generar RD","raised","","rounded","",3,"onClick","disabled","rounded"],["icon","pi pi-trash","severity","danger","pTooltip","Cancelar Solicitud","raised","",3,"onClick","rounded"]],template:function(i,a){i&1&&(l(0,"p-confirmdialog")(1,"p-toast"),t(2,"div",6)(3,"p-toolbar",7),E(4,Po,2,0,"ng-template",null,0,g)(6,Fo,1,0,"ng-template",null,1,g),r(),t(8,"p-table",8,2),E(10,Ao,5,2,"ng-template",null,3,g)(12,Lo,42,0,"ng-template",null,4,g)(14,qo,26,24,"ng-template",null,5,g),r()()),i&2&&(c(8),d("value",a.listaSolicitud)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,To))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,ne,Ue,De,Ve],encapsulation:2})};var Vo=()=>({width:"415px"}),ci=()=>({width:"200px"}),Oo=o=>({margin:o});function No(o,e){o&1&&(t(0,"div",16),l(1,"p-toggleswitch",17),t(2,"label",18),s(3,"Estatus"),r()())}var _i=class o{constructor(e,i,a,m,u,C,fe,Oe,z,_t,Et){this.fb=e;this.config=i;this.messageService=a;this.ref=m;this._proveedorServicio=u;this._tipoUnidadServicio=C;this._clasificacionServicio=fe;this._municipioServicio=Oe;this._monedaServicio=z;this._utilidadServicio=_t;this._rutaServicio=Et;this.frmRuta=this.fb.group({idProveedor:[{value:0,disabled:!1},w.required],idTipoUnidad:[0,w.required],idClasificacion:[0,w.required],idOrigen:[0,w.required],idDestino:[0,w.required],idMoneda:[0,w.required],costo:[0,w.required],observacion:[""],isEstatus:[]}),this.config.data!=null&&(this.ruta=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="330px",this.frmRuta.controls.idProveedor.disable(),this.frmRuta.patchValue({idProveedor:this.ruta.idProveedor,idTipoUnidad:this.ruta.idTipoUnidad,idClasificacion:this.ruta.idClasificacion,idOrigen:this.ruta.idOrigen,idDestino:this.ruta.idDestino,idMoneda:this.ruta.idMoneda,costo:this.ruta.tarifa,observacion:this.ruta.comentario,isEstatus:this.ruta.isActivo}),this.cargaCatMoneda(this.ruta.idProveedor))}frmRuta;listaCatProveedor=[];listaCatTipoUnidad=[];listaCatClasificacion=[];listaCatMunicipio=[];listaCatMoneda=[];boton="Guardar";marginLeft="340px";mostrarLoading=!1;mostrarSwitch=!1;ruta;ngOnInit(){return n(this,null,function*(){yield this.cargarCatProveedor(),yield this.cargaCatTipoServicio(),yield this.cargaCatClasificacion(),yield this.cargaCatMunicipio(),this.ruta==null&&(yield this.cargaCatMoneda(0))})}cargarCatProveedor(){return n(this,null,function*(){this._proveedorServicio.listarCatProveedor().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatProveedor=yield e.value)})})})}cargaCatTipoServicio(){return n(this,null,function*(){this._tipoUnidadServicio.listaCatTipoUnidad().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatTipoUnidad=yield e.value)})})})}cargaCatClasificacion(){return n(this,null,function*(){this._clasificacionServicio.listaCatClasificacion().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatClasificacion=yield e.value)})})})}cargaCatMunicipio(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}cargaCatMoneda(e){return n(this,null,function*(){this._monedaServicio.ListaCatMonedaRutaByIdProveedor(e).subscribe({next:i=>n(this,null,function*(){i.status&&(this.listaCatMoneda=yield i.value)})})})}guardar_editarRuta(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();if(this.ruta==null){let i={idUsuario:e[0].idUsuario,idProveedor:this.frmRuta.value.idProveedor,idTipoUnidad:this.frmRuta.value.idTipoUnidad,idOrigen:this.frmRuta.value.idOrigen,idDestino:this.frmRuta.value.idDestino,idClasificacion:this.frmRuta.value.idClasificacion,idMoneda:this.frmRuta.value.idMoneda,tarifa:this.frmRuta.value.costo,comentario:this.frmRuta.value.observacion==""?null:this.frmRuta.value.observacion};this._rutaServicio.guardar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Ruta registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let i={idRuta:this.ruta.idRuta,idUsuario:e[0].idUsuario,IdProveedor:this.ruta.idProveedor,newIdTipoUnidad:this.frmRuta.value.idTipoUnidad,oldIdTipoUnidad:this.ruta.idTipoUnidad,newIdOrigen:this.frmRuta.value.idOrigen,oldIdOrigen:this.ruta.idOrigen,newIdDestino:this.frmRuta.value.idDestino,oldIdDestino:this.ruta.idDestino,newIdClasificacion:this.frmRuta.value.idClasificacion,oldIdClasificacion:this.ruta.idClasificacion,newIdMoneda:this.frmRuta.value.idMoneda,oldIdMoneda:this.ruta.idMoneda,tarifa:this.frmRuta.value.costo,comentario:this.frmRuta.value.observacion==""?null:this.frmRuta.value.observacion,isActivo:this.frmRuta.value.isEstatus};this._rutaServicio.actualizar(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Ruta actualizada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ae),p(je),p(mi),p(Qe),p(Me),p(ke),p(he),p(ei))};static \u0275cmp=x({type:o,selectors:[["app-ModalRuta"]],decls:41,vars:40,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on",1,"mt-1"],["appendTo","body","optionLabel","proveedor","optionValue","idProveedor","formControlName","idProveedor",3,"onChange","options","filter"],["appendTo","body","optionLabel","tipoUnidad","optionValue","idTipoUnidad","formControlName","idTipoUnidad",3,"options","filter"],["appendTo","body","optionLabel","clasificacion","optionValue","idClasificacion","formControlName","idClasificacion",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idOrigen",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idDestino",3,"options","filter"],["appendTo","body","optionLabel","moneda","optionValue","idMoneda","formControlName","idMoneda",3,"options","filter"],["mode","currency","currency","MXN","locale","es-MX","formControlName","costo",3,"inputStyle"],["variant","on"],["pInputText","","formControlName","observacion","autocomplete","off",2,"width","415px"],["for","on_label"],["class","p-field p-col-12 flex","style","margin: 0px 0px 5px 5px",4,"ngIf"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"],[1,"p-field","p-col-12","flex",2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2)(3,"p-select",3),f("onChange",function(u){return a.cargaCatMoneda(u.value)}),r(),t(4,"label"),s(5,"Proveedor"),r()()(),t(6,"div",1)(7,"p-floatlabel",2),l(8,"p-select",4),t(9,"label"),s(10,"Tipo Unidad"),r()(),t(11,"p-floatlabel",2),l(12,"p-select",5),t(13,"label"),s(14,"Clasificaci\xF3n"),r()()(),t(15,"div",1)(16,"p-floatlabel",2),l(17,"p-select",6),t(18,"label"),s(19,"Origen"),r()(),t(20,"p-floatlabel",2),l(21,"p-select",7),t(22,"label"),s(23,"Destino"),r()()(),t(24,"div",1)(25,"p-floatlabel",2),l(26,"p-select",8),t(27,"label"),s(28,"Moneda"),r()(),t(29,"p-floatlabel",2),l(30,"p-inputnumber",9),t(31,"label"),s(32,"Costo"),r()()(),t(33,"div",1)(34,"p-floatlabel",10),l(35,"input",11),t(36,"label",12),s(37,"Observaciones"),r()()(),E(38,No,4,0,"div",13),t(39,"div",14)(40,"p-button",15),f("onClick",function(){return a.guardar_editarRuta()}),r()()()),i&2&&(d("formGroup",a.frmRuta),c(3),j(y(31,Vo)),d("options",a.listaCatProveedor)("filter",!0),c(5),j(y(32,ci)),d("options",a.listaCatTipoUnidad)("filter",!0),c(4),j(y(33,ci)),d("options",a.listaCatClasificacion)("filter",!0),c(5),j(y(34,ci)),d("options",a.listaCatMunicipio)("filter",!0),c(4),j(y(35,ci)),d("options",a.listaCatMunicipio)("filter",!0),c(5),j(y(36,ci)),d("options",a.listaCatMoneda)("filter",!0),c(4),d("inputStyle",y(37,ci)),c(8),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(38,Oo,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmRuta.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,V,H,Le,qe],encapsulation:2})};var jo=()=>[5,10,20],Uo=()=>({width:"250px"}),Yt=()=>({width:"200px"}),Go=o=>[o,"MXN","symbol","1.2-2","es-MX"];function ko(o,e){if(o&1){let i=_();t(0,"p-button",10),f("onClick",function(){v(i);let m=h();return b(m.registarRuta())}),r()}}function Bo(o,e){}function Ho(o,e){if(o&1){let i=_();t(0,"div",11)(1,"p-floatlabel",12),l(2,"p-select",13),t(3,"label"),s(4,"Proveedor"),r()(),t(5,"p-floatlabel",12),l(6,"p-select",14),t(7,"label"),s(8,"Origen"),r()(),t(9,"p-floatlabel",12),l(10,"p-select",15),t(11,"label"),s(12,"Destino"),r()(),t(13,"p-button",16),f("onClick",function(){v(i);let m=h();return b(m.cargaInfo())}),r()(),t(14,"div",17),l(15,"h5",18),t(16,"p-iconfield"),l(17,"p-inputicon",19),t(18,"input",20),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}if(o&2){let i=h();c(2),j(y(12,Uo)),d("options",i.listaCatProveedor)("filter",!0),c(4),j(y(13,Yt)),d("options",i.listaCatMunicipio)("filter",!0),c(4),j(y(14,Yt)),d("options",i.listaCatMunicipio)("filter",!0)}}function zo(o,e){o&1&&(t(0,"tr")(1,"th",21)(2,"span",22),s(3,"# Ruta "),l(4,"p-sortIcon",23),r()(),t(5,"th",24)(6,"span",22),s(7,"Proveedor "),l(8,"p-sortIcon",25),r()(),t(9,"th",26)(10,"span",22),s(11,"T. Unidad "),l(12,"p-sortIcon",27),r()(),t(13,"th",28)(14,"span",22),s(15,"Origen"),l(16,"p-sortIcon",29),r()(),t(17,"th",30)(18,"span",22),s(19,"Destino"),l(20,"p-sortIcon",31),r()(),t(21,"th",32)(22,"span",22),s(23,"Moneda"),l(24,"p-sortIcon",33),r()(),t(25,"th",34)(26,"span",22),s(27,"Tarifa"),l(28,"p-sortIcon",35),r()(),t(29,"th",36)(30,"span",22),s(31,"Comentario"),l(32,"p-sortIcon",37),r()(),t(33,"th",38)(34,"span",22),s(35,"Estatus"),l(36,"p-sortIcon",39),r()(),l(37,"th",40),r())}function $o(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),s(12),r(),t(13,"td"),s(14),Fe(15,"currency"),r(),t(16,"td"),s(17),r(),t(18,"td"),l(19,"p-tag",41),r(),t(20,"td")(21,"p-button",42),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.actualizarRuta(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.idRuta),c(2),S(i.proveedor),c(2),S(i.tipoUnidad),c(2),S(i.origen),c(2),S(i.destino),c(2),S(i.moneda),c(2),S(`${Ne(15,11,me(17,Go,i.tarifa))}`),c(3),S(i.comentario),c(2),d("value",i.estatus)("severity",i.isActivo?"success":"danger"),c(2),d("rounded",!0)}}var Xi=class o{constructor(e,i,a,m,u,C){this.fb=e;this.dialog=i;this._proveedorServicio=a;this._municipioServicio=m;this._rutaServicio=u;this.messageService=C;this.frmRuta=this.fb.group({idProveedor:[0],idOrigen:[0],idDestino:[0]})}frmRuta;listaRuta=[];mostrarLoading=!1;columnasTabla=["idRuta","proveedor","tipoUnidad","origen","destino","moneda","tarifa","comentario","estatus"];listaCatProveedor=[];listaCatMunicipio=[];ref;ngOnInit(){return n(this,null,function*(){yield this.cargaProveedor(),yield this.cargarCiudad()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaProveedor(){return n(this,null,function*(){this._proveedorServicio.listarCatProveedor().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatProveedor=yield e.value)})})})}cargarCiudad(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0;let e=this.frmRuta.value.idProveedor,i=this.frmRuta.value.idOrigen,a=this.frmRuta.value.idDestino;this._rutaServicio.ListaRuta(e,i,a).subscribe({next:m=>n(this,null,function*(){m.status?(this.listaRuta=yield m.value,this.mostrarLoading=!1):(this.listaRuta=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}registarRuta(){return n(this,null,function*(){this.ref=this.dialog.open(_i,{header:"Registrar Ruta",width:"465px",height:"407px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfo())}))})}actualizarRuta(e){return n(this,null,function*(){this.ref=this.dialog.open(_i,{header:"Registrar Ruta",width:"465px",height:"440px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}static \u0275fac=function(i){return new(i||o)(p(q),p(ue),p(je),p(Me),p(ei),p(M))};static \u0275cmp=x({type:o,selectors:[["app-Ruta"]],decls:16,vars:10,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],["styleClass","mb-6"],["dataKey","idRuta","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","flex-wrap","items-start","gap-2"],["variant","on"],["appendTo","body","optionLabel","proveedor","optionValue","idProveedor","formControlName","idProveedor",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idOrigen",3,"options","filter"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","formControlName","idDestino",3,"options","filter"],["label","Cargar","icon","pi pi-reply",1,"ml-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","idRuta"],[1,"flex","items-center","gap-2"],["field","idRuta"],["pSortableColumn","proveedor"],["field","proveedor"],["pSortableColumn","tipoUnidad"],["field","tipoUnidad"],["pSortableColumn","origen"],["field","origen"],["pSortableColumn","destino"],["field","destino"],["pSortableColumn","moneda"],["field","moneda"],["pSortableColumn","tarifa"],["field","tarifa"],["pSortableColumn","comentario"],["field","comentario"],["pSortableColumn","estatus"],["field","estatus"],[2,"min-width","12rem"],[3,"value","severity"],["icon","pi pi-pencil","pTooltip","Editar ruta","raised","","rounded","",3,"onClick","rounded"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"form",6)(2,"div",7)(3,"p-toolbar",8),E(4,ko,1,0,"ng-template",null,0,g)(6,Bo,0,0,"ng-template",null,1,g),r(),t(8,"p-table",9,2),E(10,Ho,19,15,"ng-template",null,3,g)(12,zo,38,0,"ng-template",null,4,g)(14,$o,22,19,"ng-template",null,5,g),r()()()),i&2&&(c(),d("formGroup",a.frmRuta),c(7),d("value",a.listaRuta)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(9,jo))("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,Ce,G,k,B,Y,X,K,H,ne,De,Ve],encapsulation:2})};var pi=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Cargo/";listaCatCargo(){return this.http.get(`${this.urlApi}ListaCatCargo`)}listaCatCargoByCargoEmbarque(e){return this.http.get(`${this.urlApi}ListaCatCargoByCargoEmbarque/${e}`)}listaCatCargoBySolicitudRuta(e,i){return this.http.get(`${this.urlApi}ListaCatCargoBySolicitudRuta/${e}/${i}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Xo=()=>({width:"150px"}),Ko=()=>({width:"auto"}),Yo=o=>[o,"MXN","symbol","1.2-2","es-MX"];function Zo(o,e){}function Jo(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",15),t(2,"input",16),f("input",function(m){v(i);let u=h(),C=$(18);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function Wo(o,e){o&1&&(t(0,"tr")(1,"th",17)(2,"span",18),s(3,"Cargo "),l(4,"p-sortIcon",19),r()(),t(5,"th",20)(6,"span",18),s(7,"Venta "),l(8,"p-sortIcon",21),r()(),t(9,"th",22)(10,"span",18),s(11,"Usuario "),l(12,"p-sortIcon",23),r()(),t(13,"th",24)(14,"span",18),s(15,"Fec. Registro "),l(16,"p-sortIcon",25),r()(),l(17,"th"),r())}function Qo(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),Fe(5,"currency"),r(),t(6,"td"),s(7),r(),t(8,"td"),s(9),r(),t(10,"td")(11,"p-button",26),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarVenta(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.cargo),c(2),S(`${Ne(5,5,me(11,Yo,i.monto))} ${i.codMoneda}`),c(3),S(i.usuario),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}var Ki=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this.config=i;this._cargoServicio=a;this.messageService=m;this._embarqueServicio=u;this._utilidadServicio=C;this.confirmationService=fe;this.frmVenta=this.fb.group({idCargo:[0],venta:[0]}),this.idEmbarque=this.config.data}mostrarLoading=!1;frmVenta;idEmbarque=0;listaCatCargo=[];listaConsulEmbarqueVenta=[];columnasTabla=["cargo","venta","usuario","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaCatCargo(),yield this.cargaInfoTabla()})}cargaCatCargo(){return n(this,null,function*(){this._cargoServicio.listaCatCargoByCargoEmbarque(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatCargo=yield e.value:this.listaCatCargo=[]})})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._embarqueServicio.listaConsulEmbarqueVenta(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsulEmbarqueVenta=yield e.value,this.mostrarLoading=!1):(this.listaConsulEmbarqueVenta=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarVenta(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:"\xBFDeseas borrar la venta?",icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._embarqueServicio.borrarVenta(this.idEmbarque,i.idCargo).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Documento eliminado",life:3e3}),yield this.cargaCatCargo(),yield this.cargaInfoTabla(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}guardarVenta(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario(),i={idEmbarque:this.idEmbarque,idUsuario:e[0].idUsuario,idCargo:this.frmVenta.value.idCargo,monto:this.frmVenta.value.venta==null?0:this.frmVenta.value.venta};this._embarqueServicio.guardarVenta(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Venta registrada con \xE9xito",life:3e3}),yield this.cargaCatCargo(),yield this.cargaInfoTabla(),yield this.borrarDatos(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarDatos(){return n(this,null,function*(){this.frmVenta.patchValue({idCargo:0,venta:0})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(pi),p(M),p(_e),p(he),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalVentaAdicional"]],decls:23,vars:16,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["appendTo","body","optionLabel","cargo","optionValue","idCargo","formControlName","idCargo",3,"options","filter"],[2,"font-weight","bold"],["mode","currency","currency","MXN","locale","es-MX","formControlName","venta",3,"inputStyle"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCargo","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","cargo",2,"width","200px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","cargo"],["pSortableColumn","venta",2,"width","200px","font-weight","bold"],["field","venta"],["pSortableColumn","usuario",2,"width","120px","font-weight","bold"],["field","usuario"],["pSortableColumn","fecRegistro",2,"width","200px","font-weight","bold"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Cargo"),r()(),t(7,"p-floatlabel",8),l(8,"p-inputnumber",11),t(9,"label",10),s(10,"Venta"),r()(),t(11,"p-button",12),f("onClick",function(){return v(m),b(a.guardarVenta())}),r()(),t(12,"p-toolbar",13),E(13,Zo,0,0,"ng-template",null,0,g)(15,Jo,3,2,"ng-template",null,1,g),r(),t(17,"p-table",14,2),E(19,Wo,18,0,"ng-template",null,3,g)(21,Qo,12,13,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmVenta),c(4),le("width","345px"),d("options",a.listaCatCargo)("filter",!0),c(4),d("inputStyle",y(14,Xo)),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulEmbarqueVenta)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(15,Ko))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne,qe,Ve],encapsulation:2})};var ea=()=>({width:"250px"}),Yi=class o{constructor(e,i,a,m,u){this.fb=e;this.config=i;this._solicitudServicio=a;this.messageService=m;this.ref=u;this.frmAjuste=this.fb.group({venta:[0,w.required]}),this.config.data!=null&&(this.embarque=this.config.data,this.frmAjuste.patchValue({venta:this.embarque.monto}))}frmAjuste;embarque;ngOnInit(){}actualizarVenta(){return n(this,null,function*(){this._solicitudServicio.actualizarVenta(this.embarque?.idEmbarque,this.frmAjuste.value.venta).subscribe({next:e=>n(this,null,function*(){e.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud registrada",life:3e3}),this.ref.close(!0)):this.messageService.add({severity:"info",summary:"Informaci\xF3n",detail:e.msg,life:3e3})})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(Pe),p(M),p(ae))};static \u0275cmp=x({type:o,selectors:[["app-ModalAjusteVenta"]],decls:8,vars:4,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-1","mb-4"],["variant","on"],["mode","currency","currency","MXN","locale","es-MX","formControlName","venta",3,"inputStyle"],[2,"margin","0px 0px 0px 176px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"p-inputnumber",3),t(4,"label"),s(5,"Venta"),r()()(),t(6,"div",4)(7,"p-button",5),f("onClick",function(){return a.actualizarVenta()}),r()()()),i&2&&(d("formGroup",a.frmAjuste),c(3),d("inputStyle",y(3,ea)),c(4),d("disabled",a.frmAjuste.invalid))},dependencies:[I,F,D,P,A,L,R,V,qe],encapsulation:2})};var Zi=class o{constructor(e,i,a,m,u){this.fb=e;this._solicitudServicio=i;this.config=a;this.ref=m;this.messageService=u;this.frmEmbarque=this.fb.group({noUnidad:[""]}),this.config.data!=null&&(this.embarque=this.config.data,this.frmEmbarque.patchValue({noUnidad:this.embarque.noUnidad=="PENDIENTE"?"":this.embarque.noUnidad}))}frmEmbarque;embarque;ngOnInit(){}actualizarNoUnidad(){return n(this,null,function*(){this._solicitudServicio.actualizarNoUnidad(this.embarque?.idEmbarque,this.embarque?.idRuta,this.frmEmbarque.value.noUnidad).subscribe({next:e=>n(this,null,function*(){e.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"No de Unidad actualizado",life:3e3}),this.ref.close(!0)):this.messageService.add({severity:"info",summary:"Informaci\xF3n",detail:e.msg,life:3e3})})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(Pe),p(N),p(ae),p(M))};static \u0275cmp=x({type:o,selectors:[["app-ModalSecundariaNoUnidad"]],decls:8,vars:2,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-1","mb-4"],["variant","on"],["pInputText","","formControlName","noUnidad","autocomplete","off",2,"width","250px"],[2,"margin","0px 0px 0px 176px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label"),s(5,"No. Unidad"),r()()(),t(6,"div",4)(7,"p-button",5),f("onClick",function(){return a.actualizarNoUnidad()}),r()()()),i&2&&(d("formGroup",a.frmEmbarque),c(7),d("disabled",a.frmEmbarque.invalid))},dependencies:[I,F,oe,D,P,A,L,T,R,V],encapsulation:2})};var ia=()=>({width:"150px"}),ta=()=>({width:"auto"}),ra=o=>[o,"MXN","symbol","1.2-2","es-MX"];function oa(o,e){}function aa(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",15),t(2,"input",16),f("input",function(m){v(i);let u=h(),C=$(18);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function na(o,e){o&1&&(t(0,"tr")(1,"th",17)(2,"span",18),s(3,"Cargo "),l(4,"p-sortIcon",19),r()(),t(5,"th",20)(6,"span",18),s(7,"Monto "),l(8,"p-sortIcon",21),r()(),t(9,"th",22)(10,"span",18),s(11,"Usuario "),l(12,"p-sortIcon",23),r()(),t(13,"th",24)(14,"span",18),s(15,"Fec. Registro "),l(16,"p-sortIcon",25),r()(),l(17,"th"),r())}function sa(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),Fe(5,"currency"),r(),t(6,"td"),s(7),r(),t(8,"td"),s(9),r(),t(10,"td")(11,"p-button",26),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarCargo(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.cargo),c(2),S(`${Ne(5,5,me(11,ra,i.monto))} ${i.codMoneda}`),c(3),S(i.usuario),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}var Ji=class o{constructor(e,i,a,m,u,C,fe){this.fb=e;this.config=i;this._cargoServicio=a;this.messageService=m;this._utilidadServicio=u;this._solicitudServicio=C;this.confirmationService=fe;this.frmCosto=this.fb.group({idCargo:[0],monto:[0]}),this.config.data!=null&&(this.embarque=this.config.data)}mostrarLoading=!1;frmCosto;listaCatCargo=[];embarque;listaConsulSolicitudCargos=[];columnasTabla=["cargo","monto","usuario","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaCargos(),yield this.cargaCatCargo()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaCatCargo(){return n(this,null,function*(){this._cargoServicio.listaCatCargoBySolicitudRuta(this.embarque?.idSolicitud,this.embarque?.idRuta).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatCargo=yield e.value:this.listaCatCargo=[]})})})}cargaCargos(){return n(this,null,function*(){this.mostrarLoading=!0,this._solicitudServicio.listaSolicitudCargos(this.embarque?.idSolicitud,this.embarque?.idRuta).subscribe({next:e=>n(this,null,function*(){e.status?this.listaConsulSolicitudCargos=yield e.value:this.listaConsulSolicitudCargos=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}guardarCargo(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario(),i={idSolicitud:this.embarque?.idSolicitud,idUsuario:e[0].idUsuario,idRuta:this.embarque?.idRuta,idCargo:this.frmCosto.value.idCargo,monto:this.frmCosto.value.monto==null?0:this.frmCosto.value.monto};this._solicitudServicio.guardarCargo(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Cargo registrado con \xE9xito",life:3e3}),yield this.cargaCargos(),yield this.cargaCatCargo(),yield this.borrarDatos(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarDatos(){return n(this,null,function*(){this.frmCosto.patchValue({idCargo:0,monto:0})})}borrarCargo(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:`\xBFDeseas borrar el cargo ${i.cargo}? `,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._solicitudServicio.borrarCargo(this.embarque?.idSolicitud,this.embarque?.idRuta,i.idCargo).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Cargo eliminado",life:3e3}),yield this.cargaCargos(),yield this.cargaCatCargo(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(pi),p(M),p(he),p(Pe),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalSecundariaCostoAdicional"]],decls:23,vars:16,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["appendTo","body","optionLabel","cargo","optionValue","idCargo","formControlName","idCargo",3,"options","filter"],[2,"font-weight","bold"],["mode","currency","currency","MXN","locale","es-MX","formControlName","monto",3,"inputStyle"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCargo","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","cargo",2,"width","200px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","cargo"],["pSortableColumn","monto",2,"width","200px","font-weight","bold"],["field","monto"],["pSortableColumn","usuario",2,"width","200px","font-weight","bold"],["field","usuario"],["pSortableColumn","fecRegistro",2,"width","200px","font-weight","bold"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Cargo"),r()(),t(7,"p-floatlabel",8),l(8,"p-inputnumber",11),t(9,"label"),s(10,"Costo"),r()(),t(11,"p-button",12),f("onClick",function(){return v(m),b(a.guardarCargo())}),r()(),t(12,"p-toolbar",13),E(13,oa,0,0,"ng-template",null,0,g)(15,aa,3,2,"ng-template",null,1,g),r(),t(17,"p-table",14,2),E(19,na,18,0,"ng-template",null,3,g)(21,sa,12,13,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmCosto),c(4),le("width","345px"),d("options",a.listaCatCargo)("filter",!0),c(4),d("inputStyle",y(14,ia)),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulSolicitudCargos)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(15,ta))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne,qe,Ve],encapsulation:2})};var la=()=>({width:"auto"});function ma(o,e){}function ca(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",14),t(2,"input",15),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function pa(o,e){o&1&&(t(0,"tr")(1,"th",16)(2,"span",17),s(3,"Documento "),l(4,"p-sortIcon",18),r()(),t(5,"th",19)(6,"span",17),s(7,"Fec. Registro "),l(8,"p-sortIcon",20),r()(),l(9,"th"),r())}function da(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",21),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarDocumento(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.documento),c(2),S(i.fechaRegistro),c(2),d("rounded",!0)}}var Wi=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this.messageService=a;this._documentacionServicio=m;this._embarqueServicio=u;this.confirmationService=C;this.frmDocumento=this.fb.group({idDocumento:[0]}),this.idEmbarque=this.config.data}mostrarLoading=!1;frmDocumento;idEmbarque=0;listaConsulDocumentoReporte=[];listaCatDocumento=[];columnasTabla=["documento","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfoTabla(),yield this.cargaCatDocumento()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaCatDocumento(){return n(this,null,function*(){this._documentacionServicio.listaCatDocumentoEmbarque(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatDocumento=yield e.value:this.listaCatDocumento=[]})})})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._documentacionServicio.listaConsultaDocumentoEmbarque(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsulDocumentoReporte=yield e.value,this.mostrarLoading=!1):(this.listaConsulDocumentoReporte=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}guardarDocumento(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idEmbarque:this.idEmbarque,idDocumento:this.frmDocumento.value.idDocumento};this._embarqueServicio.guardarEmbarqueDocumento(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Documento registrado con \xE9xito",life:3e3}),yield this.cargaInfoTabla(),yield this.cargaCatDocumento(),yield this.borradDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borradDatos(){return n(this,null,function*(){this.frmDocumento.patchValue({idDocumento:0})})}borrarDocumento(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:`\xBFDeseas borrar el documento?. ${i.documento}`,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._embarqueServicio.borrarEmbarqueDocumento(i.idEmbarque,i.idDocumento).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Documento eliminado",life:3e3}),yield this.cargaInfoTabla(),yield this.cargaCatDocumento(),this.mostrarLoading=!1):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(li),p(_e),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalDocumentacionCliente"]],decls:19,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["appendTo","body","optionLabel","documento","optionValue","idDocumento","formControlName","idDocumento",3,"options","filter"],[2,"font-weight","bold"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCargo","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","documento",2,"width","275px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","documento"],["pSortableColumn","fecRegistro",2,"width","130px","font-weight","bold"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Documento"),r()(),t(7,"p-button",11),f("onClick",function(){return v(m),b(a.guardarDocumento())}),r()(),t(8,"p-toolbar",12),E(9,ma,0,0,"ng-template",null,0,g)(11,ca,3,2,"ng-template",null,1,g),r(),t(13,"p-table",13,2),E(15,pa,10,0,"ng-template",null,3,g)(17,da,7,3,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmDocumento),c(4),le("width","360px"),d("options",a.listaCatDocumento)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulDocumentoReporte)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,la))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne],encapsulation:2})};var ua=["dt"],fa=["firstInput"],ga=()=>({standalone:!0});function va(o,e){if(o&1){let i=_();t(0,"p-button",13),f("onClick",function(){v(i);let m=h();return b(m.registroDireccion())}),r()}if(o&2){let i=h();d("disabled",i.isEditing)}}function ba(o,e){}function ha(o,e){if(o&1){let i=_();t(0,"div",14),l(1,"h5",15),t(2,"p-iconfield"),l(3,"p-inputicon",16),t(4,"input",17),Mt("ngModelChange",function(m){v(i);let u=h();return It(u.filtroGlobal,m)||(u.filtroGlobal=m),b(m)}),f("input",function(m){v(i);let u=h();return b(u.onGlobalFilter(m))}),r()()()}if(o&2){let i=h();c(4),Rt("ngModel",i.filtroGlobal),d("ngModelOptions",y(3,ga))("disabled",i.isEditing)}}function Ca(o,e){o&1&&(xt(0),t(1,"th",19),s(2," Almac\xE9n "),l(3,"p-sortIcon",20),r(),t(4,"th",21),s(5," Calle "),l(6,"p-sortIcon",22),r(),t(7,"th",23),s(8," Colonia "),l(9,"p-sortIcon",24),r(),t(10,"th",25),s(11," C.P. "),l(12,"p-sortIcon",26),r(),t(13,"th",27),s(14," Municipio "),l(15,"p-sortIcon",28),r(),t(16,"th",29),s(17," Contacto "),l(18,"p-sortIcon",30),r(),t(19,"th",31),s(20," Fec. Registro "),l(21,"p-sortIcon",32),r(),wt())}function Sa(o,e){o&1&&(t(0,"th",33),s(1,"Almac\xE9n"),r(),t(2,"th",33),s(3,"Calle"),r(),t(4,"th",33),s(5,"Colonia"),r(),t(6,"th",33),s(7,"C.P."),r(),t(8,"th",33),s(9,"Municipio"),r(),t(10,"th",33),s(11,"Contacto"),r(),t(12,"th",33),s(13,"Fec. Registro"),r())}function ya(o,e){if(o&1&&(t(0,"tr"),E(1,Ca,22,0,"ng-container",18)(2,Sa,14,0,"ng-template",null,6,g),l(4,"th"),r()),o&2){let i=$(3),a=h();c(),d("ngIf",!a.isEditing)("ngIfElse",i)}}function _a(o,e){o&1&&l(0,"input",41)}function Ea(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;S(i.almacen)}}function xa(o,e){o&1&&l(0,"input",42)}function wa(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;S(i.calle)}}function Ra(o,e){o&1&&l(0,"input",43)}function Ia(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;S(i.colonia)}}function Ma(o,e){o&1&&l(0,"input",44)}function Ta(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;S(i.cp)}}function Da(o,e){if(o&1&&l(0,"p-select",45),o&2){let i=h(2);d("options",i.listaCatMunicipio)("loading",i.mostrarLoading)("filter",!0)}}function Pa(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;di(" ",i.municipio," ")}}function Fa(o,e){o&1&&l(0,"input",46)}function Aa(o,e){if(o&1&&s(0),o&2){let i=h().$implicit;S(i.contacto)}}function La(o,e){if(o&1){let i=_();t(0,"p-button",47),f("onClick",function(){v(i);let m=h().$implicit,u=h();return b(u.editarRegistro(m))}),r()}}function qa(o,e){if(o&1){let i=_();t(0,"p-button",48),f("onClick",function(m){v(i);let u=h().$implicit,C=h();return b(C.actualizarRegistro(m,u))}),r()}}function Va(o,e){if(o&1){let i=_();t(0,"p-button",49),f("onClick",function(m){v(i);let u=h().$implicit,C=h();return b(C.cancelar(m,u))}),r()}}function Oa(o,e){if(o&1){let i=_();t(0,"tr",34)(1,"td")(2,"p-cellEditor"),E(3,_a,1,0,"ng-template",null,7,g)(5,Ea,1,1,"ng-template",null,8,g),r()(),t(7,"td")(8,"p-cellEditor"),E(9,xa,1,0,"ng-template",null,7,g)(11,wa,1,1,"ng-template",null,8,g),r()(),t(13,"td")(14,"p-cellEditor"),E(15,Ra,1,0,"ng-template",null,7,g)(17,Ia,1,1,"ng-template",null,8,g),r()(),t(19,"td")(20,"p-cellEditor"),E(21,Ma,1,0,"ng-template",null,7,g)(23,Ta,1,1,"ng-template",null,8,g),r()(),t(25,"td")(26,"p-cellEditor"),E(27,Da,1,3,"ng-template",null,7,g)(29,Pa,1,1,"ng-template",null,8,g),r()(),t(31,"td")(32,"p-cellEditor"),E(33,Fa,1,0,"ng-template",null,7,g)(35,Aa,1,1,"ng-template",null,8,g),r()(),t(37,"td"),s(38),r(),t(39,"td")(40,"div",35),E(41,La,1,0,"p-button",36)(42,qa,1,0,"p-button",37)(43,Va,1,0,"p-button",38),t(44,"p-button",39),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarRegistro(m,u))}),r(),t(45,"p-button",40),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.utilizardireccion(m))}),r()()()()}if(o&2){let i=e.$implicit,a=e.editing,m=h();d("pEditableRow",i),c(38),di(" ",i.fecRegistro," "),c(3),d("ngIf",!a&&!m.isEditing),c(),d("ngIf",a),c(),d("ngIf",a),c(),d("rounded",!0)("disabled",m.isEditing),c(),d("rounded",!0)}}var Qi=class o{constructor(e,i,a,m,u,C,fe,Oe){this.fb=e;this.cd=i;this.ref=a;this.messageService=m;this.confirmationService=u;this.config=C;this._municipioServicio=fe;this._clienteServicio=Oe;this.config.data!=null&&(this.embarque=this.config.data),this.frmDireccion=this.fb.group({gAlmacen:[""],gCalle:[""],gColonia:[""],gCP:[""],gContacto:[""],gIdMunicipio:[0]})}dt;firstInput;listaCatMunicipio=[];listaClienteDireccion=[];mostrarLoading=!1;frmDireccion;embarque;filtroGlobal="";editing=!1;isEditing=!1;columnasTabla=["almacen","calle","colonia","cp","municipio","contacto","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfoTabla(),yield this.cargarCiudad()})}onGlobalFilter(e){return n(this,null,function*(){let i=e.target.value;this.filtroGlobal=i,this.dt.filterGlobal(this.filtroGlobal,"contains")})}cargarCiudad(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._clienteServicio.listaConsulClienteDireccion(this.embarque?.idSolicitud,!!this.embarque?.tipoDireccion).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaClienteDireccion=yield e.value,this.mostrarLoading=!1):(this.listaClienteDireccion=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}fngenerarId(){return n(this,null,function*(){return Date.now()})}registroDireccion(){return n(this,null,function*(){if(this.isEditing)return;this.filtroGlobal="",this.isEditing=!0,this.dt.reset(),this.frmDireccion.reset();let e={idRegistro:yield this.fngenerarId(),idCliente:0,isOrigen:!0,calle:"",colonia:"",idMunicipio:0,municipio:"",cp:"",contacto:"",almacen:"",fecRegistro:"",isNew:!0};this.frmDireccion.patchValue({gIdMunicipio:0}),this.listaClienteDireccion=[e,...this.listaClienteDireccion],setTimeout(()=>{this.dt&&this.dt.initRowEdit(e)}),this.cd.detectChanges()})}editarRegistro(e){return n(this,null,function*(){e.isNew=!1,this.isEditing=!0,this.frmDireccion.patchValue({gAlmacen:e.almacen,gCalle:e.calle,gColonia:e.colonia,gCP:e.cp,gContacto:e.contacto,gIdMunicipio:e.idMunicipio}),this.dt.initRowEdit(e)})}actualizarRegistro(e,i){return n(this,null,function*(){if(i.isNew){let a={idSolicitud:this.embarque?.idSolicitud,isOrigen:!!this.embarque?.tipoDireccion,calle:this.frmDireccion.value.gCalle==null?"":this.frmDireccion.value.gCalle,colonia:this.frmDireccion.value.gColonia==null?"":this.frmDireccion.value.gColonia,idMunicipio:this.frmDireccion.value.gIdMunicipio==null?"":this.frmDireccion.value.gIdMunicipio,cp:this.frmDireccion.value.gCP==null?"":this.frmDireccion.value.gCP,contacto:this.frmDireccion.value.gContacto==null?"":this.frmDireccion.value.gContacto,almacen:this.frmDireccion.value.gAlmacen==null?"":this.frmDireccion.value.gAlmacen};this._clienteServicio.guardarDireccion(a).subscribe({next:m=>n(this,null,function*(){m.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Material activado con \xE9xito",life:3e3}),yield this.cargaInfoTabla(),yield this.borrarDatos(),this.editing=!0,this.isEditing=!1):(this.messageService.add({severity:"warn",summary:"Advertencia",detail:m.msg,life:3e3}),this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let a={idSolicitud:this.embarque?.idSolicitud,isOrigen:!!this.embarque?.tipoDireccion,calle:this.frmDireccion.value.gCalle==null?"":this.frmDireccion.value.gCalle,colonia:this.frmDireccion.value.gColonia==null?"":this.frmDireccion.value.gColonia,idMunicipio:this.frmDireccion.value.gIdMunicipio==null?"":this.frmDireccion.value.gIdMunicipio,cp:this.frmDireccion.value.gCP==null?"":this.frmDireccion.value.gCP,contacto:this.frmDireccion.value.gContacto==null?"":this.frmDireccion.value.gContacto,almacen:this.frmDireccion.value.gAlmacen==null?"":this.frmDireccion.value.gAlmacen};this._clienteServicio.actualizarDireccion(a).subscribe({next:m=>n(this,null,function*(){if(m.status){this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Direcci\xF3n actualizada con \xE9xito",life:3e3}),yield this.cargaInfoTabla(),yield this.borrarDatos(),this.isEditing=!1;let u=e.target.closest("tr");u&&this.dt.saveRowEdit(i,u)}else this.messageService.add({severity:"warn",summary:"Advertencia",detail:m.msg,life:3e3}),this.mostrarLoading=!1}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}cancelar(e,i){return n(this,null,function*(){yield this.borrarDatos(),i.isNew&&(this.listaClienteDireccion=this.listaClienteDireccion.filter(a=>a!==i)),this.dt.cancelRowEdit(i),this.isEditing=!1})}borrarDatos(){return n(this,null,function*(){this.frmDireccion.patchValue({gAlmacen:"",gCalle:"",gIdAlmacen:"",gColonia:"",gCP:"",gContacto:"",gIdMunicipio:0})})}borrarRegistro(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,message:`\xBFDeseas borrar la direcci\xF3n del almac\xE9n ${i.almacen}?`,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!1;let a={idSolicitud:this.embarque?.idSolicitud,isOrigen:!!this.embarque?.tipoDireccion,almacen:i.almacen};this._clienteServicio.borrarDireccion(a).subscribe({next:m=>n(this,null,function*(){m.status?(this.messageService.add({severity:"info",summary:"informaci\xF3n",detail:"Direcci\xF3n borrado con \xE9xito",life:3e3}),yield this.cargaInfoTabla(),this.mostrarLoading=!1):(this.messageService.add({severity:"warn",summary:"Informaci\xF3n",detail:m.msg,life:3e3}),this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}utilizardireccion(e){return n(this,null,function*(){let i={calle:e.calle,colonia:e.colonia,idMunicipio:e.idMunicipio,cp:e.cp,contacto:e.contacto,almacen:e.almacen};this.ref.close(i)})}static \u0275fac=function(i){return new(i||o)(p(q),p(Pt),p(ae),p(M),p(de),p(N),p(Me),p(xe))};static \u0275cmp=x({type:o,selectors:[["app-ModalTerceraClienteDireccion"]],viewQuery:function(i,a){if(i&1&&(gt(ua,5),gt(fa,5)),i&2){let m;vt(m=bt())&&(a.dt=m.first),vt(m=bt())&&(a.firstInput=m.first)}},decls:15,vars:8,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["noSortHeaders",""],["input",""],["output",""],[1,"card"],[3,"formGroup"],["styleClass","mb-6"],["editable","true","editMode","row","dataKey","fecRegistro","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick","disabled"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",2,"cursor","default","width","300px",3,"ngModelChange","input","ngModel","ngModelOptions","disabled"],[4,"ngIf","ngIfElse"],["pSortableColumn","almacen",2,"cursor","pointer","font-weight","bold","width","200px"],["field","almacen"],["pSortableColumn","calle",2,"cursor","pointer","font-weight","bold","width","200px"],["field","calle"],["pSortableColumn","colonia",2,"cursor","pointer","font-weight","bold","width","200px"],["field","colonia"],["pSortableColumn","cp",2,"cursor","pointer","font-weight","bold","width","200px"],["field","cp"],["pSortableColumn","municipio",2,"cursor","pointer","font-weight","bold","width","200px"],["field","municipio"],["pSortableColumn","contacto",2,"cursor","pointer","font-weight","bold","width","200px"],["field","contacto"],["pSortableColumn","fecRegistro",2,"cursor","pointer","font-weight","bold","width","200px"],["field","fecRegistro"],[2,"font-weight","bold","cursor","default","width","200px"],[3,"pEditableRow"],[1,"flex","items-center","justify-center","gap-2"],["type","button","pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Editar","tooltipPosition","bottom","raised","","rounded","","severity","primary",3,"onClick",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-check","pTooltip","Registrar","tooltipPosition","bottom","raised","","rounded","","severity","secondary",3,"onClick",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-times","pTooltip","Cancelar","tooltipPosition","bottom","raised","","rounded","","severity","secondary",3,"onClick",4,"ngIf"],["icon","pi pi-trash","severity","danger","raised","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded","disabled"],["icon","pi pi-download","severity","warn","raised","","pTooltip","Utilizar","tooltipPosition","bottom",3,"onClick","rounded"],["pInputText","","type","text","formControlName","gAlmacen",2,"width","90px"],["pInputText","","type","text","formControlName","gCalle",2,"width","90px"],["pInputText","","type","text","formControlName","gColonia",2,"width","120px"],["pInputText","","type","text","formControlName","gCP",2,"width","90px"],["inputId","on_label","optionLabel","municipio","appendTo","body","optionValue","idMunicipio","formControlName","gIdMunicipio",1,"md:w-[190px]",3,"options","loading","filter"],["pInputText","","type","text","formControlName","gContacto"],["type","button","pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Editar","tooltipPosition","bottom","raised","","rounded","","severity","primary",3,"onClick"],["type","button","pButton","","pRipple","","icon","pi pi-check","pTooltip","Registrar","tooltipPosition","bottom","raised","","rounded","","severity","secondary",3,"onClick"],["type","button","pButton","","pRipple","","icon","pi pi-times","pTooltip","Cancelar","tooltipPosition","bottom","raised","","rounded","","severity","secondary",3,"onClick"]],template:function(i,a){i&1&&(t(0,"div",9)(1,"form",10)(2,"p-toolbar",11),E(3,va,1,1,"ng-template",null,0,g)(5,ba,0,0,"ng-template",null,1,g),r(),t(7,"p-table",12,2),E(9,ha,5,4,"ng-template",null,3,g)(11,ya,5,2,"ng-template",null,4,g)(13,Oa,46,8,"ng-template",null,5,g),r()()()),i&2&&(c(),d("formGroup",a.frmDireccion),c(6),d("value",a.listaClienteDireccion)("loading",a.mostrarLoading)("rows",5)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,Ae,F,oe,D,P,A,L,Lt,T,Vt,R,qt,G,k,Ut,B,jt,Y,X,K,H,ne],encapsulation:2})};var Na=()=>({width:"375px"}),yt=()=>({width:"245px"});function ja(o,e){if(o&1){let i=_();t(0,"i",24),f("click",function(m){let u=v(i).clickCallBack;return b(u(m))}),r()}}function Ua(o,e){if(o&1){let i=_();t(0,"i",24),f("click",function(m){let u=v(i).clickCallBack;return b(u(m))}),r()}}function Ga(o,e){o&1&&(t(0,"tr")(1,"th",25)(2,"span",26),s(3,"Almac\xE9n "),l(4,"p-sortIcon",27),r()(),t(5,"th",28)(6,"span",26),s(7,"Calle "),l(8,"p-sortIcon",29),r()(),t(9,"th",30)(10,"span",26),s(11,"Colonia "),l(12,"p-sortIcon",31),r()(),t(13,"th",32)(14,"span",26),s(15,"C.P. "),l(16,"p-sortIcon",33),r()(),t(17,"th",34)(18,"span",26),s(19,"Ciudad"),l(20,"p-sortIcon",35),r()(),t(21,"th",36)(22,"span",26),s(23,"Contacto"),l(24,"p-sortIcon",37),r()(),t(25,"th",38)(26,"span",26),s(27,"Fec. Efectiva"),l(28,"p-sortIcon",39),r()(),t(29,"th",40)(30,"span",26),s(31,"Hrs. Inicio"),l(32,"p-sortIcon",41),r()(),t(33,"th",42)(34,"span",26),s(35,"Hrs. Final"),l(36,"p-sortIcon",43),r()(),l(37,"th"),r())}function ka(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r(),t(9,"td"),s(10),r(),t(11,"td"),s(12),r(),t(13,"td"),s(14),r(),t(15,"td"),s(16),r(),t(17,"td"),s(18),r(),t(19,"td")(20,"p-button",44),f("onClick",function(m){let u=v(i).$implicit,C=h();return b(C.borrarDireccion(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.almacen),c(2),S(i.calle),c(2),S(i.colonia),c(2),S(i.cp),c(2),S(i.ciudad),c(2),S(i.contacto),c(2),S(i.fecEfectiva),c(2),S(i.hInicio),c(2),S(i.hFinal),c(2),d("rounded",!0)}}var Ei=class o{constructor(e,i,a,m,u,C,fe,Oe){this.fb=e;this.dialog=i;this.config=a;this.datePipe=m;this.messageService=u;this._embarqueServicio=C;this._municipioServicio=fe;this.confirmationService=Oe;this.config.data!=null&&(this.embarque=this.config.data),this.frmDireccion=this.fb.group({almacen:[{value:"",disabled:!1},w.required],calle:[{value:"",disabled:!1},w.required],colonia:[{value:"",disabled:!1},w.required],cp:[{value:"",disabled:!1},w.required],idMunicipio:[{value:0,disabled:!1},w.required],contacto:[{value:"",disabled:!1},w.required],fecEfectiva:["",w.required],hInicio:["",w.required],hFinal:["",w.required]})}frmDireccion;embarque;minDate;ref;listaCatMunicipio=[];listaDireccion=[];columnasTabla=["almacen","calle","colonia","cp","ciudad","contacto","fecEfectiva","hInicio","hFinal"];mostrarLoading=!1;ngOnInit(){return n(this,null,function*(){this.minDate=new Date,yield this.cargaCatMunicipio(),yield this.cargaInfoTabla()})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._embarqueServicio.listaConsultaEmbarqueDireccion(this.embarque?.idEmbarque,this.embarque?.idRuta,!!this.embarque?.tipoDireccion).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaDireccion=yield e.value,this.mostrarLoading=!1):(this.listaDireccion=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}registroDireccion(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idEmbarque:this.embarque?.idEmbarque,idRuta:this.embarque?.idRuta,isOrigen:this.embarque?.tipoDireccion,almacen:this.frmDireccion.value.almacen,calle:this.frmDireccion.value.calle,colonia:this.frmDireccion.value.colonia,cp:this.frmDireccion.value.cp,idMunicipio:this.frmDireccion.value.idMunicipio,contacto:this.frmDireccion.value.contacto,fecEfectiva:this.datePipe.transform(this.frmDireccion.value.fecEfectiva,"dd/MM/yyyy"),hInicio:this.datePipe.transform(this.frmDireccion.value.hInicio,"HH:mm"),hFinal:this.datePipe.transform(this.frmDireccion.value.hFinal,"HH:mm")};this._embarqueServicio.guardarDireccion(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Direcci\xF3n registrada",life:3e3}),this.mostrarLoading=!1,yield this.cargaInfoTabla(),yield this.borrarDatos()):(this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}),this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaCatMunicipio(){return n(this,null,function*(){this._municipioServicio.listaCatMunicipio().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatMunicipio=yield e.value)})})})}borrarDatos(){return n(this,null,function*(){this.frmDireccion.patchValue({almacen:"",calle:"",colonia:"",cp:"",idMunicipio:0,contacto:"",fecEfectiva:"",hInicio:"",hFinal:""})})}borrarDireccion(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:`\xBFDeseas borrar la direcci\xF3n de ${i.almacen}?`,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0;let a={idEmbarque:i.idEmbarque,idRuta:i.idRuta,isOrigen:i.isOrigen,almacen:i.almacen};this._embarqueServicio.borrarEmbarqueDireccion(a).subscribe({next:m=>n(this,null,function*(){m.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Direccion borrada con \xE9xito",life:3e3}),yield this.cargaInfoTabla(),this.mostrarLoading=!1):(this.messageService.add({severity:"warn",summary:"Advertencia",detail:m.msg,life:3e3}),this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}catClienteDirecciones(){return n(this,null,function*(){this.ref=this.dialog.open(Qi,{header:"Direcciones",width:"1290px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:this.embarque}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e!=null&&this.frmDireccion.patchValue({almacen:e.almacen,calle:e.calle,colonia:e.colonia,cp:e.cp,idMunicipio:e.idMunicipio,contacto:e.contacto})}))})}static \u0275fac=function(i){return new(i||o)(p(q),p(ue),p(N),p(ri),p(M),p(_e),p(Me),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalSecundariaDireccion"]],decls:57,vars:30,consts:[["inputicon",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mb-6"],["type","button","label","Consulta Direcci\xF3n","raised","",3,"onClick"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["pInputText","","formControlName","almacen","pSize","large","autocomplete","off",2,"width","170px"],[2,"font-weight","bold"],["pInputText","","formControlName","calle","pSize","large","autocomplete","off",2,"width","255px"],["pInputText","","formControlName","colonia","pSize","large","autocomplete","off",2,"width","205px"],["pInputText","","formControlName","cp","pSize","large","autocomplete","off",2,"width","92px"],["appendTo","body","optionLabel","municipio","optionValue","idMunicipio","size","large","formControlName","idMunicipio",3,"options","filter"],["pInputText","","formControlName","contacto","pSize","large","autocomplete","off",2,"width","375px"],["appendTo","body","dateFormat","dd/mm/yy","formControlName","fecEfectiva","size","large","showIcon","","iconDisplay","input",3,"minDate","readonlyInput"],["appendTo","body","formControlName","hInicio","size","large","iconDisplay","input",3,"timeOnly","showIcon"],["appendTo","body","formControlName","hFinal","size","large","iconDisplay","input",3,"timeOnly","showIcon"],[2,"margin","0px 0px 0px 686px"],["type","button","label","Registrar ",3,"onClick","loading","disabled"],[2,"margin-right","auto","font-size","20px","font-weight","bold"],[1,"card","mt-2"],["dataKey","idRuta","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","showCurrentPageReport"],[1,"pi","pi-clock",3,"click"],["pSortableColumn","almacen"],[1,"flex","items-center","gap-2"],["field","almacen"],["pSortableColumn","calle"],["field","calle"],["pSortableColumn","colonia"],["field","colonia"],["pSortableColumn","cp"],["field","cp"],["pSortableColumn","ciudad"],["field","ciudad"],["pSortableColumn","contacto"],["field","contacto"],["pSortableColumn","fecEfectiva"],["field","fecEfectiva"],["pSortableColumn","hInicio"],["field","hInicio"],["pSortableColumn","hFinal"],["field","hFinal"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar Direcci\xF3n","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",4)(1,"div",5)(2,"p-button",6),f("onClick",function(){return v(m),b(a.catClienteDirecciones())}),r()(),t(3,"div",7)(4,"p-floatlabel",8),l(5,"input",9),t(6,"label",10),s(7,"Almac\xE9n"),r()(),t(8,"p-floatlabel",8),l(9,"input",11),t(10,"label",10),s(11,"Calle"),r()(),t(12,"p-floatlabel",8),l(13,"input",12),t(14,"label",10),s(15,"Colon\xEDa"),r()(),t(16,"p-floatlabel",8),l(17,"input",13),t(18,"label",10),s(19,"C.P."),r()()(),t(20,"div",7)(21,"p-floatlabel",8),l(22,"p-select",14),t(23,"label",10),s(24,"Ciudad/Municipio"),r()(),t(25,"p-floatlabel",8),l(26,"input",15),t(27,"label",10),s(28,"Contacto"),r()()(),t(29,"div",7)(30,"p-floatlabel",8),l(31,"p-datepicker",16),t(32,"label",10),s(33,"Fecha Efectiva"),r()(),t(34,"p-floatlabel",8)(35,"p-datepicker",17),E(36,ja,1,0,"ng-template",null,0,g),r(),t(38,"label",10),s(39,"Hr. Inicial "),r()(),t(40,"p-floatlabel",8)(41,"p-datepicker",18),E(42,Ua,1,0,"ng-template",null,0,g),r(),t(44,"label",10),s(45,"Hr. Final"),r()()(),t(46,"div",19)(47,"p-button",20),f("onClick",function(){return v(m),b(a.registroDireccion())}),r()(),t(48,"span",21),s(49," Direcciones "),r(),t(50,"div",22)(51,"p-table",23,1),E(53,Ga,38,0,"ng-template",null,2,g)(55,ka,21,10,"ng-template",null,3,g),r()()()}i&2&&(d("formGroup",a.frmDireccion),c(22),j(y(26,Na)),d("options",a.listaCatMunicipio)("filter",!0),c(9),j(y(27,yt)),d("minDate",a.minDate)("readonlyInput",!0),c(4),j(y(28,yt)),d("timeOnly",!0)("showIcon",!0),c(6),j(y(29,yt)),d("timeOnly",!0)("showIcon",!0),c(6),d("loading",a.mostrarLoading)("disabled",a.frmDireccion.invalid),c(4),d("value",a.listaDireccion)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,oi,F,oe,D,P,A,L,T,R,V,G,k,B,H,ne],encapsulation:2})};var et=class o{downloadPdf(e,i="documento.pdf"){pdfMake.createPdf(e).download(i)}openPdf(e){pdfMake.createPdf(e).open()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ha=o=>[o,"MXN","symbol","1.2-2","es-MX"];function za(o,e){o&1&&(t(0,"th",28)(1,"span",29),s(2,"Proveedor "),l(3,"p-sortIcon",30),r()(),t(4,"th",31)(5,"span",29),s(6,"No. Unidad "),l(7,"p-sortIcon",32),r()(),t(8,"th",33)(9,"span",29),s(10,"Origen "),l(11,"p-sortIcon",34),r()(),t(12,"th",35)(13,"span",29),s(14,"Destino "),l(15,"p-sortIcon",36),r()(),t(16,"th",37)(17,"span",29),s(18,"Costo "),l(19,"p-sortIcon",38),r()(),l(20,"th"))}function $a(o,e){if(o&1){let i=_();t(0,"tr")(1,"td")(2,"p-button",39),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registrarNoUnidad(m))}),r()(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",40),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroDirecciones(m,1))}),r()(),t(7,"td")(8,"p-button",40),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroDirecciones(m,0))}),r()(),t(9,"td"),s(10),Fe(11,"currency"),r(),t(12,"td")(13,"p-button",41),f("onClick",function(){v(i);let m=h();return b(m.generarCIES())}),r(),t(14,"p-button",42),f("onClick",function(){v(i);let m=h();return b(m.generarCIIN())}),r(),t(15,"p-button",43),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registrarCostosAdicionales(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),U("label",i.proveedor),c(2),S(i.noUnidad),c(2),U("label",i.origen),c(2),U("label",i.destino),c(2),S(`${Ne(11,8,me(14,Ha,i.tarifa))} ${i.codMoneda}`),c(3),d("rounded",!0),c(),d("rounded",!0),c(),d("rounded",!0)}}var it=class o{constructor(e,i,a,m,u,C,fe,Oe){this.fb=e;this.dialog=i;this.config=a;this._embarqueServicio=m;this.currencyPipe=u;this.confirmationService=C;this._pdfService=fe;this.percentPipe=Oe;this.frmEmbarque=this.fb.group({referencia:[""],empresa:[""],cliente:[""],tipoViaje:[""],tipo:[""],estatus:[""],tipoServicio:[""],tipoUnidad:[""],origen:[""],destino:[""],fecEfectiva:[""],clasificacion:[""],venta:[""],utilidad:[""],profit:[""],tipoMercancia:[""],observaciones:[""]}),this.config.data!=null&&(this.idEmbarque=this.config.data)}frmEmbarque;ref;idEmbarque;listaConsulProveedorRuta=[];columnasTabla=["proveedor","noUnidad","origen","destino","costo"];embarque;ngOnInit(){return n(this,null,function*(){yield this.cargaInfoDetalle(),yield this.cargaProveedorRuta()})}cargaInfoDetalle(){return n(this,null,function*(){this._embarqueServicio.listaEmbarqueDetalle(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){if(e.status){this.embarque=yield e.value[0];let i=this.currencyPipe.transform(yield e.value[0].monto,"MXN","symbol","1.2-2","es-MX"),a=this.currencyPipe.transform(yield e.value[0].utilidad,"MXN","symbol","1.2-2","es-MX"),m=this.percentPipe.transform((yield e.value[0].margen)/100,"1.2-2");this.frmEmbarque.patchValue({referencia:`RD${yield e.value[0].idEmbarque}`,empresa:yield e.value[0].empresa,cliente:yield e.value[0].cliente,tipoViaje:yield e.value[0].tipoViaje,estatus:yield e.value[0].estatus,tipoServicio:yield e.value[0].tipoServicio,tipoUnidad:yield e.value[0].tipoUnidad,origen:yield e.value[0].origen,destino:yield e.value[0].destino,fecEfectiva:yield e.value[0].fecEfectiva,clasificacion:yield e.value[0].clasificacion,venta:`${i} ${yield e.value[0].codMoneda}`,utilidad:a,profit:m,tipoMercancia:yield e.value[0].tipoMercancia,observaciones:yield e.value[0].observaciones})}})})})}cargaProveedorRuta(){return n(this,null,function*(){this._embarqueServicio.listaEmbarqueProveedorRuta(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaConsulProveedorRuta=yield e.value)})})})}registrarNoUnidad(e){return n(this,null,function*(){this.ref=this.dialog.open(Zi,{header:"Registro No. Unidad",width:"285px",height:"170px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfoDetalle(),yield this.cargaProveedorRuta())}))})}registrarCostosAdicionales(e){return n(this,null,function*(){this.ref=this.dialog.open(Ji,{header:"Costo Adicional",width:"700px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(()=>n(this,null,function*(){yield this.cargaInfoDetalle()}))})}revisarDocumentacion(){return n(this,null,function*(){this.ref=this.dialog.open(Wi,{header:"Documentaci\xF3n",width:"550px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:this.idEmbarque})})}registroDirecciones(e,i){return n(this,null,function*(){let a={idSolicitud:e.idSolicitud,idEmbarque:e.idEmbarque,idRuta:e.idRuta,tipoDireccion:i};i==1?this.ref=this.dialog.open(Ei,{header:"Direcci\xF3n Origen",width:"1130px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:a}):i==0&&(this.ref=this.dialog.open(Ei,{header:"Direcci\xF3n Destino",width:"1100px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:a}))})}cargaInfoCarta(e){return n(this,null,function*(){})}generarCIES(){return n(this,null,function*(){let e=this.currencyPipe.transform(this.listaConsulProveedorRuta[0].tarifa,"MXN","symbol","1.2-2","es-MX"),i=this.listaConsulProveedorRuta[0].direccionesOrigen,a=this.listaConsulProveedorRuta[0].direccionesDestino,m=this.embarque?.listaDocumentos,u=[],C=[],fe=[];i.forEach(z=>{u.push(`BODEGA: ${z.almacen} 
 DIRECCI\xD3N: ${z.calle}, ${z.colonia}, ${z.cp}, ${z.municipio} 
 CONTACTO: ${z.contacto} 
 FECHA Y HORA: ${z.fecEfectiva} ${z.hInicio} - ${z.hFinal}

`)}),a.forEach(z=>{C.push(`BODEGA: ${z.almacen} 
 DIRECCI\xD3N: ${z.calle}, ${z.colonia}, ${z.cp}, ${z.municipio} 
 CONTACTO: ${z.contacto} 
 FECHA Y HORA: ${z.fecEfectiva} ${z.hInicio} - ${z.hFinal}

`)}),m.forEach(z=>{fe.push(`${z.documento.toUpperCase()}.`)}),u[u.length-1]=u[u.length-1].substring(0,u[u.length-1].length-2),C[C.length-1]=C[C.length-1].substring(0,C[C.length-1].length-2);let Oe={content:[{fontSize:10,bold:!0,text:`CARTA DE INSTRUCCIONES

`,style:"header"},{table:{widths:["*","*"],body:[[{border:[!1,!1,!1,!1],image:"data:image/png;base64,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",width:121,height:45},{border:[!1,!1,!1,!1],fit:"60",alignment:"right",qr:this.frmEmbarque.value.referencia}]]}},{table:{widths:[250,"*",210],body:[[{border:[!1,!1,!1,!1],table:{body:[[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"REF RAD Factura:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.frmEmbarque.value.referencia}],[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"REQUESTED BY:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.embarque?.usuario}]]}},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],table:{body:[[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"FECHA DE CREACI\xD3N:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.frmEmbarque.value.fecEfectiva}],[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"NO. UNIDAD:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.listaConsulProveedorRuta[0].noUnidad}]]}}]]}},"",{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"COSTOS"}],[{fontSize:10,text:`FLETE - ${e} ${this.listaConsulProveedorRuta[0].codMoneda}`}]]}},{table:{widths:["*","*","*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"PROVEEDOR"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"RUTA"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"TIPO DE UNIDAD"}],[{fontSize:10,text:this.listaConsulProveedorRuta[0].proveedor},{fontSize:10,text:`${this.listaConsulProveedorRuta[0].origen} - ${this.listaConsulProveedorRuta[0].destino}`},{fontSize:10,text:this.embarque?.tipoUnidad}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"AGENTE ADUANAL"}],[{fontSize:10,text:this.embarque?.agenteAduanal}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"OBSERVACIONES"}],[{fontSize:10,text:this.embarque?.observaciones}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"LUGAR(ES) DE RECOLECCI\xD3N"}],[{fontSize:10,ul:[u]}]]}},,{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"LUGAR(ES) DE ENTREGA"}],[{fontSize:10,ul:[C]}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"PROCESO FACTURACI\xD3N"}],[{fontSize:10,text:`LA FACTURA SE RECIBE JUNTO CON SU PRUEBA DE ENTREGA CORRESPONDIENTE ESCANEADAS Y F\xCDSICA (FIRMADAS Y/O SELLADAS AL MOMENTO DE FINALIZAR EL SERVICIO

CORREOS: YCORDOVA@RAD-LOGISTICS.COM, FESTRADA@RAD-LOGISTICS.COM, BBAZALDUA@RAD-LOGISTICS.COM, APEREZ@RAD-LOGISTICS.COM, ADMINISTRACION@RAD-LOGISTICS.COM 
ENVIAR LA FACTURA, XML Y LA PRUEBA ENTREGDA. ASEGURARSE DE QUE LA REFERENCIA DE RAD EST\xC9 INCLUIDA EN LA FACTURA Y CARTA PORTE.`}]]}},{table:{widths:["*","*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"FACTURAR A",alignment:"center"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"EVIDENCIAS",alignment:"center"}],[{fontSize:10,alignment:"justify",text:this.embarque?.datosFacturacion},{fontSize:10,alignment:"justify",ul:[fe]}]]}}]};this._pdfService.openPdf(Oe)})}generarCIIN(){return n(this,null,function*(){let e=this.currencyPipe.transform(this.listaConsulProveedorRuta[0].tarifa,"MXN","symbol","1.2-2","es-MX"),i=this.listaConsulProveedorRuta[0].direccionesOrigen,a=this.listaConsulProveedorRuta[0].direccionesDestino,m=this.embarque?.listaDocumentos,u=[],C=[],fe=[];i.forEach(z=>{u.push(`BODEGA: ${z.almacen} 
 DIRECCI\xD3N: ${z.calle}, ${z.colonia}, ${z.cp}, ${z.municipio} 
 CONTACTO: ${z.contacto} 
 FECHA Y HORA: ${z.fecEfectiva} ${z.hInicio} - ${z.hFinal}

`)}),a.forEach(z=>{C.push(`BODEGA: ${z.almacen} 
 DIRECCI\xD3N: ${z.calle}, ${z.colonia}, ${z.cp}, ${z.municipio} 
 CONTACTO: ${z.contacto} 
 FECHA Y HORA: ${z.fecEfectiva} ${z.hInicio} - ${z.hFinal}

`)}),m.forEach(z=>{fe.push(`${z.documento.toUpperCase()}.`)}),u[u.length-1]=u[u.length-1].substring(0,u[u.length-1].length-2),C[C.length-1]=C[C.length-1].substring(0,C[C.length-1].length-2);let Oe={content:[{fontSize:10,bold:!0,text:`LETTER INSTRUCTIONS

`,style:"header"},{table:{widths:["*","*"],body:[[{border:[!1,!1,!1,!1],image:"data:image/png;base64,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",width:121,height:45},{border:[!1,!1,!1,!1],fit:"60",alignment:"right",qr:this.frmEmbarque.value.referencia}]]}},{table:{widths:[250,"*",210],body:[[{border:[!1,!1,!1,!1],table:{body:[[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"REF RAD INVOICE:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.frmEmbarque.value.referencia}],[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"REQUESTED BY:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.embarque?.usuario}]]}},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],table:{body:[[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"CREATION DATE:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.frmEmbarque.value.fecEfectiva}],[{border:[!1,!1,!1,!1],fontSize:10,bold:!0,text:"UNIT NUMBER:"},{border:[!1,!1,!1,!1],fontSize:10,text:this.listaConsulProveedorRuta[0].noUnidad}]]}}]]}},"",{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"COSTS"}],[{fontSize:10,text:`FLETE - ${e} ${this.listaConsulProveedorRuta[0].codMoneda}`}]]}},{table:{widths:["*","*","*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"SUPPLIER"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"ROUTE"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"UNIT TYPE"}],[{fontSize:10,text:this.listaConsulProveedorRuta[0].proveedor},{fontSize:10,text:`${this.listaConsulProveedorRuta[0].origen} - ${this.listaConsulProveedorRuta[0].destino}`},{fontSize:10,text:this.embarque?.tipoUnidad}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"CUSTOMS AGENT"}],[{fontSize:10,text:this.embarque?.agenteAduanal}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"OBSERVATIONS"}],[{fontSize:10,text:this.embarque?.observaciones}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"ADDRES PICKUP"}],[{fontSize:10,ul:[u]}]]}},,{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"ADDRES DELIVERY"}],[{fontSize:10,ul:[C]}]]}},{table:{widths:["*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"BILLING PROCESS"}],[{fontSize:10,text:`LA FACTURA SE RECIBE JUNTO CON SU PRUEBA DE ENTREGA CORRESPONDIENTE ESCANEADAS Y F\xCDSICA (FIRMADAS Y/O SELLADAS AL MOMENTO DE FINALIZAR EL SERVICIO

CORREOS: YCORDOVA@RAD-LOGISTICS.COM, FESTRADA@RAD-LOGISTICS.COM, BBAZALDUA@RAD-LOGISTICS.COM, APEREZ@RAD-LOGISTICS.COM, ADMINISTRACION@RAD-LOGISTICS.COM 
ENVIAR LA FACTURA, XML Y LA PRUEBA ENTREGDA. ASEGURARSE DE QUE LA REFERENCIA DE RAD EST\xC9 INCLUIDA EN LA FACTURA Y CARTA PORTE.`}]]}},{table:{widths:["*","*"],headerRows:1,body:[[{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"BILL TO",alignment:"center"},{fontSize:10,bold:!0,fillColor:"#000000",color:"#FFFFFF",text:"EVIDENCES",alignment:"center"}],[{fontSize:10,alignment:"justify",text:this.embarque?.datosFacturacion},{fontSize:10,alignment:"justify",ul:[fe]}]]}}]};this._pdfService.openPdf(Oe)})}static \u0275fac=function(i){return new(i||o)(p(q),p(ue),p(N),p(_e),p(Ve),p(de),p(et),p(At))};static \u0275cmp=x({type:o,selectors:[["app-ModalDetalleEmbarque"]],decls:80,vars:7,consts:[["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["pInputText","","readonly","","pSize","large","formControlName","referencia","autocomplete","off",2,"width","100px"],[2,"font-weight","bold","font-size","11.5px"],["pInputText","","readonly","","pSize","large","formControlName","empresa","autocomplete","off",2,"width","290px"],["pInputText","","readonly","","pSize","large","formControlName","cliente","autocomplete","off",2,"width","320px"],["pInputText","","readonly","","pSize","large","formControlName","tipoViaje","autocomplete","off",2,"width","110px"],["pInputText","","readonly","","pSize","large","formControlName","estatus","autocomplete","off",2,"width","155px"],[1,"flex","flex-wrap","items-start","gap-4","mb-6"],["pInputText","","readonly","","pSize","large","formControlName","tipoServicio","autocomplete","off",2,"width","220px"],["pInputText","","readonly","","pSize","large","formControlName","tipoUnidad","autocomplete","off",2,"width","219px"],["pInputText","","readonly","","pSize","large","formControlName","origen","autocomplete","off",2,"width","275px"],["pInputText","","readonly","","pSize","large","formControlName","destino","autocomplete","off",2,"width","275px"],["pInputText","","readonly","","pSize","large","formControlName","fecEfectiva","autocomplete","off",2,"width","220px"],["pInputText","","readonly","","pSize","large","formControlName","clasificacion","autocomplete","off",2,"width","219px"],["pInputText","","readonly","","pSize","large","formControlName","venta","autocomplete","off",2,"width","275px"],["pInputText","","readonly","","pSize","large","formControlName","utilidad","autocomplete","off",2,"width","130px"],["pInputText","","readonly","","pSize","large","formControlName","profit","autocomplete","off",2,"width","130px"],["pInputText","","readonly","","pSize","large","formControlName","tipoMercancia","autocomplete","off",2,"width","508px"],["pInputText","","readonly","","pSize","large","formControlName","observaciones","autocomplete","off",2,"width","508px"],["label","Consulta Documentaci\xF3n","raised","",3,"onClick"],[2,"margin-right","auto","font-size","20px","font-weight","bold"],[1,"card","mt-2"],["dataKey","idSolicitud","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","rows","columns","paginator","rowHover","showCurrentPageReport"],["pSortableColumn","proveedor",2,"font-weight","bold","width","230px"],[1,"flex","items-center","gap-2"],["field","proveedor"],["pSortableColumn","noUnidad",2,"font-weight","bold","width","100px"],["field","noUnidad"],["pSortableColumn","origen",2,"font-weight","bold"],["field","origen"],["pSortableColumn","destino",2,"font-weight","bold"],["field","destino"],["pSortableColumn","costo",2,"font-weight","bold"],["field","costo"],["type","button","text","","styleClass","w-full flex justify-start text-left",3,"onClick","label"],["type","button","text","",3,"onClick","label"],["icon","pi pi-file-edit","severity","info","pTooltip","Generar CI ESPA\xD1OL","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-file-edit","severity","help","pTooltip","Generar CI INGLES","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-dollar","severity","warn","pTooltip","Costo Adicional","raised","","rounded","",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"form",3)(1,"div",4)(2,"p-floatlabel",5),l(3,"input",6),t(4,"label",7),s(5,"Referencia"),r()(),t(6,"p-floatlabel",5),l(7,"input",8),t(8,"label",7),s(9,"Empresa"),r()(),t(10,"p-floatlabel",5),l(11,"input",9),t(12,"label",7),s(13,"Cliente"),r()(),t(14,"p-floatlabel",5),l(15,"input",10),t(16,"label",7),s(17,"Tipo Viaje"),r()(),t(18,"p-floatlabel",5),l(19,"input",11),t(20,"label",7),s(21,"Estatus"),r()()(),t(22,"div",12)(23,"p-floatlabel",5),l(24,"input",13),t(25,"label",7),s(26,"Tipo Servicio"),r()(),t(27,"p-floatlabel",5),l(28,"input",14),t(29,"label",7),s(30,"Tipo Unidad"),r()(),t(31,"p-floatlabel",5),l(32,"input",15),t(33,"label",7),s(34,"Origen"),r()(),t(35,"p-floatlabel",5),l(36,"input",16),t(37,"label",7),s(38,"Destino"),r()()(),t(39,"div",12)(40,"p-floatlabel",5),l(41,"input",17),t(42,"label",7),s(43,"Fec. Efectiva"),r()(),t(44,"p-floatlabel",5),l(45,"input",18),t(46,"label",7),s(47,"Clasificaci\xF3n"),r()(),t(48,"p-floatlabel",5),l(49,"input",19),t(50,"label",7),s(51,"Venta"),r()(),t(52,"p-floatlabel",5),l(53,"input",20),t(54,"label",7),s(55,"Profit"),r()(),t(56,"p-floatlabel",5),l(57,"input",21),t(58,"label",7),s(59,"Marguen"),r()()(),t(60,"div",12)(61,"p-floatlabel",5),l(62,"input",22),t(63,"label",7),s(64,"Tipo Mercancia"),r()(),t(65,"p-floatlabel",5),l(66,"input",23),t(67,"label",7),s(68,"Observaciones"),r()()(),t(69,"div",12)(70,"p-button",24),f("onClick",function(){return v(m),b(a.revisarDocumentacion())}),r()(),t(71,"span",25),s(72," Proveedor(es) "),r(),t(73,"div",26)(74,"p-table",27,0),E(76,za,21,0,"ng-template",null,1,g)(78,$a,16,16,"ng-template",null,2,g),r()()()}i&2&&(d("formGroup",a.frmEmbarque),c(74),d("value",a.listaConsulProveedorRuta)("rows",4)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,oe,D,P,A,L,T,R,V,G,k,B,ne,Ve],encapsulation:2})};var Xa=()=>({width:"250px"}),tt=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this.datePipe=a;this._solicitudServicio=m;this.messageService=u;this.ref=C;this.frmAjuste=this.fb.group({fecEfectiva:[null,w.required]}),this.config.data!=null&&(this.embarque=this.config.data,this.frmAjuste.patchValue({fecEfectiva:new Date(this.embarque.fecEfectiva)}),this.minDate=new Date(this.embarque.fecEfectiva)>=new Date?new Date:new Date(this.embarque.fecEfectiva))}minDate;frmAjuste;embarque;ngOnInit(){return n(this,null,function*(){})}ajustarFecha(){return n(this,null,function*(){let e={idEmbarque:this.embarque?.idEmbarque,FecEfectiva:this.datePipe.transform(this.frmAjuste.value.fecEfectiva,"dd/MM/yyyy")?.replace("/","").replace("/","")};this._solicitudServicio.actualizarFechaEfectiva(e).subscribe({next:i=>n(this,null,function*(){i.status&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud actualizada",life:3e3}),this.ref.close(!0))})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(ri),p(Pe),p(M),p(ae))};static \u0275cmp=x({type:o,selectors:[["app-ModalAjusteFechaEfectiva"]],decls:8,vars:7,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-1","mb-4"],["variant","on",1,"mt-1"],["appendTo","body","dateFormat","dd/mm/yy","formControlName","fecEfectiva","showIcon","","iconDisplay","input",3,"minDate","readonlyInput"],[2,"margin","0px 0px 0px 175px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"p-datepicker",3),t(4,"label"),s(5,"Fecha Efectiva"),r()()(),t(6,"div",4)(7,"p-button",5),f("onClick",function(){return a.ajustarFecha()}),r()()()),i&2&&(d("formGroup",a.frmAjuste),c(3),j(y(6,Xa)),d("minDate",a.minDate)("readonlyInput",!0),c(4),d("disabled",a.frmAjuste.invalid))},dependencies:[I,oi,F,D,P,A,L,R,V],encapsulation:2})};var Ka=()=>({width:"260px"}),rt=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this._clienteServicio=a;this._solicitudServicio=m;this.messageService=u;this.ref=C;this.frmAjuste=this.fb.group({idCliente:[0]}),this.config.data!=null&&(this.embarque=this.config.data)}frmAjuste;listaCatCliente=[];embarque;ngOnInit(){return n(this,null,function*(){yield this.cargaCatCliente()})}cargaCatCliente(){return n(this,null,function*(){this._clienteServicio.listaCatCliente().subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatCliente=yield e.value:this.listaCatCliente=[],this.listaCatCliente.filter(a=>a.idCliente==this.embarque?.idCliente).length>0?this.frmAjuste.patchValue({idCliente:this.embarque?.idCliente}):this.frmAjuste.patchValue({idCliente:0})})})})}ajusteCliente(){return n(this,null,function*(){this._solicitudServicio.actualizarCliente(this.embarque?.idEmbarque,this.frmAjuste.value.idCliente).subscribe({next:e=>n(this,null,function*(){e.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud actualizada",life:3e3}),this.ref.close(!0)):this.messageService.add({severity:"info",summary:"Informaci\xF3n",detail:e.msg,life:3e3})})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(xe),p(Pe),p(M),p(ae))};static \u0275cmp=x({type:o,selectors:[["app-ModalAjusteCliente"]],decls:8,vars:7,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-4"],["variant","on"],["appendTo","body","optionLabel","cliente","optionValue","idCliente","formControlName","idCliente",3,"options","filter"],[2,"font-weight","bold","font-size","11.5px"],[2,"margin","0px 0px 0px 186px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"p-select",3),t(4,"label",4),s(5,"Cliente"),r()()(),t(6,"div",5)(7,"p-button",6),f("onClick",function(){return a.ajusteCliente()}),r()()()),i&2&&(d("formGroup",a.frmAjuste),c(3),j(y(6,Ka)),d("options",a.listaCatCliente)("filter",!0),c(4),d("disabled",a.frmAjuste.invalid))},dependencies:[I,F,D,P,A,L,R,V,H],encapsulation:2})};var ot=class o{constructor(e){this.http=e}urlApi=re.endpoint+"EstatusEmbarque/";listaCatEstatusEmbarque(){return this.http.get(`${this.urlApi}ListaCatEstatusEmbarque`)}ListaCatEstatusEmbarqueByIdEmbarque(e){return this.http.get(`${this.urlApi}ListaCatEstatusEmbarqueByIdEmbarque/${e}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var Za=()=>({width:"auto"});function Ja(o,e){}function Wa(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",15),t(2,"input",16),f("input",function(m){v(i);let u=h(),C=$(18);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function Qa(o,e){o&1&&(t(0,"tr")(1,"th",17)(2,"span",18),s(3,"Estatus "),l(4,"p-sortIcon",19),r()(),t(5,"th",20)(6,"span",18),s(7,"Usuario "),l(8,"p-sortIcon",21),r()(),t(9,"th",22)(10,"span",18),s(11,"Comentario "),l(12,"p-sortIcon",23),r()(),t(13,"th",24)(14,"span",18),s(15,"Fec. Registro "),l(16,"p-sortIcon",25),r()()())}function en(o,e){if(o&1&&(t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),s(8),r()()),o&2){let i=e.$implicit;c(2),S(i.estatusEmbarque),c(2),S(i.usuario),c(2),S(i.comentario),c(2),S(i.fecRegistro)}}var at=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this.messageService=a;this._estatusEmbarqueServicio=m;this._utilidadServicio=u;this._embarqueServicio=C;this.frmEstatus=this.fb.group({idEstatus:[0],comentario:[""]}),this.idEmbarque=this.config.data}mostrarLoading=!1;frmEstatus;listaCatEstatusEmbarque=[];idEmbarque=0;listaConsultaEmbarqueBitacora=[];columnasTabla=["estatusEmbarque","usuario","comentario","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfoTabla(),yield this.cargaCatEstatusEmbarque()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}guardarEstatus(){return n(this,null,function*(){let i={idUsuario:(yield this._utilidadServicio.obtenerSesionUsuario())[0].idUsuario,idEmbarque:this.idEmbarque,idEstatusEmbarque:this.frmEstatus.value.idEstatus,comentario:this.frmEstatus.value.comentario};this._embarqueServicio.guardarEstatus(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Estatus registrado",life:3e3}),yield this.cargaInfoTabla(),yield this.cargaCatEstatusEmbarque(),yield this.borrarDatos()):this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3})}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._embarqueServicio.listaConsulEmbarqueBitacora(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsultaEmbarqueBitacora=yield e.value,this.mostrarLoading=!1):(this.listaConsultaEmbarqueBitacora=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}cargaCatEstatusEmbarque(){return n(this,null,function*(){this._estatusEmbarqueServicio.ListaCatEstatusEmbarqueByIdEmbarque(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatEstatusEmbarque=yield e.value:this.listaCatEstatusEmbarque=[]})})})}borrarDatos(){return n(this,null,function*(){this.frmEstatus.patchValue({idEstatus:0,comentario:""})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(ot),p(he),p(_e))};static \u0275cmp=x({type:o,selectors:[["app-ModalEstatus"]],decls:23,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["appendTo","body","optionLabel","estatusEmbarque","optionValue","idEstatusEmbarque","formControlName","idEstatus",3,"options","filter"],[2,"font-weight","bold"],["pInputText","","formControlName","comentario","autocomplete","off",2,"width","295px"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCargo","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","estatusEmbarque",2,"width","200px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","estatusEmbarque"],["pSortableColumn","usuario",2,"width","200px","font-weight","bold"],["field","usuario"],["pSortableColumn","comentario",2,"width","200px","font-weight","bold"],["field","comentario"],["pSortableColumn","fecRegistro",2,"width","200px","font-weight","bold"],["field","fecRegistro"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label",10),s(6,"Estatus"),r()(),t(7,"p-floatlabel",8),l(8,"input",11),t(9,"label",10),s(10,"Comentario"),r()(),t(11,"p-button",12),f("onClick",function(){return v(m),b(a.guardarEstatus())}),r()(),t(12,"p-toolbar",13),E(13,Ja,0,0,"ng-template",null,0,g)(15,Wa,3,2,"ng-template",null,1,g),r(),t(17,"p-table",14,2),E(19,Qa,17,0,"ng-template",null,3,g)(21,en,9,4,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmEstatus),c(4),le("width","200px"),d("options",a.listaCatEstatusEmbarque)("filter",!0),c(7),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsultaEmbarqueBitacora)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,Za))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,oe,D,P,A,L,T,R,V,G,k,B,Y,X,K,H],encapsulation:2})};var tn=()=>({width:"auto"});function rn(o,e){}function on(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",14),t(2,"input",15),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","250px"))}function an(o,e){o&1&&(t(0,"th",16)(1,"span",17),s(2,"Usuario "),l(3,"p-sortIcon",18),r()(),t(4,"th",19)(5,"span",17),s(6,"Comentarios "),l(7,"p-sortIcon",20),r()(),t(8,"th",21)(9,"span",17),s(10,"Fec. Registro "),l(11,"p-sortIcon",22),r()())}function nn(o,e){if(o&1&&(t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r()()),o&2){let i=e.$implicit;c(2),S(i.usuario),c(2),S(i.comentario),c(2),S(i.fecRegistro)}}var nt=class o{constructor(e,i,a,m,u){this.fb=e;this.config=i;this.messageService=a;this._utilidadServicio=m;this._embarqueServicio=u;this.frmSeguimiento=this.fb.group({comentario:[""]}),this.idEmbarque=this.config.data}mostrarLoading=!1;frmSeguimiento;idEmbarque=0;listaConsultaEmbarqueSeguimiento=[];columnasTabla=["usuario","comentario","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfoTabla()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._embarqueServicio.listaConsulEmbarqueSeguimiento(this.idEmbarque).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsultaEmbarqueSeguimiento=yield e.value,this.mostrarLoading=!1):(this.listaConsultaEmbarqueSeguimiento=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}guardarSeguimiento(){return n(this,null,function*(){let i={idUsuario:(yield this._utilidadServicio.obtenerSesionUsuario())[0].idUsuario,idEmbarque:this.idEmbarque,comentario:this.frmSeguimiento.value.comentario};this._embarqueServicio.guardarSeguimiento(i).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Seguimiento registrado",life:3e3}),yield this.borrarDatos(),yield this.cargaInfoTabla()):this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3})}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarDatos(){return n(this,null,function*(){this.frmSeguimiento.patchValue({comentario:""})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(M),p(he),p(_e))};static \u0275cmp=x({type:o,selectors:[["app-ModalSeguimiento"]],decls:19,vars:10,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[3,"formGroup"],[1,"card"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["pInputText","","formControlName","comentario","autocomplete","off",2,"width","510px"],[2,"font-weight","bold"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idCargo","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","usuario",2,"width","100px","font-weight","bold"],[1,"flex","items-center","gap-2"],["field","usuario"],["pSortableColumn","comentario",2,"width","800px","font-weight","bold"],["field","comentario"],["pSortableColumn","fecRegistro",2,"width","200px","font-weight","bold"],["field","fecRegistro"]],template:function(i,a){if(i&1){let m=_();t(0,"form",5)(1,"div",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"input",9),t(5,"label",10),s(6,"Comentario"),r()(),t(7,"p-button",11),f("onClick",function(){return v(m),b(a.guardarSeguimiento())}),r()(),t(8,"p-toolbar",12),E(9,rn,0,0,"ng-template",null,0,g)(11,on,3,2,"ng-template",null,1,g),r(),t(13,"p-table",13,2),E(15,an,12,0,"ng-template",null,3,g)(17,nn,7,3,"ng-template",null,4,g),r()()()}i&2&&(d("formGroup",a.frmSeguimiento),c(7),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsultaEmbarqueSeguimiento)("rows",5)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(9,tn))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,oe,D,P,A,L,T,R,V,G,k,B,Y,X,K],encapsulation:2})};var st=class o{constructor(e,i,a,m,u){this.fb=e;this.config=i;this._embarqueServicio=a;this.messageService=m;this.ref=u;this.frmAjuste=this.fb.group({datosFacturacion:[""]}),this.config.data!=null&&(this.embarque=this.config.data,this.embarque.datosFacturacion!=null&&this.frmAjuste.patchValue({datosFacturacion:this.embarque?.datosFacturacion}))}frmAjuste;embarque;ngOnInit(){return n(this,null,function*(){})}registroDatosFacturacion(){return n(this,null,function*(){let e={idEmbarque:this.embarque?.idEmbarque,datosFacturacion:this.frmAjuste.value.datosFacturacion};this._embarqueServicio.actualizarDatosFacturacion(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud registrada",life:3e3}),this.ref.close(!0)):this.messageService.add({severity:"info",summary:"Informaci\xF3n",detail:i.msg,life:3e3})})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(_e),p(M),p(ae))};static \u0275cmp=x({type:o,selectors:[["app-ModalDatosFacturacion"]],decls:8,vars:2,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-4"],["variant","on"],["pTextarea","","pSize","large","rows","5","cols","34","formControlName","datosFacturacion",1,"h-full",2,"resize","none"],[2,"font-weight","bold","font-size","11.5px"],[2,"margin","0px 0px 0px 240px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"textarea",3),t(4,"label",4),s(5,"Datos Facturaci\xF3n"),r()()(),t(6,"div",5)(7,"p-button",6),f("onClick",function(){return a.registroDatosFacturacion()}),r()()()),i&2&&(d("formGroup",a.frmAjuste),c(7),d("disabled",a.frmAjuste.invalid))},dependencies:[I,F,oe,D,P,A,L,R,V,ai],encapsulation:2})};var lt=class o{constructor(e,i,a,m,u){this.fb=e;this.config=i;this._embarqueServicio=a;this.messageService=m;this.ref=u;this.frmAjuste=this.fb.group({observaciones:[""],agenteAduanero:[{value:"",disabled:!1}]}),this.config.data!=null&&(this.embarque=this.config.data,this.embarque.idTipoServicio==1&&this.frmAjuste.controls.agenteAduanero.disable(),this.embarque.observaciones!=null&&this.frmAjuste.patchValue({observaciones:this.embarque?.observaciones}),this.embarque.agenteAduanal!=null&&this.frmAjuste.patchValue({agenteAduanero:this.embarque?.agenteAduanal}))}frmAjuste;embarque;ngOnInit(){return n(this,null,function*(){})}registroObservaciones(){return n(this,null,function*(){let e={"idEmbarque ":this.embarque?.idEmbarque,observaciones:this.frmAjuste.value.observaciones==null?null:this.frmAjuste.value.observaciones,agenteAduanal:this.frmAjuste.value.agenteAduanero==null?null:this.frmAjuste.value.agenteAduanero};this._embarqueServicio.actualizarObservaciones(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Solicitud registrada",life:3e3}),this.ref.close(!0)):this.messageService.add({severity:"info",summary:"Informaci\xF3n",detail:i.msg,life:3e3})})})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(_e),p(M),p(ae))};static \u0275cmp=x({type:o,selectors:[["app-ModalObservaciones"]],decls:12,vars:2,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-4"],["variant","on"],["pTextarea","","pSize","large","rows","4","cols","34","formControlName","observaciones",1,"h-full",2,"resize","none"],[2,"font-weight","bold","font-size","11.5px"],["pTextarea","","pSize","large","rows","4","cols","34","formControlName","agenteAduanero",1,"h-full",2,"resize","none"],[2,"margin","0px 0px 0px 568px"],["type","button","label","Guardar",3,"onClick","disabled"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"textarea",3),t(4,"label",4),s(5,"Observaciones"),r()(),t(6,"p-floatlabel",2),l(7,"textarea",5),t(8,"label",4),s(9,"Agente Aduanal"),r()()(),t(10,"div",6)(11,"p-button",7),f("onClick",function(){return a.registroObservaciones()}),r()()()),i&2&&(d("formGroup",a.frmAjuste),c(11),d("disabled",a.frmAjuste.invalid))},dependencies:[I,F,oe,D,P,A,L,R,V,ai],encapsulation:2})};var sn=()=>[10,20,50],ln=o=>[o,"MXN","symbol","1.2-2","es-MX"];function mn(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.cargaInfo())}),r()}}function cn(o,e){o&1&&l(0,"p-button",10)}function pn(o,e){if(o&1){let i=_();t(0,"div",11),l(1,"h5",12),t(2,"p-iconfield"),l(3,"p-inputicon",13),t(4,"input",14),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}o&2&&(c(4),le("width","300px"))}function dn(o,e){o&1&&(t(0,"tr")(1,"th",15)(2,"span",16),s(3,"Folio "),l(4,"p-sortIcon",17),r()(),t(5,"th",18)(6,"span",16),s(7,"Empresa "),l(8,"p-sortIcon",19),r()(),t(9,"th",20)(10,"span",16),s(11,"No. Unidad "),l(12,"p-sortIcon",21),r()(),t(13,"th",22)(14,"span",16),s(15,"Cliente "),l(16,"p-sortIcon",23),r()(),t(17,"th",24)(18,"span",16),s(19,"Tip. Unidad "),l(20,"p-sortIcon",25),r()(),t(21,"th",26)(22,"span",16),s(23,"Fec. Efectiva "),l(24,"p-sortIcon",27),r()(),t(25,"th",28)(26,"span",16),s(27,"Estatus "),l(28,"p-sortIcon",29),r()(),t(29,"th",30)(30,"span",16),s(31,"Venta"),l(32,"p-sortIcon",31),r()(),t(33,"th",32)(34,"span",16),s(35,"Profit"),l(36,"p-sortIcon",33),r()(),t(37,"th",32)(38,"span",16),s(39,"Marguen"),l(40,"p-sortIcon",33),r()(),l(41,"th",34),r())}function un(o,e){if(o&1){let i=_();t(0,"tr")(1,"td")(2,"p-button",35),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.detalleEmbarque(m))}),r()(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td")(8,"p-button",35),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.ajusteCliente(m))}),r()(),t(9,"td"),s(10),r(),t(11,"td")(12,"p-button",35),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.ajusteFechaEfectiva(m))}),r()(),t(13,"td")(14,"p-button",35),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroEstatus(m))}),r()(),t(15,"td")(16,"p-button",35),Fe(17,"currency"),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.ajusteVenta(m))}),r()(),t(18,"td"),l(19,"p-tag",36),Fe(20,"currency"),r(),t(21,"td"),l(22,"p-tag",37),Fe(23,"number"),r(),t(24,"td")(25,"p-button",38),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.datosObservaciones(m))}),r(),t(26,"p-button",39),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.registroSeguimiento(m))}),r(),t(27,"p-button",40),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.datosFacturacion(m))}),r(),t(28,"p-button",41),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.ventaAdicional(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),U("label",i.referencia),c(2),S(i.empresa),c(2),S(i.noUnidad),c(2),U("label",i.cliente),c(2),S(i.tipoUnidad),c(2),U("label",i.fecEfectivaF),c(2),U("label",i.estatus),c(2),U("label",`${Ne(17,15,me(29,ln,i.monto))} ${i.codMoneda}`),c(3),U("value",Dt(20,21,i.utilidad,"MXN","symbol","1.2-2")),c(3),d("value",Tt(23,26,i.margen,"1.2-2")+"%")("severity",i.margen>=8?"success":"danger"),c(3),d("rounded",!0),c(),d("rounded",!0),c(),d("rounded",!0),c(),d("rounded",!0)}}var mt=class o{constructor(e,i,a,m){this.dialog=e;this._utilidadServicio=i;this._embarqueServicio=a;this.messageService=m}listaEmbarques=[];ref;mostrarLoading=!1;columnasTabla=["referencia","empresa","noUnidad","cliente","tipoUnidad","fecEfectiva","estatus","venta","profit","marguen"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfo()})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}cargaInfo(){return n(this,null,function*(){this.mostrarLoading=!0;let e=yield this._utilidadServicio.obtenerSesionUsuario();this._embarqueServicio.listaEmbarques(e[0].idUsuario).subscribe({next:i=>n(this,null,function*(){i.status?this.listaEmbarques=yield i.value:this.listaEmbarques=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}detalleEmbarque(e){return n(this,null,function*(){this.ref=this.dialog.open(it,{header:"Detalle Embarque",width:"1070px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idEmbarque}),this.ref.onClose.subscribe(()=>n(this,null,function*(){yield this.cargaInfo()}))})}ventaAdicional(e){return n(this,null,function*(){this.ref=this.dialog.open(Ki,{header:"Venta Adicional",width:"700px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idEmbarque}),this.ref.onClose.subscribe(()=>n(this,null,function*(){yield this.cargaInfo()}))})}ajusteVenta(e){return n(this,null,function*(){this.ref=this.dialog.open(Yi,{header:"Ajuste Venta",width:"285px",height:"170px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}ajusteFechaEfectiva(e){return n(this,null,function*(){this.ref=this.dialog.open(tt,{header:"Ajuste Fecha Efectiva",width:"290px",height:"175px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}ajusteCliente(e){return n(this,null,function*(){this.ref=this.dialog.open(rt,{header:"Ajuste Cliente",width:"300px",height:"175px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}registroEstatus(e){return n(this,null,function*(){this.ref=this.dialog.open(at,{header:"Actualizar Estatus",width:"700px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idEmbarque}),this.ref.onClose.subscribe(()=>n(this,null,function*(){yield this.cargaInfo()}))})}registroSeguimiento(e){return n(this,null,function*(){this.ref=this.dialog.open(nt,{header:"Registro Seguimiento",width:"700px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e.idEmbarque})})}datosFacturacion(e){return n(this,null,function*(){this.ref=this.dialog.open(st,{header:"Ajuste Cliente",width:"350px",height:"260px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}datosObservaciones(e){return n(this,null,function*(){this.ref=this.dialog.open(lt,{header:"Observaciones",width:"690px",height:"240px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfo())}))})}static \u0275fac=function(i){return new(i||o)(p(ue),p(he),p(_e),p(M))};static \u0275cmp=x({type:o,selectors:[["app-SeguimientoEmbarque"]],decls:16,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idEmbarque","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Actualizar","icon","pi pi-refresh",1,"mr-2",3,"onClick"],["label","Export","icon","pi pi-upload","severity","secondary"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","referencia",2,"font-weight","bold","width","60px"],[1,"flex","items-center","gap-2"],["field","referencia"],["pSortableColumn","empresa",2,"font-weight","bold"],["field","empresa"],["pSortableColumn","noUnidad",2,"font-weight","bold"],["field","noUnidad"],["pSortableColumn","cliente",2,"font-weight","bold"],["field","cliente"],["pSortableColumn","tipoUnidad",2,"font-weight","bold"],["field","tipoUnidad"],["pSortableColumn","fecEfectiva",2,"font-weight","bold"],["field","fecEfectiva"],["pSortableColumn","estatus",2,"font-weight","bold"],["field","estatus"],["pSortableColumn","venta",2,"font-weight","bold"],["field","venta"],["pSortableColumn","profit",2,"font-weight","bold"],["field","profit"],[2,"width","170px"],["type","button","text","",3,"onClick","label"],["severity","success",3,"value"],[3,"value","severity"],["icon","pi pi-file-edit","severity","info","pTooltip","Registro Observaciones","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-list-check","severity","help","pTooltip","Registro Seguimiento","raised","","rounded","",3,"onClick","rounded"],["icon","pi pi-file","severity","success","pTooltip","Datos Facturaci\xF3n","raised","",3,"onClick","rounded"],["icon","pi pi-dollar","severity","warn","pTooltip","Venta Adicional","raised","","rounded","",3,"onClick","rounded"]],template:function(i,a){i&1&&(l(0,"p-toast")(1,"p-confirmdialog"),t(2,"div",6)(3,"p-toolbar",7),E(4,mn,1,0,"ng-template",null,0,g)(6,cn,1,0,"ng-template",null,1,g),r(),t(8,"p-table",8,2),E(10,pn,5,2,"ng-template",null,3,g)(12,dn,42,0,"ng-template",null,4,g)(14,un,29,31,"ng-template",null,5,g),r()()),i&2&&(c(8),d("value",a.listaEmbarques)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,sn))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,ne,Ue,De,Ft,Ve],encapsulation:2})};var Xe=class o{constructor(e){this.http=e}urlApi=re.endpoint+"Rol/";guardar(e){return this.http.request("post",`${this.urlApi}Guardar`,{body:{idRol:0,descrip:e.descrip}})}actualizar(e){return this.http.request("put",`${this.urlApi}Actualizar`,{body:{idRol:e.idRol,oldDescrip:e.oldDescrip,newDescrip:e.newDescrip,isActivo:e.isActivo}})}listaCatRol(){return this.http.get(`${this.urlApi}ListaCatRol`)}listaRol(){return this.http.get(`${this.urlApi}ListaRol`)}listaRolPantalla(e){return this.http.get(`${this.urlApi}ListaRolPantalla/${e}`)}guardarRolPantalla(e){return this.http.request("post",`${this.urlApi}GuardarRolPantalla`,{body:{idRol:e.idRol,idPantalla:e.idPantalla}})}borrarRolPantalla(e,i){return this.http.delete(`${this.urlApi}BorrarRolPantalla/${e}/${i}`)}static \u0275fac=function(i){return new(i||o)(ie(te))};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};var gn=()=>({width:"480px"}),vn=()=>({width:"233px"}),bn=o=>({margin:o});function hn(o,e){o&1&&(t(0,"div",12),l(1,"p-toggleswitch",13),t(2,"label",14),s(3,"Estatus"),r()())}var xi=class o{constructor(e,i,a,m,u,C){this.ref=e;this.fb=i;this.messageService=a;this.config=m;this._usuarioServicio=u;this._rolServicio=C;this.frmUsuario=this.fb.group({nombre:["",w.required],aPaterno:["",w.required],aMaterno:["",w.required],usuario:["",w.required],idRol:[0,w.required],contra:["",w.required],isEstatus:[]}),this.config.data!=null&&(this.usuario=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="392px",this.frmUsuario.patchValue({nombre:this.usuario.nombre,aPaterno:this.usuario.aPaterno,aMaterno:this.usuario.aMaterno,usuario:this.usuario.usuario,idRol:this.usuario.idRol,contra:this.usuario.contrase\u00F1a,isEstatus:this.usuario.isActivo}))}boton="Guardar";marginLeft="405px";mostrarLoading=!1;mostrarSwitch=!1;frmUsuario;listaCatRol=[];usuario;ngOnInit(){return n(this,null,function*(){yield this.cargaCatRol()})}cargaCatRol(){return n(this,null,function*(){this._rolServicio.listaCatRol().subscribe({next:e=>n(this,null,function*(){e.status&&(this.listaCatRol=yield e.value)})})})}guardar_editarUsuario(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.usuario==null){let e={nombre:this.frmUsuario.value.nombre,aPaterno:this.frmUsuario.value.aPaterno,aMaterno:this.frmUsuario.value.aMaterno,usuario:this.frmUsuario.value.usuario,contrase\u00F1a:this.frmUsuario.value.contra,idRol:this.frmUsuario.value.idRol};this._usuarioServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Usuario registrada",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idUsuario:this.usuario.idUsuario,nombre:this.frmUsuario.value.nombre,aPaterno:this.frmUsuario.value.aPaterno,aMaterno:this.frmUsuario.value.aMaterno,oldDescrip:this.usuario.usuario,newDescrip:this.frmUsuario.value.usuario,contrase\u00F1a:this.frmUsuario.value.contra,idRol:this.frmUsuario.value.idRol,isActivo:this.frmUsuario.value.isEstatus};this._usuarioServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Usuario actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(ae),p(q),p(M),p(N),p(Ri),p(Xe))};static \u0275cmp=x({type:o,selectors:[["app-ModalUsuario"]],decls:31,vars:17,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mt-2","mb-6"],["variant","on"],["pInputText","","pSize","large","formControlName","nombre","autocomplete","off",2,"width","150px"],["pInputText","","pSize","large","formControlName","aPaterno","autocomplete","off",2,"width","150px"],["pInputText","","pSize","large","formControlName","aMaterno","autocomplete","off",2,"width","150px"],["appendTo","body","size","large","optionLabel","rol","optionValue","idRol","formControlName","idRol",3,"options","filter"],["pInputText","","pSize","large","formControlName","usuario","autocomplete","off",2,"width","233px"],["formControlName","contra","size","large",3,"inputStyle","toggleMask","feedback"],["class","p-field p-col-12 flex","style","margin: 0px 0px 5px 5px",4,"ngIf"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"],[1,"p-field","p-col-12","flex",2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label"),s(5,"Nombre"),r()(),t(6,"p-floatlabel",2),l(7,"input",4),t(8,"label"),s(9,"Ape Paterno"),r()(),t(10,"p-floatlabel",2),l(11,"input",5),t(12,"label"),s(13,"Ape Materno"),r()()(),t(14,"div",1)(15,"p-floatlabel",2),l(16,"p-select",6),t(17,"label"),s(18,"Rol"),r()()(),t(19,"div",1)(20,"p-floatlabel",2),l(21,"input",7),t(22,"label"),s(23,"Usuario"),r()(),t(24,"p-floatlabel",2),l(25,"p-password",8),t(26,"label"),s(27,"Contrase\xF1a"),r()()(),E(28,hn,4,0,"div",9),t(29,"div",10)(30,"p-button",11),f("onClick",function(){return a.guardar_editarUsuario()}),r()()()),i&2&&(d("formGroup",a.frmUsuario),c(16),j(y(13,gn)),d("options",a.listaCatRol)("filter",!0),c(9),d("inputStyle",y(14,vn))("toggleMask",!0)("feedback",!1),c(3),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(15,bn,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmUsuario.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,Nt,V,H,Le],encapsulation:2})};var Cn=()=>[5,10,20];function Sn(o,e){if(o&1){let i=_();t(0,"p-button",9),f("onClick",function(){v(i);let m=h();return b(m.agregarUsuario())}),r()}}function yn(o,e){}function _n(o,e){if(o&1){let i=_();t(0,"div",10),l(1,"h5",11),t(2,"p-iconfield"),l(3,"p-inputicon",12),t(4,"input",13),f("input",function(m){v(i);let u=h(),C=$(8);return b(u.onGlobalFilter(C,m))}),r()()()}}function En(o,e){o&1&&(t(0,"tr")(1,"th",14)(2,"span",15),s(3,"Nombre "),l(4,"p-sortIcon",16),r()(),t(5,"th",17)(6,"span",15),s(7,"Usuario "),l(8,"p-sortIcon",18),r()(),t(9,"th",19)(10,"span",15),s(11,"Rol "),l(12,"p-sortIcon",20),r()(),t(13,"th",21)(14,"span",15),s(15,"Estatus "),l(16,"p-sortIcon",22),r()(),t(17,"th",23)(18,"span",15),s(19,"Fec. Registro "),l(20,"p-sortIcon",24),r()()())}function xn(o,e){if(o&1){let i=_();t(0,"tr")(1,"td",25)(2,"p-button",26),f("onClick",function(){let m=v(i).$implicit,u=h();return b(u.modificarUsuario(m))}),r()(),t(3,"td"),s(4),r(),t(5,"td"),s(6),r(),t(7,"td"),l(8,"p-tag",27),r(),t(9,"td"),s(10),r()()}if(o&2){let i=e.$implicit;c(2),U("label",i.nombreCompleto),c(2),S(i.usuario),c(2),S(i.rol),c(2),d("value",i.estatus)("severity",i.isActivo?"success":"danger"),c(2),S(i.fecRegistro)}}var pt=class o{constructor(e,i,a){this.messageService=e;this._usuarioServicio=i;this.dialog=a}ref;mostrarLoading=!0;listaUsuario=[];columnasTabla=["nombreCompleto","usuario","rol","estatus","fecRegistro"];ngOnInit(){return n(this,null,function*(){yield this.cargarInfoTabla()})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargarInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._usuarioServicio.listaUsuario().subscribe({next:e=>n(this,null,function*(){e.status?(this.listaUsuario=yield e.value,this.mostrarLoading=!1):(this.listaUsuario=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}agregarUsuario(){return n(this,null,function*(){this.ref=this.dialog.open(xi,{header:"Nueva Usuario",width:"520px",height:"308px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargarInfoTabla())}))})}modificarUsuario(e){return n(this,null,function*(){this.ref=this.dialog.open(xi,{header:"Nueva Usuario",width:"520px",height:"335px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargarInfoTabla())}))})}static \u0275fac=function(i){return new(i||o)(p(M),p(Ri),p(ue))};static \u0275cmp=x({type:o,selectors:[["app-Usuario"]],decls:15,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idEmpresa","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","nombreCompleto"],[1,"flex","items-center","gap-2"],["field","nombreCompleto"],["pSortableColumn","usuario"],["field","usuario"],["pSortableColumn","rol"],["field","rol"],["pSortableColumn","estatus"],["field","estatus"],["pSortableColumn","fecRegistro"],["field","fecRegistro"],[2,"width","220px"],["type","button","text","",3,"onClick","label"],[3,"value","severity"]],template:function(i,a){i&1&&(l(0,"p-toast"),t(1,"div",6)(2,"p-toolbar",7),E(3,Sn,1,0,"ng-template",null,0,g)(5,yn,0,0,"ng-template",null,1,g),r(),t(7,"p-table",8,2),E(9,_n,5,0,"ng-template",null,3,g)(11,En,21,0,"ng-template",null,4,g)(13,xn,11,6,"ng-template",null,5,g),r()()),i&2&&(c(7),d("value",a.listaUsuario)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,Cn))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,De],encapsulation:2})};var wn=o=>({margin:o});function Rn(o,e){o&1&&(t(0,"div",7),l(1,"p-toggleswitch",8),t(2,"label",9),s(3,"Estatus"),r()())}var wi=class o{constructor(e,i,a,m,u){this.fb=e;this.ref=i;this.config=a;this.messageService=m;this._rolServicio=u;this.frmRol=this.fb.group({rol:["",w.required],isEstatus:[]}),this.config.data!=null&&(this.rol=this.config.data,this.mostrarSwitch=!0,this.boton="Actualizar",this.marginLeft="116px",this.frmRol.patchValue({rol:this.rol.rol,isEstatus:this.rol.isActivo}))}boton="Guardar";marginLeft="126px";mostrarLoading=!1;mostrarSwitch=!1;frmRol;rol;ngOnInit(){return n(this,null,function*(){})}guardar_editarRol(){return n(this,null,function*(){if(this.mostrarLoading=!0,this.rol==null){let e={descrip:this.frmRol.value.rol};this._rolServicio.guardar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Rol registrado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}else{let e={idRol:this.rol.idRol,oldDescrip:this.rol.rol,newDescrip:this.frmRol.value.rol,isActivo:this.frmRol.value.isEstatus};this._rolServicio.actualizar(e).subscribe({next:i=>n(this,null,function*(){i.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Rol actualizado",life:3e3}),this.ref.close(!0)):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})}static \u0275fac=function(i){return new(i||o)(p(q),p(ae),p(N),p(M),p(Xe))};static \u0275cmp=x({type:o,selectors:[["app-ModalRol"]],decls:9,vars:8,consts:[[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mb-4","mt-2"],["variant","on"],["pInputText","","pSize","large","formControlName","rol","autocomplete","off",2,"width","200px"],["style","margin: 0px 0px 5px 5px",4,"ngIf"],[3,"ngStyle"],["type","button",3,"onClick","label","loading","disabled"],[2,"margin","0px 0px 5px 5px"],["formControlName","isEstatus"],[1,"leading-none","ml-2","text-xl","align-baseline"]],template:function(i,a){i&1&&(t(0,"form",0)(1,"div",1)(2,"p-floatlabel",2),l(3,"input",3),t(4,"label"),s(5,"Rol"),r()()(),E(6,Rn,4,0,"div",4),t(7,"div",5)(8,"p-button",6),f("onClick",function(){return a.guardar_editarRol()}),r()()()),i&2&&(d("formGroup",a.frmRol),c(6),d("ngIf",a.mostrarSwitch),c(),d("ngStyle",me(6,wn,"0px 0px 0px "+a.marginLeft)),c(),U("label",a.boton),d("loading",a.mostrarLoading)("disabled",a.frmRol.invalid))},dependencies:[I,Ae,be,F,oe,D,P,A,L,T,R,V,Le],encapsulation:2})};var In=()=>({width:"auto"});function Mn(o,e){}function Tn(o,e){if(o&1){let i=_();t(0,"p-iconfield"),l(1,"p-inputicon",13),t(2,"input",14),f("input",function(m){v(i);let u=h(),C=$(14);return b(u.onGlobalFilter(C,m))}),r()()}o&2&&(c(2),le("width","150px"))}function Dn(o,e){if(o&1){let i=_();t(0,"tr")(1,"td"),s(2),r(),t(3,"td"),s(4),r(),t(5,"td")(6,"p-button",20),f("onClick",function(m){let u=v(i).$implicit,C=h(2);return b(C.borrarPantalla(m,u))}),r()()()}if(o&2){let i=e.$implicit;c(2),S(i.pantalla),c(2),S(i.fecRegistro),c(2),d("rounded",!0)}}function Pn(o,e){o&1&&(t(0,"tr")(1,"th",15)(2,"span",16),s(3,"Pantalla "),l(4,"p-sortIcon",17),r()(),t(5,"th",18)(6,"span",16),s(7,"Fec. Registro "),l(8,"p-sortIcon",19),r()(),l(9,"th"),r(),E(10,Dn,7,3,"ng-template",null,4,g))}var dt=class o{constructor(e,i,a,m,u,C){this.fb=e;this.config=i;this._rolServicio=a;this._pantallaServicio=m;this.messageService=u;this.confirmationService=C;this.frmRol=this.fb.group({idPantalla:[0]}),this.config.data!=null&&(this.rol=this.config.data)}rol;frmRol;mostrarLoading=!1;listaConsulRolPantalla=[];columnasTabla=["pantalla","fecRegistro"];listaCatPantalla=[];ngOnInit(){return n(this,null,function*(){yield this.cargarInfoTabla(),yield this.cargaCatPantalla()})}cargaCatPantalla(){return n(this,null,function*(){this._pantallaServicio.ListaCatPantallaByRol(this.rol?.idRol).subscribe({next:e=>n(this,null,function*(){e.status?this.listaCatPantalla=yield e.value:this.listaCatPantalla=[]})})})}onGlobalFilter(e,i){return n(this,null,function*(){e.filterGlobal(i.target.value,"contains")})}cargarInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._rolServicio.listaRolPantalla(this.rol?.idRol).subscribe({next:e=>n(this,null,function*(){e.status?(this.listaConsulRolPantalla=yield e.value,this.mostrarLoading=!1):(this.listaConsulRolPantalla=[],this.mostrarLoading=!1)}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}guardarPantalla(){return n(this,null,function*(){this.mostrarLoading=!0;let e={idRol:this.rol?.idRol,idPantalla:this.frmRol.value.idPantalla};this._rolServicio.guardarRolPantalla(e).subscribe({next:i=>n(this,null,function*(){i.status?(yield this.cargarInfoTabla(),yield this.cargaCatPantalla(),yield this.borrarDatos()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:i.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}borrarDatos(){return n(this,null,function*(){this.frmRol.patchValue({idPantalla:0})})}borrarPantalla(e,i){return n(this,null,function*(){this.confirmationService.confirm({target:e.target,header:"Confirmaci\xF3n",message:`\xBFDeseas borrar la pantalla ${i.pantalla}?`,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Borrar",severity:"danger"},accept:()=>{this.mostrarLoading=!0,this._rolServicio.borrarRolPantalla(i.idRol,i.idPantalla).subscribe({next:a=>n(this,null,function*(){a.status?(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Pantalla eliminada",life:3e3}),yield this.cargarInfoTabla(),yield this.cargaCatPantalla()):(this.mostrarLoading=!1,this.messageService.add({severity:"warn",summary:"Advertencia",detail:a.msg,life:3e3}))}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})}})})}static \u0275fac=function(i){return new(i||o)(p(q),p(N),p(Xe),p(Ot),p(M),p(de))};static \u0275cmp=x({type:o,selectors:[["app-ModalConfigPantalla"]],decls:17,vars:14,consts:[["start",""],["end",""],["dt",""],["header",""],["body",""],[1,"card"],[3,"formGroup"],[1,"flex","flex-wrap","items-start","gap-4","mb-4","mt-2"],["variant","on",1,""],["appendTo","body","optionLabel","pantalla","optionValue","idPantalla","formControlName","idPantalla",3,"options","filter"],["label","Guardar","icon","pi pi-save",3,"onClick","loading"],["styleClass","mb-2"],["dataKey","idPantalla","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","columns","paginator","tableStyle","rowHover","showCurrentPageReport"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","pantalla",2,"width","260px"],[1,"flex","items-center","gap-2"],["field","pantalla"],["pSortableColumn","fecRegistro",2,"width","260px"],["field","fecRegistro"],["icon","pi pi-trash","severity","danger","raised","","rounded","","pTooltip","Borrar","tooltipPosition","bottom",3,"onClick","rounded"]],template:function(i,a){if(i&1){let m=_();t(0,"div",5)(1,"form",6)(2,"div",7)(3,"p-floatlabel",8),l(4,"p-select",9),t(5,"label"),s(6,"Pantalla"),r()(),t(7,"p-button",10),f("onClick",function(){return v(m),b(a.guardarPantalla())}),r()(),t(8,"p-toolbar",11),E(9,Mn,0,0,"ng-template",null,0,g)(11,Tn,3,2,"ng-template",null,1,g),r(),t(13,"p-table",12,2),E(15,Pn,12,0,"ng-template",null,3,g),r()()()}i&2&&(c(),d("formGroup",a.frmRol),c(3),le("width","320px"),d("options",a.listaCatPantalla)("filter",!0),c(3),d("loading",a.mostrarLoading),c(6),d("value",a.listaConsulRolPantalla)("rows",4)("columns",a.columnasTabla)("paginator",!0)("tableStyle",y(13,In))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[I,F,D,P,A,L,T,R,V,G,k,B,Y,X,K,H,ne],encapsulation:2})};var Fn=()=>[10,20,50];function An(o,e){if(o&1){let i=_();t(0,"p-button",9),f("click",function(){v(i);let m=h();return b(m.agregarRol())}),r()}}function Ln(o,e){}function qn(o,e){if(o&1){let i=_();t(0,"div",10),l(1,"h5",11),t(2,"p-iconfield"),l(3,"p-inputicon",12),t(4,"input",13),f("input",function(m){v(i);let u=h(),C=$(9);return b(u.onGlobalFilter(C,m))}),r()()()}o&2&&(c(4),le("width","300px"))}function Vn(o,e){o&1&&(t(0,"tr")(1,"th",14)(2,"span",15),s(3,"Rol "),l(4,"p-sortIcon",16),r()(),t(5,"th",14)(6,"span",15),s(7,"estatus "),l(8,"p-sortIcon",16),r()(),l(9,"th"),r())}function On(o,e){if(o&1){let i=_();t(0,"tr")(1,"td")(2,"p-button",17),f("click",function(){let m=v(i).$implicit,u=h();return b(u.modificarRol(m))}),r()(),t(3,"td"),l(4,"p-tag",18),r(),t(5,"td")(6,"p-button",19),f("click",function(){let m=v(i).$implicit,u=h();return b(u.configurarPantalla(m))}),r()()()}if(o&2){let i=e.$implicit;c(2),U("label",i.rol),c(2),d("value",i.estatus)("severity",i.isActivo?"success":"danger"),c(2),d("rounded",!0)}}var ut=class o{constructor(e,i,a){this.messageService=e;this.dialog=i;this._rolServicio=a}ref;mostrarLoading=!1;listaRol=[];columnasTabla=["rol","estatus"];ngOnInit(){return n(this,null,function*(){yield this.cargaInfoTabla()})}cargaInfoTabla(){return n(this,null,function*(){this.mostrarLoading=!0,this._rolServicio.listaRol().subscribe({next:e=>n(this,null,function*(){e.status?this.listaRol=yield e.value:this.listaRol=[]}),complete:()=>{this.mostrarLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error, favor de contactar al administrador del sitio.",life:3e3}),this.mostrarLoading=!1}})})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}agregarRol(){return n(this,null,function*(){this.ref=this.dialog.open(wi,{header:"Nuevo Rol",width:"245px",height:"180px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:null}),this.ref.onClose.subscribe(e=>n(this,null,function*(){e&&(yield this.cargaInfoTabla())}))})}modificarRol(e){return n(this,null,function*(){this.ref=this.dialog.open(wi,{header:"Modificar Rol",width:"245px",height:"210px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e}),this.ref.onClose.subscribe(i=>n(this,null,function*(){i&&(yield this.cargaInfoTabla())}))})}configurarPantalla(e){return n(this,null,function*(){this.ref=this.dialog.open(dt,{header:"Asignar Pantallas",width:"510px",modal:!0,focusOnShow:!1,closable:!0,draggable:!0,dismissableMask:!0,data:e})})}static \u0275fac=function(i){return new(i||o)(p(M),p(ue),p(Xe))};static \u0275cmp=x({type:o,selectors:[["app-Rol"]],decls:16,vars:9,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],[1,"card"],["styleClass","mb-6"],["dataKey","idCliente","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table-auto","w-full",3,"value","loading","rows","columns","paginator","rowHover","rowsPerPageOptions","showCurrentPageReport"],["label","Nuevo","icon","pi pi-plus",1,"mr-2",3,"click"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["pSortableColumn","rol"],[1,"flex","items-center","gap-2"],["field","rol"],["type","button","text","",3,"click","label"],[3,"value","severity"],["icon","pi pi-desktop","severity","info","pTooltip","Configurar Pantalla","raised","","rounded","",3,"click","rounded"]],template:function(i,a){i&1&&(l(0,"p-toast")(1,"p-confirmdialog"),t(2,"div",6)(3,"p-toolbar",7),E(4,An,1,0,"ng-template",null,0,g)(6,Ln,0,0,"ng-template",null,1,g),r(),t(8,"p-table",8,2),E(10,qn,5,2,"ng-template",null,3,g)(12,Vn,10,0,"ng-template",null,4,g)(14,On,7,4,"ng-template",null,5,g),r()()),i&2&&(c(8),d("value",a.listaRol)("loading",a.mostrarLoading)("rows",10)("columns",a.columnasTabla)("paginator",!0)("rowHover",!0)("rowsPerPageOptions",y(8,Fn))("showCurrentPageReport",!0))},dependencies:[I,T,R,Ce,G,k,B,Y,X,K,ne,Ue,De],encapsulation:2})};var ft=class o{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=x({type:o,selectors:[["app-ReporteSeguimientoEmbarque"]],decls:2,vars:0,template:function(i,a){i&1&&(t(0,"p"),s(1,` ReporteSeguimientoEmbarque works!
`),r())},encapsulation:2})};var lp=[{path:"Cliente",data:{breadcrumb:"Cliente"},component:Fi},{path:"Empresa",data:{breadcrumb:"Empresa"},component:Li},{path:"Proveedor",data:{breadcrumb:"Proveedor"},component:Vi},{path:"Pais",data:{breadcrumb:"Pa\xEDs"},component:Oi},{path:"Estado",data:{breadcrumb:"Estado"},component:ji},{path:"Municipio",data:{breadcrumb:"Ciudad/Municipio"},component:Ui},{path:"Solicitud",data:{breadcrumb:"Solicitud"},component:$i},{path:"Ruta",data:{breadcrumb:"Ruta"},component:Xi},{path:"SeguimientoEmbarque",data:{breadcrumb:"Seguimiento Embarque"},component:mt},{path:"Usuario",data:{breadcrumb:"Usuario"},component:pt},{path:"Rol",data:{breadcrumb:"Rol"},component:ut},{path:"ReporteSeguimientoEmbarque",data:{breadcrumb:"Rol"},component:ft},{path:"button",data:{breadcrumb:"Button"},loadComponent:()=>import("./chunk-FE3BYIO3.js").then(o=>o.ButtonDemo)},{path:"charts",data:{breadcrumb:"Charts"},loadComponent:()=>import("./chunk-YIFQDY54.js").then(o=>o.ChartDemo)},{path:"file",data:{breadcrumb:"File"},loadComponent:()=>import("./chunk-XK74EBK6.js").then(o=>o.FileDemo)},{path:"formlayout",data:{breadcrumb:"Form Layout"},loadComponent:()=>import("./chunk-P7GVZ4BU.js").then(o=>o.FormLayoutDemo)},{path:"input",data:{breadcrumb:"Input"},loadComponent:()=>import("./chunk-5P7VPH3B.js").then(o=>o.InputDemo)},{path:"list",data:{breadcrumb:"List"},loadComponent:()=>import("./chunk-HEOQED2N.js").then(o=>o.ListDemo)},{path:"misc",data:{breadcrumb:"Misc"},loadComponent:()=>import("./chunk-XKPFIET6.js").then(o=>o.MiscDemo)},{path:"panel",data:{breadcrumb:"Panel"},loadComponent:()=>import("./chunk-J3NEV6L6.js").then(o=>o.PanelsDemo)},{path:"timeline",data:{breadcrumb:"Timeline"},loadComponent:()=>import("./chunk-HQ3AHDQQ.js").then(o=>o.TimelineDemo)},{path:"overlay",data:{breadcrumb:"Overlay"},loadComponent:()=>import("./chunk-72H7VGQL.js").then(o=>o.OverlayDemo)},{path:"tree",data:{breadcrumb:"Tree"},loadComponent:()=>import("./chunk-I3PMMEQX.js").then(o=>o.TreeDemo)},{path:"**",redirectTo:"/notfound"}];export{lp as default};
